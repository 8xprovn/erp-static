!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap={},e.jQuery)}(this,(function(e,t){"use strict";var n=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(t);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=n.default(e).css("transition-duration"),i=n.default(e).css("transition-delay"),r=parseFloat(t),o=parseFloat(i);return r||o?(t=t.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(t)+parseFloat(i))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){n.default(e).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=t[i],s=o&&a.isElement(o)?"element":null===(l=o)||void 0===l?""+l:{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(s))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}var l},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?a.findShadowRoot(e.parentNode):null},jQueryDetection:function(){if(void 0===n.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=n.default.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};a.jQueryDetection(),n.default.fn.emulateTransitionEnd=function(e){var t=this,i=!1;return n.default(this).one(a.TRANSITION_END,(function(){i=!0})),setTimeout((function(){i||a.triggerTransitionEnd(t)}),e),this},n.default.event.special[a.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(e){if(n.default(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var s="alert",l=n.default.fn[s],u=function(){function e(e){this._element=e}var t=e.prototype;return t.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){n.default.removeData(this._element,"bs.alert"),this._element=null},t._getRootElement=function(e){var t=a.getSelectorFromElement(e),i=!1;return t&&(i=document.querySelector(t)),i||(i=n.default(e).closest(".alert")[0]),i},t._triggerCloseEvent=function(e){var t=n.default.Event("close.bs.alert");return n.default(e).trigger(t),t},t._removeElement=function(e){var t=this;if(n.default(e).removeClass("show"),n.default(e).hasClass("fade")){var i=a.getTransitionDurationFromElement(e);n.default(e).one(a.TRANSITION_END,(function(n){return t._destroyElement(e,n)})).emulateTransitionEnd(i)}else this._destroyElement(e)},t._destroyElement=function(e){n.default(e).detach().trigger("closed.bs.alert").remove()},e._jQueryInterface=function(t){return this.each((function(){var i=n.default(this),r=i.data("bs.alert");r||(r=new e(this),i.data("bs.alert",r)),"close"===t&&r[t](this)}))},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},r(e,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),e}();n.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',u._handleDismiss(new u)),n.default.fn[s]=u._jQueryInterface,n.default.fn[s].Constructor=u,n.default.fn[s].noConflict=function(){return n.default.fn[s]=l,u._jQueryInterface};var c=n.default.fn.button,d=function(){function e(e){this._element=e,this.shouldAvoidTriggerChange=!1}var t=e.prototype;return t.toggle=function(){var e=!0,t=!0,i=n.default(this._element).closest('[data-toggle="buttons"]')[0];if(i){var r=this._element.querySelector('input:not([type="hidden"])');if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains("active"))e=!1;else{var o=i.querySelector(".active");o&&n.default(o).removeClass("active")}e&&("checkbox"!==r.type&&"radio"!==r.type||(r.checked=!this._element.classList.contains("active")),this.shouldAvoidTriggerChange||n.default(r).trigger("change")),r.focus(),t=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(t&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),e&&n.default(this._element).toggleClass("active"))},t.dispose=function(){n.default.removeData(this._element,"bs.button"),this._element=null},e._jQueryInterface=function(t,i){return this.each((function(){var r=n.default(this),o=r.data("bs.button");o||(o=new e(this),r.data("bs.button",o)),o.shouldAvoidTriggerChange=i,"toggle"===t&&o[t]()}))},r(e,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),e}();n.default(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(e){var t=e.target,i=t;if(n.default(t).hasClass("btn")||(t=n.default(t).closest(".btn")[0]),!t||t.hasAttribute("disabled")||t.classList.contains("disabled"))e.preventDefault();else{var r=t.querySelector('input:not([type="hidden"])');if(r&&(r.hasAttribute("disabled")||r.classList.contains("disabled")))return void e.preventDefault();"INPUT"!==i.tagName&&"LABEL"===t.tagName||d._jQueryInterface.call(n.default(t),"toggle","INPUT"===i.tagName)}})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(e){var t=n.default(e.target).closest(".btn")[0];n.default(t).toggleClass("focus",/^focus(in)?$/.test(e.type))})),n.default(window).on("load.bs.button.data-api",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),t=0,n=e.length;t<n;t++){var i=e[t],r=i.querySelector('input:not([type="hidden"])');r.checked||r.hasAttribute("checked")?i.classList.add("active"):i.classList.remove("active")}for(var o=0,a=(e=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;o<a;o++){var s=e[o];"true"===s.getAttribute("aria-pressed")?s.classList.add("active"):s.classList.remove("active")}})),n.default.fn.button=d._jQueryInterface,n.default.fn.button.Constructor=d,n.default.fn.button.noConflict=function(){return n.default.fn.button=c,d._jQueryInterface};var f="carousel",h=n.default.fn[f],p={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},m={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},g={TOUCH:"touch",PEN:"pen"},v=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var t=e.prototype;return t.next=function(){this._isSliding||this._slide("next")},t.nextWhenVisible=function(){var e=n.default(this._element);!document.hidden&&e.is(":visible")&&"hidden"!==e.css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide("prev")},t.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(a.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(e){var t=this;this._activeElement=this._element.querySelector(".active.carousel-item");var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)n.default(this._element).one("slid.bs.carousel",(function(){return t.to(e)}));else{if(i===e)return this.pause(),void this.cycle();var r=e>i?"next":"prev";this._slide(r,this._items[e])}},t.dispose=function(){n.default(this._element).off(".bs.carousel"),n.default.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(e){return e=o({},p,e),a.typeCheckConfig(f,e,m),e},t._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t>0&&this.prev(),t<0&&this.next()}},t._addEventListeners=function(){var e=this;this._config.keyboard&&n.default(this._element).on("keydown.bs.carousel",(function(t){return e._keydown(t)})),"hover"===this._config.pause&&n.default(this._element).on("mouseenter.bs.carousel",(function(t){return e.pause(t)})).on("mouseleave.bs.carousel",(function(t){return e.cycle(t)})),this._config.touch&&this._addTouchEventListeners()},t._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var t=function(t){e._pointerEvent&&g[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},i=function(t){e._pointerEvent&&g[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),500+e._config.interval))};n.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",(function(e){return e.preventDefault()})),this._pointerEvent?(n.default(this._element).on("pointerdown.bs.carousel",(function(e){return t(e)})),n.default(this._element).on("pointerup.bs.carousel",(function(e){return i(e)})),this._element.classList.add("pointer-event")):(n.default(this._element).on("touchstart.bs.carousel",(function(e){return t(e)})),n.default(this._element).on("touchmove.bs.carousel",(function(t){return function(t){t.originalEvent.touches&&t.originalEvent.touches.length>1?e.touchDeltaX=0:e.touchDeltaX=t.originalEvent.touches[0].clientX-e.touchStartX}(t)})),n.default(this._element).on("touchend.bs.carousel",(function(e){return i(e)})))}},t._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},t._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},t._getItemByDirection=function(e,t){var n="next"===e,i="prev"===e,r=this._getItemIndex(t),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return t;var a=(r+("prev"===e?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},t._triggerSlideEvent=function(e,t){var i=this._getItemIndex(e),r=this._getItemIndex(this._element.querySelector(".active.carousel-item")),o=n.default.Event("slide.bs.carousel",{relatedTarget:e,direction:t,from:r,to:i});return n.default(this._element).trigger(o),o},t._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var t=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));n.default(t).removeClass("active");var i=this._indicatorsElement.children[this._getItemIndex(e)];i&&n.default(i).addClass("active")}},t._updateInterval=function(){var e=this._activeElement||this._element.querySelector(".active.carousel-item");if(e){var t=parseInt(e.getAttribute("data-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}},t._slide=function(e,t){var i,r,o,s=this,l=this._element.querySelector(".active.carousel-item"),u=this._getItemIndex(l),c=t||l&&this._getItemByDirection(e,l),d=this._getItemIndex(c),f=Boolean(this._interval);if("next"===e?(i="carousel-item-left",r="carousel-item-next",o="left"):(i="carousel-item-right",r="carousel-item-prev",o="right"),c&&n.default(c).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(c,o).isDefaultPrevented()&&l&&c){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(c),this._activeElement=c;var h=n.default.Event("slid.bs.carousel",{relatedTarget:c,direction:o,from:u,to:d});if(n.default(this._element).hasClass("slide")){n.default(c).addClass(r),a.reflow(c),n.default(l).addClass(i),n.default(c).addClass(i);var p=a.getTransitionDurationFromElement(l);n.default(l).one(a.TRANSITION_END,(function(){n.default(c).removeClass(i+" "+r).addClass("active"),n.default(l).removeClass("active "+r+" "+i),s._isSliding=!1,setTimeout((function(){return n.default(s._element).trigger(h)}),0)})).emulateTransitionEnd(p)}else n.default(l).removeClass("active"),n.default(c).addClass("active"),this._isSliding=!1,n.default(this._element).trigger(h);f&&this.cycle()}},e._jQueryInterface=function(t){return this.each((function(){var i=n.default(this).data("bs.carousel"),r=o({},p,n.default(this).data());"object"==typeof t&&(r=o({},r,t));var a="string"==typeof t?t:r.slide;if(i||(i=new e(this,r),n.default(this).data("bs.carousel",i)),"number"==typeof t)i.to(t);else if("string"==typeof a){if(void 0===i[a])throw new TypeError('No method named "'+a+'"');i[a]()}else r.interval&&r.ride&&(i.pause(),i.cycle())}))},e._dataApiClickHandler=function(t){var i=a.getSelectorFromElement(this);if(i){var r=n.default(i)[0];if(r&&n.default(r).hasClass("carousel")){var s=o({},n.default(r).data(),n.default(this).data()),l=this.getAttribute("data-slide-to");l&&(s.interval=!1),e._jQueryInterface.call(n.default(r),s),l&&n.default(r).data("bs.carousel").to(l),t.preventDefault()}}},r(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return p}}]),e}();n.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",v._dataApiClickHandler),n.default(window).on("load.bs.carousel.data-api",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),t=0,i=e.length;t<i;t++){var r=n.default(e[t]);v._jQueryInterface.call(r,r.data())}})),n.default.fn[f]=v._jQueryInterface,n.default.fn[f].Constructor=v,n.default.fn[f].noConflict=function(){return n.default.fn[f]=h,v._jQueryInterface};var y="collapse",b=n.default.fn[y],_={toggle:!0,parent:""},w={toggle:"boolean",parent:"(string|element)"},S=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),i=0,r=n.length;i<r;i++){var o=n[i],s=a.getSelectorFromElement(o),l=[].slice.call(document.querySelectorAll(s)).filter((function(t){return t===e}));null!==s&&l.length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=e.prototype;return t.toggle=function(){n.default(this._element).hasClass("show")?this.hide():this.show()},t.show=function(){var t,i,r=this;if(!(this._isTransitioning||n.default(this._element).hasClass("show")||(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(e){return"string"==typeof r._config.parent?e.getAttribute("data-parent")===r._config.parent:e.classList.contains("collapse")}))).length&&(t=null),t&&(i=n.default(t).not(this._selector).data("bs.collapse"))&&i._isTransitioning))){var o=n.default.Event("show.bs.collapse");if(n.default(this._element).trigger(o),!o.isDefaultPrevented()){t&&(e._jQueryInterface.call(n.default(t).not(this._selector),"hide"),i||n.default(t).data("bs.collapse",null));var s=this._getDimension();n.default(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[s]=0,this._triggerArray.length&&n.default(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var l="scroll"+(s[0].toUpperCase()+s.slice(1)),u=a.getTransitionDurationFromElement(this._element);n.default(this._element).one(a.TRANSITION_END,(function(){n.default(r._element).removeClass("collapsing").addClass("collapse show"),r._element.style[s]="",r.setTransitioning(!1),n.default(r._element).trigger("shown.bs.collapse")})).emulateTransitionEnd(u),this._element.style[s]=this._element[l]+"px"}}},t.hide=function(){var e=this;if(!this._isTransitioning&&n.default(this._element).hasClass("show")){var t=n.default.Event("hide.bs.collapse");if(n.default(this._element).trigger(t),!t.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",a.reflow(this._element),n.default(this._element).addClass("collapsing").removeClass("collapse show");var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var s=this._triggerArray[o],l=a.getSelectorFromElement(s);null!==l&&(n.default([].slice.call(document.querySelectorAll(l))).hasClass("show")||n.default(s).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[i]="";var u=a.getTransitionDurationFromElement(this._element);n.default(this._element).one(a.TRANSITION_END,(function(){e.setTransitioning(!1),n.default(e._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")})).emulateTransitionEnd(u)}}},t.setTransitioning=function(e){this._isTransitioning=e},t.dispose=function(){n.default.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(e){return(e=o({},_,e)).toggle=Boolean(e.toggle),a.typeCheckConfig(y,e,w),e},t._getDimension=function(){return n.default(this._element).hasClass("width")?"width":"height"},t._getParent=function(){var t,i=this;a.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(t.querySelectorAll(r));return n.default(o).each((function(t,n){i._addAriaAndCollapsedClass(e._getTargetFromElement(n),[n])})),t},t._addAriaAndCollapsedClass=function(e,t){var i=n.default(e).hasClass("show");t.length&&n.default(t).toggleClass("collapsed",!i).attr("aria-expanded",i)},e._getTargetFromElement=function(e){var t=a.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(t){return this.each((function(){var i=n.default(this),r=i.data("bs.collapse"),a=o({},_,i.data(),"object"==typeof t&&t?t:{});if(!r&&a.toggle&&"string"==typeof t&&/show|hide/.test(t)&&(a.toggle=!1),r||(r=new e(this,a),i.data("bs.collapse",r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t]()}}))},r(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return _}}]),e}();n.default(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var t=n.default(this),i=a.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(i));n.default(r).each((function(){var e=n.default(this),i=e.data("bs.collapse")?"toggle":t.data();S._jQueryInterface.call(e,i)}))})),n.default.fn[y]=S._jQueryInterface,n.default.fn[y].Constructor=S,n.default.fn[y].noConflict=function(){return n.default.fn[y]=b,S._jQueryInterface};var E="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,C=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(E&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),x=E&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),C))}};function T(e){return e&&"[object Function]"==={}.toString.call(e)}function I(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function k(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function O(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=I(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:O(k(e))}function A(e){return e&&e.referenceNode?e.referenceNode:e}var D=E&&!(!window.MSInputMethodContext||!document.documentMode),P=E&&/MSIE 10/.test(navigator.userAgent);function N(e){return 11===e?D:10===e?P:D||P}function R(e){if(!e)return document.documentElement;for(var t=N(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===I(n,"position")?R(n):n:e?e.ownerDocument.documentElement:document.documentElement}function L(e){return null!==e.parentNode?L(e.parentNode):e}function F(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a,s,l=o.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&R(a.firstElementChild)!==a?R(l):l;var u=L(e);return u.host?F(u.host,t):F(e,L(t).host)}function M(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}return e[t]}function B(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function V(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],N(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function $(e){var t=e.body,n=e.documentElement,i=N(10)&&getComputedStyle(n);return{height:V("Height",t,n,i),width:V("Width",t,n,i)}}var j=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),U=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function q(e){return z({},e,{right:e.left+e.width,bottom:e.top+e.height})}function H(e){var t={};try{if(N(10)){t=e.getBoundingClientRect();var n=M(e,"top"),i=M(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?$(e.ownerDocument):{},a=o.width||e.clientWidth||r.width,s=o.height||e.clientHeight||r.height,l=e.offsetWidth-a,u=e.offsetHeight-s;if(l||u){var c=I(e);l-=B(c,"x"),u-=B(c,"y"),r.width-=l,r.height-=u}return q(r)}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=N(10),r="HTML"===t.nodeName,o=H(e),a=H(t),s=O(e),l=I(t),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&r&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=q({top:o.top-a.top-u,left:o.left-a.left-c,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!i&&r){var f=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);d.top-=u-f,d.bottom-=u-f,d.left-=c-h,d.right-=c-h,d.marginTop=f,d.marginLeft=h}return(i&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=M(t,"top"),r=M(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}(d,t)),d}function W(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===I(e,"position"))return!0;var n=k(e);return!!n&&W(n)}function Y(e){if(!e||!e.parentElement||N())return document.documentElement;for(var t=e.parentElement;t&&"none"===I(t,"transform");)t=t.parentElement;return t||document.documentElement}function K(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=r?Y(e):F(e,A(t));if("viewport"===i)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=G(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:M(n),s=t?0:M(n,"left");return q({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o})}(a,r);else{var s=void 0;"scrollParent"===i?"BODY"===(s=O(k(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===i?e.ownerDocument.documentElement:i;var l=G(s,a,r);if("HTML"!==s.nodeName||W(a))o=l;else{var u=$(e.ownerDocument),c=u.height,d=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}}var f="number"==typeof(n=n||0);return o.left+=f?n:n.left||0,o.top+=f?n:n.top||0,o.right-=f?n:n.right||0,o.bottom-=f?n:n.bottom||0,o}function X(e){return e.width*e.height}function Z(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=K(n,i,o,r),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return z({key:e},s[e],{area:X(s[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function Q(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return G(n,i?Y(t):F(t,A(n)),i)}function J(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function ee(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function te(e,t,n){n=n.split("-")[0];var i=J(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[a]=t[a]+t[l]/2-i[l]/2,r[s]=n===s?t[s]-i[u]:t[ee(s)],r}function ne(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function ie(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=ne(e,(function(e){return e[t]===n}));return e.indexOf(i)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&T(n)&&(t.offsets.popper=q(t.offsets.popper),t.offsets.reference=q(t.offsets.reference),t=n(t,e))})),t}function re(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Q(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Z(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=te(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=ie(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function oe(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function ae(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function se(){return this.state.isDestroyed=!0,oe(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ae("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function le(e){var t=e.ownerDocument;return t?t.defaultView:window}function ue(){this.state.eventsEnabled||(this.state=function(e,t,n,i){n.updateBound=i,le(e).addEventListener("resize",n.updateBound,{passive:!0});var r=O(e);return function e(t,n,i,r){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(n,i,{passive:!0}),o||e(O(a.parentNode),n,i,r),r.push(a)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}function ce(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,le(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function de(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function fe(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&de(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var he=E&&/Firefox/i.test(navigator.userAgent);function pe(e,t,n){var i=ne(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var me=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ge=me.slice(3);function ve(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ge.indexOf(e),i=ge.slice(n+1).concat(ge.slice(0,n));return t?i.reverse():i}var ye={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:U({},l,o[l]),end:U({},l,o[l]+o[u]-a[u])};e.offsets.popper=z({},a,c[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,i=t.offset,r=e.placement,o=e.offsets,a=o.popper,s=o.reference,l=r.split("-")[0];return n=de(+i)?[+i,0]:function(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(ne(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(u=u.map((function(e,i){var r=(1===i?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return e;if(0===a.indexOf("%")){return q("%p"===a?n:i)[t]/100*o}return"vh"===a||"vw"===a?("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(e,r,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){de(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}(i,a,s,l),"left"===l?(a.top+=n[0],a.left-=n[1]):"right"===l?(a.top+=n[0],a.left+=n[1]):"top"===l?(a.left+=n[0],a.top-=n[1]):"bottom"===l&&(a.left+=n[0],a.top+=n[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||R(e.instance.popper);e.instance.reference===n&&(n=R(n));var i=ae("transform"),r=e.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=K(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=o,r.left=a,r[i]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,d={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),U({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),U({},n,i)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=z({},c,d[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[s])&&(e.offsets.popper[l]=o(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!pe(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(r),u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),f=l?"left":"top",h=l?"bottom":"right",p=J(i)[u];s[h]-p<a[d]&&(e.offsets.popper[d]-=a[d]-(s[h]-p)),s[d]+p>a[h]&&(e.offsets.popper[d]+=s[d]+p-a[h]),e.offsets.popper=q(e.offsets.popper);var m=s[d]+s[u]/2-p/2,g=I(e.instance.popper),v=parseFloat(g["margin"+c]),y=parseFloat(g["border"+c+"Width"]),b=m-e.offsets.popper[d]-v-y;return b=Math.max(Math.min(a[u]-p,b),0),e.arrowElement=i,e.offsets.arrow=(U(n={},d,Math.round(b)),U(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(oe(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=K(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=ee(i),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case"flip":a=[i,r];break;case"clockwise":a=ve(i);break;case"counterclockwise":a=ve(i,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(i!==s||a.length===l+1)return e;i=e.placement.split("-")[0],r=ee(i);var u=e.offsets.popper,c=e.offsets.reference,d=Math.floor,f="left"===i&&d(u.right)>d(c.left)||"right"===i&&d(u.left)<d(c.right)||"top"===i&&d(u.bottom)>d(c.top)||"bottom"===i&&d(u.top)<d(c.bottom),h=d(u.left)<d(n.left),p=d(u.right)>d(n.right),m=d(u.top)<d(n.top),g=d(u.bottom)>d(n.bottom),v="left"===i&&h||"right"===i&&p||"top"===i&&m||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(y&&"start"===o&&h||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g),_=!!t.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&h||!y&&"start"===o&&g||!y&&"end"===o&&m),w=b||_;(f||v||w)&&(e.flipped=!0,(f||v)&&(i=a[l+1]),w&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=z({},e.offsets.popper,te(e.instance.popper,e.offsets.reference,e.placement)),e=ie(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),e.placement=ee(t),e.offsets.popper=q(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!pe(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=ne(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=ne(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,s,l=void 0!==o?o:t.gpuAcceleration,u=R(e.instance.popper),c=H(u),d={position:r.position},f=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},l=o(r.width),u=o(i.width),c=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?c||d||l%2==u%2?o:a:s,h=t?o:s;return{left:f(l%2==1&&u%2==1&&!d&&t?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:f(i.right)}}(e,window.devicePixelRatio<2||!he),h="bottom"===n?"top":"bottom",p="right"===i?"left":"right",m=ae("transform");if(s="bottom"===h?"HTML"===u.nodeName?-u.clientHeight+f.bottom:-c.height+f.bottom:f.top,a="right"===p?"HTML"===u.nodeName?-u.clientWidth+f.right:-c.width+f.right:f.left,l&&m)d[m]="translate3d("+a+"px, "+s+"px, 0)",d[h]=0,d[p]=0,d.willChange="transform";else{var g="bottom"===h?-1:1,v="right"===p?-1:1;d[h]=s*g,d[p]=a*v,d.willChange=h+", "+p}var y={"x-placement":e.placement};return e.attributes=z({},y,e.attributes),e.styles=z({},d,e.styles),e.arrowStyles=z({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return fe(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&fe(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var o=Q(r,t,e,n.positionFixed),a=Z(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),fe(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},be=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=x(this.update.bind(this)),this.options=z({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(z({},e.Defaults.modifiers,r.modifiers)).forEach((function(t){i.options.modifiers[t]=z({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return z({name:e},i.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&T(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return j(e,[{key:"update",value:function(){return re.call(this)}},{key:"destroy",value:function(){return se.call(this)}},{key:"enableEventListeners",value:function(){return ue.call(this)}},{key:"disableEventListeners",value:function(){return ce.call(this)}}]),e}();be.Utils=("undefined"!=typeof window?window:global).PopperUtils,be.placements=me,be.Defaults=ye;var _e="dropdown",we=n.default.fn[_e],Se=new RegExp("38|40|27"),Ee={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},Ce={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},xe=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=e.prototype;return t.toggle=function(){if(!this._element.disabled&&!n.default(this._element).hasClass("disabled")){var t=n.default(this._menu).hasClass("show");e._clearMenus(),t||this.show(!0)}},t.show=function(t){if(void 0===t&&(t=!1),!(this._element.disabled||n.default(this._element).hasClass("disabled")||n.default(this._menu).hasClass("show"))){var i={relatedTarget:this._element},r=n.default.Event("show.bs.dropdown",i),o=e._getParentFromElement(this._element);if(n.default(o).trigger(r),!r.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===be)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var s=this._element;"parent"===this._config.reference?s=o:a.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&n.default(o).addClass("position-static"),this._popper=new be(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===n.default(o).closest(".navbar-nav").length&&n.default(document.body).children().on("mouseover",null,n.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),n.default(this._menu).toggleClass("show"),n.default(o).toggleClass("show").trigger(n.default.Event("shown.bs.dropdown",i))}}},t.hide=function(){if(!this._element.disabled&&!n.default(this._element).hasClass("disabled")&&n.default(this._menu).hasClass("show")){var t={relatedTarget:this._element},i=n.default.Event("hide.bs.dropdown",t),r=e._getParentFromElement(this._element);n.default(r).trigger(i),i.isDefaultPrevented()||(this._popper&&this._popper.destroy(),n.default(this._menu).toggleClass("show"),n.default(r).toggleClass("show").trigger(n.default.Event("hidden.bs.dropdown",t)))}},t.dispose=function(){n.default.removeData(this._element,"bs.dropdown"),n.default(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;n.default(this._element).on("click.bs.dropdown",(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},t._getConfig=function(e){return e=o({},this.constructor.Default,n.default(this._element).data(),e),a.typeCheckConfig(_e,e,this.constructor.DefaultType),e},t._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(".dropdown-menu"))}return this._menu},t._getPlacement=function(){var e=n.default(this._element.parentNode),t="bottom-start";return e.hasClass("dropup")?t=n.default(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":n.default(this._menu).hasClass("dropdown-menu-right")&&(t="bottom-end"),t},t._detectNavbar=function(){return n.default(this._element).closest(".navbar").length>0},t._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=o({},t.offsets,e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},t._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),o({},e,this._config.popperConfig)},e._jQueryInterface=function(t){return this.each((function(){var i=n.default(this).data("bs.dropdown");if(i||(i=new e(this,"object"==typeof t?t:null),n.default(this).data("bs.dropdown",i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}}))},e._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var i=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),r=0,o=i.length;r<o;r++){var a=e._getParentFromElement(i[r]),s=n.default(i[r]).data("bs.dropdown"),l={relatedTarget:i[r]};if(t&&"click"===t.type&&(l.clickEvent=t),s){var u=s._menu;if(n.default(a).hasClass("show")&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&n.default.contains(a,t.target))){var c=n.default.Event("hide.bs.dropdown",l);n.default(a).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&n.default(document.body).children().off("mouseover",null,n.default.noop),i[r].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),n.default(u).removeClass("show"),n.default(a).removeClass("show").trigger(n.default.Event("hidden.bs.dropdown",l)))}}}},e._getParentFromElement=function(e){var t,n=a.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},e._dataApiKeydownHandler=function(t){if(!(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||n.default(t.target).closest(".dropdown-menu").length):!Se.test(t.which))&&!this.disabled&&!n.default(this).hasClass("disabled")){var i=e._getParentFromElement(this),r=n.default(i).hasClass("show");if(r||27!==t.which){if(t.preventDefault(),t.stopPropagation(),!r||27===t.which||32===t.which)return 27===t.which&&n.default(i.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void n.default(this).trigger("click");var o=[].slice.call(i.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(e){return n.default(e).is(":visible")}));if(0!==o.length){var a=o.indexOf(t.target);38===t.which&&a>0&&a--,40===t.which&&a<o.length-1&&a++,a<0&&(a=0),o[a].focus()}}}},r(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Ee}},{key:"DefaultType",get:function(){return Ce}}]),e}();n.default(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',xe._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",xe._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",xe._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',(function(e){e.preventDefault(),e.stopPropagation(),xe._jQueryInterface.call(n.default(this),"toggle")})).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})),n.default.fn[_e]=xe._jQueryInterface,n.default.fn[_e].Constructor=xe,n.default.fn[_e].noConflict=function(){return n.default.fn[_e]=we,xe._jQueryInterface};var Te=n.default.fn.modal,Ie={backdrop:!0,keyboard:!0,focus:!0,show:!0},ke={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Oe=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var t=e.prototype;return t.toggle=function(e){return this._isShown?this.hide():this.show(e)},t.show=function(e){var t=this;if(!this._isShown&&!this._isTransitioning){n.default(this._element).hasClass("fade")&&(this._isTransitioning=!0);var i=n.default.Event("show.bs.modal",{relatedTarget:e});n.default(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),n.default(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',(function(e){return t.hide(e)})),n.default(this._dialog).on("mousedown.dismiss.bs.modal",(function(){n.default(t._element).one("mouseup.dismiss.bs.modal",(function(e){n.default(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return t._showElement(e)})))}},t.hide=function(e){var t=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var i=n.default.Event("hide.bs.modal");if(n.default(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=n.default(this._element).hasClass("fade");if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),n.default(document).off("focusin.bs.modal"),n.default(this._element).removeClass("show"),n.default(this._element).off("click.dismiss.bs.modal"),n.default(this._dialog).off("mousedown.dismiss.bs.modal"),r){var o=a.getTransitionDurationFromElement(this._element);n.default(this._element).one(a.TRANSITION_END,(function(e){return t._hideModal(e)})).emulateTransitionEnd(o)}else this._hideModal()}}},t.dispose=function(){[window,this._element,this._dialog].forEach((function(e){return n.default(e).off(".bs.modal")})),n.default(document).off("focusin.bs.modal"),n.default.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(e){return e=o({},Ie,e),a.typeCheckConfig("modal",e,ke),e},t._triggerBackdropTransition=function(){var e=this,t=n.default.Event("hidePrevented.bs.modal");if(n.default(this._element).trigger(t),!t.isDefaultPrevented()){var i=this._element.scrollHeight>document.documentElement.clientHeight;i||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static");var r=a.getTransitionDurationFromElement(this._dialog);n.default(this._element).off(a.TRANSITION_END),n.default(this._element).one(a.TRANSITION_END,(function(){e._element.classList.remove("modal-static"),i||n.default(e._element).one(a.TRANSITION_END,(function(){e._element.style.overflowY=""})).emulateTransitionEnd(e._element,r)})).emulateTransitionEnd(r),this._element.focus()}},t._showElement=function(e){var t=this,i=n.default(this._element).hasClass("fade"),r=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),n.default(this._dialog).hasClass("modal-dialog-scrollable")&&r?r.scrollTop=0:this._element.scrollTop=0,i&&a.reflow(this._element),n.default(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var o=n.default.Event("shown.bs.modal",{relatedTarget:e}),s=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,n.default(t._element).trigger(o)};if(i){var l=a.getTransitionDurationFromElement(this._dialog);n.default(this._dialog).one(a.TRANSITION_END,s).emulateTransitionEnd(l)}else s()},t._enforceFocus=function(){var e=this;n.default(document).off("focusin.bs.modal").on("focusin.bs.modal",(function(t){document!==t.target&&e._element!==t.target&&0===n.default(e._element).has(t.target).length&&e._element.focus()}))},t._setEscapeEvent=function(){var e=this;this._isShown?n.default(this._element).on("keydown.dismiss.bs.modal",(function(t){e._config.keyboard&&27===t.which?(t.preventDefault(),e.hide()):e._config.keyboard||27!==t.which||e._triggerBackdropTransition()})):this._isShown||n.default(this._element).off("keydown.dismiss.bs.modal")},t._setResizeEvent=function(){var e=this;this._isShown?n.default(window).on("resize.bs.modal",(function(t){return e.handleUpdate(t)})):n.default(window).off("resize.bs.modal")},t._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){n.default(document.body).removeClass("modal-open"),e._resetAdjustments(),e._resetScrollbar(),n.default(e._element).trigger("hidden.bs.modal")}))},t._removeBackdrop=function(){this._backdrop&&(n.default(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(e){var t=this,i=n.default(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),n.default(this._backdrop).appendTo(document.body),n.default(this._element).on("click.dismiss.bs.modal",(function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._triggerBackdropTransition():t.hide())})),i&&a.reflow(this._backdrop),n.default(this._backdrop).addClass("show"),!e)return;if(!i)return void e();var r=a.getTransitionDurationFromElement(this._backdrop);n.default(this._backdrop).one(a.TRANSITION_END,e).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){n.default(this._backdrop).removeClass("show");var o=function(){t._removeBackdrop(),e&&e()};if(n.default(this._element).hasClass("fade")){var s=a.getTransitionDurationFromElement(this._backdrop);n.default(this._backdrop).one(a.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else e&&e()},t._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),i=[].slice.call(document.querySelectorAll(".sticky-top"));n.default(t).each((function(t,i){var r=i.style.paddingRight,o=n.default(i).css("padding-right");n.default(i).data("padding-right",r).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")})),n.default(i).each((function(t,i){var r=i.style.marginRight,o=n.default(i).css("margin-right");n.default(i).data("margin-right",r).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")}));var r=document.body.style.paddingRight,o=n.default(document.body).css("padding-right");n.default(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}n.default(document.body).addClass("modal-open")},t._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));n.default(e).each((function(e,t){var i=n.default(t).data("padding-right");n.default(t).removeData("padding-right"),t.style.paddingRight=i||""}));var t=[].slice.call(document.querySelectorAll(".sticky-top"));n.default(t).each((function(e,t){var i=n.default(t).data("margin-right");void 0!==i&&n.default(t).css("margin-right",i).removeData("margin-right")}));var i=n.default(document.body).data("padding-right");n.default(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},t._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(t,i){return this.each((function(){var r=n.default(this).data("bs.modal"),a=o({},Ie,n.default(this).data(),"object"==typeof t&&t?t:{});if(r||(r=new e(this,a),n.default(this).data("bs.modal",r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t](i)}else a.show&&r.show(i)}))},r(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Ie}}]),e}();n.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(e){var t,i=this,r=a.getSelectorFromElement(this);r&&(t=document.querySelector(r));var s=n.default(t).data("bs.modal")?"toggle":o({},n.default(t).data(),n.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var l=n.default(t).one("show.bs.modal",(function(e){e.isDefaultPrevented()||l.one("hidden.bs.modal",(function(){n.default(i).is(":visible")&&i.focus()}))}));Oe._jQueryInterface.call(n.default(t),s,this)})),n.default.fn.modal=Oe._jQueryInterface,n.default.fn.modal.Constructor=Oe,n.default.fn.modal.noConflict=function(){return n.default.fn.modal=Te,Oe._jQueryInterface};var Ae=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],De=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Pe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Ne(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);for(var i=(new window.DOMParser).parseFromString(e,"text/html"),r=Object.keys(t),o=[].slice.call(i.body.querySelectorAll("*")),a=function(e,n){var i=o[e],a=i.nodeName.toLowerCase();if(-1===r.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var s=[].slice.call(i.attributes),l=[].concat(t["*"]||[],t[a]||[]);s.forEach((function(e){(function(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===Ae.indexOf(n)||Boolean(e.nodeValue.match(De)||e.nodeValue.match(Pe));for(var i=t.filter((function(e){return e instanceof RegExp})),r=0,o=i.length;r<o;r++)if(n.match(i[r]))return!0;return!1})(e,l)||i.removeAttribute(e.nodeName)}))},s=0,l=o.length;s<l;s++)a(s);return i.body.innerHTML}var Re="tooltip",Le=n.default.fn[Re],Fe=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Me=["sanitize","whiteList","sanitizeFn"],Be={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Ve={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},$e={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},je={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Ue=function(){function e(e,t){if(void 0===be)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var t=e.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,i=n.default(e.currentTarget).data(t);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),n.default(e.currentTarget).data(t,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(n.default(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function(){clearTimeout(this._timeout),n.default.removeData(this.element,this.constructor.DATA_KEY),n.default(this.element).off(this.constructor.EVENT_KEY),n.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&n.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var e=this;if("none"===n.default(this.element).css("display"))throw new Error("Please use show on visible elements");var t=n.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){n.default(this.element).trigger(t);var i=a.findShadowRoot(this.element),r=n.default.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!r)return;var o=this.getTipElement(),s=a.getUID(this.constructor.NAME);o.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&n.default(o).addClass("fade");var l="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,u=this._getAttachment(l);this.addAttachmentClass(u);var c=this._getContainer();n.default(o).data(this.constructor.DATA_KEY,this),n.default.contains(this.element.ownerDocument.documentElement,this.tip)||n.default(o).appendTo(c),n.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new be(this.element,o,this._getPopperConfig(u)),n.default(o).addClass("show"),n.default(o).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&n.default(document.body).children().on("mouseover",null,n.default.noop);var d=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,n.default(e.element).trigger(e.constructor.Event.SHOWN),"out"===t&&e._leave(null,e)};if(n.default(this.tip).hasClass("fade")){var f=a.getTransitionDurationFromElement(this.tip);n.default(this.tip).one(a.TRANSITION_END,d).emulateTransitionEnd(f)}else d()}},t.hide=function(e){var t=this,i=this.getTipElement(),r=n.default.Event(this.constructor.Event.HIDE),o=function(){"show"!==t._hoverState&&i.parentNode&&i.parentNode.removeChild(i),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),n.default(t.element).trigger(t.constructor.Event.HIDDEN),null!==t._popper&&t._popper.destroy(),e&&e()};if(n.default(this.element).trigger(r),!r.isDefaultPrevented()){if(n.default(i).removeClass("show"),"ontouchstart"in document.documentElement&&n.default(document.body).children().off("mouseover",null,n.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,n.default(this.tip).hasClass("fade")){var s=a.getTransitionDurationFromElement(i);n.default(i).one(a.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(e){n.default(this.getTipElement()).addClass("bs-tooltip-"+e)},t.getTipElement=function(){return this.tip=this.tip||n.default(this.config.template)[0],this.tip},t.setContent=function(){var e=this.getTipElement();this.setElementContent(n.default(e.querySelectorAll(".tooltip-inner")),this.getTitle()),n.default(e).removeClass("fade show")},t.setElementContent=function(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=Ne(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?n.default(t).parent().is(e)||e.empty().append(t):e.text(n.default(t).text())},t.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},t._getPopperConfig=function(e){var t=this;return o({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}},this.config.popperConfig)},t._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=o({},t.offsets,e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},t._getContainer=function(){return!1===this.config.container?document.body:a.isElement(this.config.container)?n.default(this.config.container):n.default(document).find(this.config.container)},t._getAttachment=function(e){return Ve[e.toUpperCase()]},t._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach((function(t){if("click"===t)n.default(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if("manual"!==t){var i="hover"===t?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r="hover"===t?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;n.default(e.element).on(i,e.config.selector,(function(t){return e._enter(t)})).on(r,e.config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e.element&&e.hide()},n.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(e,t){var i=this.constructor.DATA_KEY;(t=t||n.default(e.currentTarget).data(i))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),n.default(e.currentTarget).data(i,t)),e&&(t._activeTrigger["focusin"===e.type?"focus":"hover"]=!0),n.default(t.getTipElement()).hasClass("show")||"show"===t._hoverState?t._hoverState="show":(clearTimeout(t._timeout),t._hoverState="show",t.config.delay&&t.config.delay.show?t._timeout=setTimeout((function(){"show"===t._hoverState&&t.show()}),t.config.delay.show):t.show())},t._leave=function(e,t){var i=this.constructor.DATA_KEY;(t=t||n.default(e.currentTarget).data(i))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),n.default(e.currentTarget).data(i,t)),e&&(t._activeTrigger["focusout"===e.type?"focus":"hover"]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState="out",t.config.delay&&t.config.delay.hide?t._timeout=setTimeout((function(){"out"===t._hoverState&&t.hide()}),t.config.delay.hide):t.hide())},t._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},t._getConfig=function(e){var t=n.default(this.element).data();return Object.keys(t).forEach((function(e){-1!==Me.indexOf(e)&&delete t[e]})),"number"==typeof(e=o({},this.constructor.Default,t,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),a.typeCheckConfig(Re,e,this.constructor.DefaultType),e.sanitize&&(e.template=Ne(e.template,e.whiteList,e.sanitizeFn)),e},t._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},t._cleanTipClass=function(){var e=n.default(this.getTipElement()),t=e.attr("class").match(Fe);null!==t&&t.length&&e.removeClass(t.join(""))},t._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},t._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(n.default(e).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},e._jQueryInterface=function(t){return this.each((function(){var i=n.default(this),r=i.data("bs.tooltip"),o="object"==typeof t&&t;if((r||!/dispose|hide/.test(t))&&(r||(r=new e(this,o),i.data("bs.tooltip",r)),"string"==typeof t)){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t]()}}))},r(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return $e}},{key:"NAME",get:function(){return Re}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return je}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Be}}]),e}();n.default.fn[Re]=Ue._jQueryInterface,n.default.fn[Re].Constructor=Ue,n.default.fn[Re].noConflict=function(){return n.default.fn[Re]=Le,Ue._jQueryInterface};var ze="popover",qe=n.default.fn[ze],He=new RegExp("(^|\\s)bs-popover\\S+","g"),Ge=o({},Ue.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),We=o({},Ue.DefaultType,{content:"(string|element|function)"}),Ye={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Ke=function(e){var t,i;function o(){return e.apply(this,arguments)||this}i=e,(t=o).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=o.prototype;return a.isWithContent=function(){return this.getTitle()||this._getContent()},a.addAttachmentClass=function(e){n.default(this.getTipElement()).addClass("bs-popover-"+e)},a.getTipElement=function(){return this.tip=this.tip||n.default(this.config.template)[0],this.tip},a.setContent=function(){var e=n.default(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")},a._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},a._cleanTipClass=function(){var e=n.default(this.getTipElement()),t=e.attr("class").match(He);null!==t&&t.length>0&&e.removeClass(t.join(""))},o._jQueryInterface=function(e){return this.each((function(){var t=n.default(this).data("bs.popover"),i="object"==typeof e?e:null;if((t||!/dispose|hide/.test(e))&&(t||(t=new o(this,i),n.default(this).data("bs.popover",t)),"string"==typeof e)){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}}))},r(o,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Ge}},{key:"NAME",get:function(){return ze}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Ye}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return We}}]),o}(Ue);n.default.fn[ze]=Ke._jQueryInterface,n.default.fn[ze].Constructor=Ke,n.default.fn[ze].noConflict=function(){return n.default.fn[ze]=qe,Ke._jQueryInterface};var Xe="scrollspy",Ze=n.default.fn[Xe],Qe={offset:10,method:"auto",target:""},Je={offset:"number",method:"string",target:"(string|element)"},et=function(){function e(e,t){var i=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,n.default(this._scrollElement).on("scroll.bs.scrollspy",(function(e){return i._process(e)})),this.refresh(),this._process()}var t=e.prototype;return t.refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?"offset":"position",i="auto"===this._config.method?t:this._config.method,r="position"===i?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(e){var t,o=a.getSelectorFromElement(e);if(o&&(t=document.querySelector(o)),t){var s=t.getBoundingClientRect();if(s.width||s.height)return[n.default(t)[i]().top+r,o]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))},t.dispose=function(){n.default.removeData(this._element,"bs.scrollspy"),n.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(e){if("string"!=typeof(e=o({},Qe,"object"==typeof e&&e?e:{})).target&&a.isElement(e.target)){var t=n.default(e.target).attr("id");t||(t=a.getUID(Xe),n.default(e.target).attr("id",t)),e.target="#"+t}return a.typeCheckConfig(Xe,e,Je),e},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&e>=this._offsets[r]&&(void 0===this._offsets[r+1]||e<this._offsets[r+1])&&this._activate(this._targets[r])}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",").map((function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'})),i=n.default([].slice.call(document.querySelectorAll(t.join(","))));i.hasClass("dropdown-item")?(i.closest(".dropdown").find(".dropdown-toggle").addClass("active"),i.addClass("active")):(i.addClass("active"),i.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),i.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")),n.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:e})},t._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(e){return e.classList.contains("active")})).forEach((function(e){return e.classList.remove("active")}))},e._jQueryInterface=function(t){return this.each((function(){var i=n.default(this).data("bs.scrollspy");if(i||(i=new e(this,"object"==typeof t&&t),n.default(this).data("bs.scrollspy",i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}}))},r(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Qe}}]),e}();n.default(window).on("load.bs.scrollspy.data-api",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),t=e.length;t--;){var i=n.default(e[t]);et._jQueryInterface.call(i,i.data())}})),n.default.fn[Xe]=et._jQueryInterface,n.default.fn[Xe].Constructor=et,n.default.fn[Xe].noConflict=function(){return n.default.fn[Xe]=Ze,et._jQueryInterface};var tt=n.default.fn.tab,nt=function(){function e(e){this._element=e}var t=e.prototype;return t.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&n.default(this._element).hasClass("active")||n.default(this._element).hasClass("disabled"))){var t,i,r=n.default(this._element).closest(".nav, .list-group")[0],o=a.getSelectorFromElement(this._element);if(r){var s="UL"===r.nodeName||"OL"===r.nodeName?"> li > .active":".active";i=(i=n.default.makeArray(n.default(r).find(s)))[i.length-1]}var l=n.default.Event("hide.bs.tab",{relatedTarget:this._element}),u=n.default.Event("show.bs.tab",{relatedTarget:i});if(i&&n.default(i).trigger(l),n.default(this._element).trigger(u),!u.isDefaultPrevented()&&!l.isDefaultPrevented()){o&&(t=document.querySelector(o)),this._activate(this._element,r);var c=function(){var t=n.default.Event("hidden.bs.tab",{relatedTarget:e._element}),r=n.default.Event("shown.bs.tab",{relatedTarget:i});n.default(i).trigger(t),n.default(e._element).trigger(r)};t?this._activate(t,t.parentNode,c):c()}}},t.dispose=function(){n.default.removeData(this._element,"bs.tab"),this._element=null},t._activate=function(e,t,i){var r=this,o=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?n.default(t).children(".active"):n.default(t).find("> li > .active"))[0],s=i&&o&&n.default(o).hasClass("fade"),l=function(){return r._transitionComplete(e,o,i)};if(o&&s){var u=a.getTransitionDurationFromElement(o);n.default(o).removeClass("show").one(a.TRANSITION_END,l).emulateTransitionEnd(u)}else l()},t._transitionComplete=function(e,t,i){if(t){n.default(t).removeClass("active");var r=n.default(t.parentNode).find("> .dropdown-menu .active")[0];r&&n.default(r).removeClass("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}if(n.default(e).addClass("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),a.reflow(e),e.classList.contains("fade")&&e.classList.add("show"),e.parentNode&&n.default(e.parentNode).hasClass("dropdown-menu")){var o=n.default(e).closest(".dropdown")[0];if(o){var s=[].slice.call(o.querySelectorAll(".dropdown-toggle"));n.default(s).addClass("active")}e.setAttribute("aria-expanded",!0)}i&&i()},e._jQueryInterface=function(t){return this.each((function(){var i=n.default(this),r=i.data("bs.tab");if(r||(r=new e(this),i.data("bs.tab",r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t]()}}))},r(e,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),e}();n.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(e){e.preventDefault(),nt._jQueryInterface.call(n.default(this),"show")})),n.default.fn.tab=nt._jQueryInterface,n.default.fn.tab.Constructor=nt,n.default.fn.tab.noConflict=function(){return n.default.fn.tab=tt,nt._jQueryInterface};var it=n.default.fn.toast,rt={animation:"boolean",autohide:"boolean",delay:"number"},ot={animation:!0,autohide:!0,delay:500},at=function(){function e(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var t=e.prototype;return t.show=function(){var e=this,t=n.default.Event("show.bs.toast");if(n.default(this._element).trigger(t),!t.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var i=function(){e._element.classList.remove("showing"),e._element.classList.add("show"),n.default(e._element).trigger("shown.bs.toast"),e._config.autohide&&(e._timeout=setTimeout((function(){e.hide()}),e._config.delay))};if(this._element.classList.remove("hide"),a.reflow(this._element),this._element.classList.add("showing"),this._config.animation){var r=a.getTransitionDurationFromElement(this._element);n.default(this._element).one(a.TRANSITION_END,i).emulateTransitionEnd(r)}else i()}},t.hide=function(){if(this._element.classList.contains("show")){var e=n.default.Event("hide.bs.toast");n.default(this._element).trigger(e),e.isDefaultPrevented()||this._close()}},t.dispose=function(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),n.default(this._element).off("click.dismiss.bs.toast"),n.default.removeData(this._element,"bs.toast"),this._element=null,this._config=null},t._getConfig=function(e){return e=o({},ot,n.default(this._element).data(),"object"==typeof e&&e?e:{}),a.typeCheckConfig("toast",e,this.constructor.DefaultType),e},t._setListeners=function(){var e=this;n.default(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',(function(){return e.hide()}))},t._close=function(){var e=this,t=function(){e._element.classList.add("hide"),n.default(e._element).trigger("hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var i=a.getTransitionDurationFromElement(this._element);n.default(this._element).one(a.TRANSITION_END,t).emulateTransitionEnd(i)}else t()},t._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},e._jQueryInterface=function(t){return this.each((function(){var i=n.default(this),r=i.data("bs.toast");if(r||(r=new e(this,"object"==typeof t&&t),i.data("bs.toast",r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t](this)}}))},r(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"DefaultType",get:function(){return rt}},{key:"Default",get:function(){return ot}}]),e}();n.default.fn.toast=at._jQueryInterface,n.default.fn.toast.Constructor=at,n.default.fn.toast.noConflict=function(){return n.default.fn.toast=it,at._jQueryInterface},e.Alert=u,e.Button=d,e.Carousel=v,e.Collapse=S,e.Dropdown=xe,e.Modal=Oe,e.Popover=Ke,e.Scrollspy=et,e.Tab=nt,e.Toast=at,e.Tooltip=Ue,e.Util=a,Object.defineProperty(e,"__esModule",{value:!0})})),($jscomp=$jscomp||{}).scope={},$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var o=e[r];if(t.call(n,o,r,e))return{i:r,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(e,t){var n=$jscomp.propertyToPolyfillSymbol[t];return null==n?e[t]:void 0!==(n=e[n])?n:e[t]};$jscomp.polyfill=function(e,t,n,i){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,t,n,i):$jscomp.polyfillUnisolated(e,t,n,i))},$jscomp.polyfillUnisolated=function(e,t,n,i){for(n=$jscomp.global,e=e.split("."),i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))return;n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})},$jscomp.polyfillIsolated=function(e,t,n,i){var r=e.split(".");e=1===r.length,i=r[0],i=!e&&i in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var o=0;o<r.length-1;o++){var a=r[o];if(!(a in i))return;i=i[a]}r=r[r.length-1],null!=(t=t(n=$jscomp.IS_SYMBOL_NATIVE&&"es6"===n?i[r]:null))&&(e?$jscomp.defineProperty($jscomp.polyfills,r,{configurable:!0,writable:!0,value:t}):t!==n&&($jscomp.propertyToPolyfillSymbol[r]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(r):$jscomp.POLYFILL_PREFIX+r,r=$jscomp.propertyToPolyfillSymbol[r],$jscomp.defineProperty(i,r,{configurable:!0,writable:!0,value:t})))},$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),function(e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n,i){function r(t){var n,i,o={};e.each(t,(function(e,a){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=e.replace(n[0],n[2].toLowerCase()),o[i]=e,"o"===n[1]&&r(t[e]))})),t._hungarianMap=o}function o(t,n,a){var s;t._hungarianMap||r(t),e.each(n,(function(r,l){(s=t._hungarianMap[r])===i||!a&&n[s]!==i||("o"===s.charAt(0)?(n[s]||(n[s]={}),e.extend(!0,n[s],n[r]),o(t[s],n[s],a)):n[s]=n[r])}))}function a(e){var t=He.defaults.oLanguage,n=t.sDecimal;if(n&&$e(n),e){var i=e.sZeroRecords;!e.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&De(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&De(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&n!==e&&$e(e)}}function s(e){if(ut(e,"ordering","bSort"),ut(e,"orderMulti","bSortMulti"),ut(e,"orderClasses","bSortClasses"),ut(e,"orderCellsTop","bSortCellsTop"),ut(e,"order","aaSorting"),ut(e,"orderFixed","aaSortingFixed"),ut(e,"paging","bPaginate"),ut(e,"pagingType","sPaginationType"),ut(e,"pageLength","iDisplayLength"),ut(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":""),e=e.aoSearchCols)for(var t=0,n=e.length;t<n;t++)e[t]&&o(He.models.oSearch,e[t])}function l(e){ut(e,"orderable","bSortable"),ut(e,"orderData","aDataSort"),ut(e,"orderSequence","asSorting"),ut(e,"orderDataType","sortDataType");var t=e.aDataSort;"number"!=typeof t||Array.isArray(t)||(e.aDataSort=[t])}function u(n){if(!He.__browser){var i={};He.__browser=i;var r=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),a=o.children();i.barWidth=o[0].offsetWidth-o[0].clientWidth,i.bScrollOversize=100===a[0].offsetWidth&&100!==o[0].clientWidth,i.bScrollbarLeft=1!==Math.round(a.offset().left),i.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}e.extend(n.oBrowser,He.__browser),n.oScroll.iBarWidth=He.__browser.barWidth}function c(e,t,n,r,o,a){var s=!1;if(n!==i){var l=n;s=!0}for(;r!==o;)e.hasOwnProperty(r)&&(l=s?t(l,e[r],r,e):e[r],s=!0,r+=a);return l}function d(t,i){var r=He.defaults.column,o=t.aoColumns.length;r=e.extend({},He.models.oColumn,r,{nTh:i||n.createElement("th"),sTitle:r.sTitle?r.sTitle:i?i.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o}),t.aoColumns.push(r),(r=t.aoPreSearchCols)[o]=e.extend({},He.models.oSearch,r[o]),f(t,o,e(i).data())}function f(t,n,r){n=t.aoColumns[n];var a=t.oClasses,s=e(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var u=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(n.sWidthOrig=u[1])}r!==i&&null!==r&&(l(r),o(He.defaults.column,r,!0),r.mDataProp===i||r.mData||(r.mData=r.mDataProp),r.sType&&(n._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&s.addClass(r.sClass),e.extend(n,r),De(n,r,"sWidth","sWidthOrig"),r.iDataSort!==i&&(n.aDataSort=[r.iDataSort]),De(n,r,"aDataSort"));var c=n.mData,d=x(c),f=n.mRender?x(n.mRender):null;r=function(e){return"string"==typeof e&&-1!==e.indexOf("@")},n._bAttrSrc=e.isPlainObject(c)&&(r(c.sort)||r(c.type)||r(c.filter)),n._setter=null,n.fnGetData=function(e,t,n){var r=d(e,t,i,n);return f&&t?f(r,t,e,n):r},n.fnSetData=function(e,t,n){return T(c)(e,t,n)},"number"!=typeof c&&(t._rowReadObject=!0),t.oFeatures.bSort||(n.bSortable=!1,s.addClass(a.sSortableNone)),t=-1!==e.inArray("asc",n.asSorting),r=-1!==e.inArray("desc",n.asSorting),n.bSortable&&(t||r)?t&&!r?(n.sSortingClass=a.sSortableAsc,n.sSortingClassJUI=a.sSortJUIAscAllowed):!t&&r?(n.sSortingClass=a.sSortableDesc,n.sSortingClassJUI=a.sSortJUIDescAllowed):(n.sSortingClass=a.sSortable,n.sSortingClassJUI=a.sSortJUI):(n.sSortingClass=a.sSortableNone,n.sSortingClassJUI="")}function h(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;me(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}""===(t=e.oScroll).sY&&""===t.sX||he(e),Le(e,null,"column-sizing",[e])}function p(e,t){return"number"==typeof(e=v(e,"bVisible"))[t]?e[t]:null}function m(t,n){return t=v(t,"bVisible"),-1!==(n=e.inArray(n,t))?n:null}function g(t){var n=0;return e.each(t.aoColumns,(function(t,i){i.bVisible&&"none"!==e(i.nTh).css("display")&&n++})),n}function v(t,n){var i=[];return e.map(t.aoColumns,(function(e,t){e[n]&&i.push(t)})),i}function y(e){var t,n,r,o=e.aoColumns,a=e.aoData,s=He.ext.type.detect,l=0;for(t=o.length;l<t;l++){var u=o[l],c=[];if(!u.sType&&u._sManualType)u.sType=u._sManualType;else if(!u.sType){var d=0;for(n=s.length;d<n;d++){var f=0;for(r=a.length;f<r;f++){c[f]===i&&(c[f]=S(e,f,l,"type"));var h=s[d](c[f],e);if(!h&&d!==s.length-1)break;if("html"===h)break}if(h){u.sType=h;break}}u.sType||(u.sType="string")}}}function b(t,n,r,o){var a,s,l,u=t.aoColumns;if(n)for(a=n.length-1;0<=a;a--){var c=n[a],f=c.targets!==i?c.targets:c.aTargets;Array.isArray(f)||(f=[f]);var h=0;for(s=f.length;h<s;h++)if("number"==typeof f[h]&&0<=f[h]){for(;u.length<=f[h];)d(t);o(f[h],c)}else if("number"==typeof f[h]&&0>f[h])o(u.length+f[h],c);else if("string"==typeof f[h]){var p=0;for(l=u.length;p<l;p++)("_all"==f[h]||e(u[p].nTh).hasClass(f[h]))&&o(p,c)}}if(r)for(a=0,t=r.length;a<t;a++)o(a,r[a])}function _(t,n,r,o){var a=t.aoData.length,s=e.extend(!0,{},He.models.oRow,{src:r?"dom":"data",idx:a});s._aData=n,t.aoData.push(s);for(var l=t.aoColumns,u=0,c=l.length;u<c;u++)l[u].sType=null;return t.aiDisplayMaster.push(a),(n=t.rowIdFn(n))!==i&&(t.aIds[n]=s),!r&&t.oFeatures.bDeferRender||P(t,a,r,o),a}function w(t,n){var i;return n instanceof e||(n=e(n)),n.map((function(e,n){return i=D(t,n),_(t,i.data,n,i.cells)}))}function S(e,t,n,r){var o=e.iDraw,a=e.aoColumns[n],s=e.aoData[t]._aData,l=a.sDefaultContent,u=a.fnGetData(s,r,{settings:e,row:t,col:n});if(u===i)return e.iDrawError!=o&&null===l&&(Ae(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=o),l;if(u!==s&&null!==u||null===l||r===i){if("function"==typeof u)return u.call(s)}else u=l;return null===u&&"display"==r?"":u}function E(e,t,n,i){e.aoColumns[n].fnSetData(e.aoData[t]._aData,i,{settings:e,row:t,col:n})}function C(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],(function(e){return e.replace(/\\\./g,".")}))}function x(t){if(e.isPlainObject(t)){var n={};return e.each(t,(function(e,t){t&&(n[e]=x(t))})),function(e,t,r,o){var a=n[t]||n._;return a!==i?a(e,t,r,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,i,r){return t(e,n,i,r)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){return e[t]};var r=function(e,t,n){if(""!==n)for(var o=C(n),a=0,s=o.length;a<s;a++){n=o[a].match(ct);var l=o[a].match(dt);if(n){if(o[a]=o[a].replace(ct,""),""!==o[a]&&(e=e[o[a]]),l=[],o.splice(0,a+1),o=o.join("."),Array.isArray(e))for(a=0,s=e.length;a<s;a++)l.push(r(e[a],t,o));e=""===(e=n[0].substring(1,n[0].length-1))?l:l.join(e);break}if(l)o[a]=o[a].replace(dt,""),e=e[o[a]]();else{if(null===e||e[o[a]]===i)return i;e=e[o[a]]}}return e};return function(e,n){return r(e,n,t)}}function T(t){if(e.isPlainObject(t))return T(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){e[t]=n};var n=function(e,t,r){for(var o,a,s=(r=C(r))[r.length-1],l=0,u=r.length-1;l<u;l++){if("__proto__"===r[l]||"constructor"===r[l])throw Error("Cannot set prototype values");if(o=r[l].match(ct),a=r[l].match(dt),o){if(r[l]=r[l].replace(ct,""),e[r[l]]=[],(s=r.slice()).splice(0,l+1),o=s.join("."),Array.isArray(t))for(a=0,u=t.length;a<u;a++)n(s={},t[a],o),e[r[l]].push(s);else e[r[l]]=t;return}a&&(r[l]=r[l].replace(dt,""),e=e[r[l]](t)),null!==e[r[l]]&&e[r[l]]!==i||(e[r[l]]={}),e=e[r[l]]}s.match(dt)?e[s.replace(dt,"")](t):e[s.replace(ct,"")]=t};return function(e,i){return n(e,i,t)}}function I(e){return it(e.aoData,"_aData")}function k(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function O(e,t,n){for(var r=-1,o=0,a=e.length;o<a;o++)e[o]==t?r=o:e[o]>t&&e[o]--;-1!=r&&n===i&&e.splice(r,1)}function A(e,t,n,r){var o,a=e.aoData[t],s=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=S(e,t,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==a.src)){var l=a.anCells;if(l)if(r!==i)s(l[r],r);else for(n=0,o=l.length;n<o;n++)s(l[n],n)}else a._aData=D(e,a,r,r===i?i:a._aData).data;if(a._aSortData=null,a._aFilterData=null,s=e.aoColumns,r!==i)s[r].sType=null;else{for(n=0,o=s.length;n<o;n++)s[n].sType=null;N(e,a)}}function D(e,t,n,r){var o,a,s=[],l=t.firstChild,u=0,c=e.aoColumns,d=e._rowReadObject;r=r!==i?r:d?{}:[];var f=function(e,t){if("string"==typeof e){var n=e.indexOf("@");-1!==n&&(n=e.substring(n+1),T(e)(r,t.getAttribute(n)))}},h=function(e){n!==i&&n!==u||(o=c[u],a=e.innerHTML.trim(),o&&o._bAttrSrc?(T(o.mData._)(r,a),f(o.mData.sort,e),f(o.mData.type,e),f(o.mData.filter,e)):d?(o._setter||(o._setter=T(o.mData)),o._setter(r,a)):r[u]=a),u++};if(l)for(;l;){var p=l.nodeName.toUpperCase();"TD"!=p&&"TH"!=p||(h(l),s.push(l)),l=l.nextSibling}else for(l=0,p=(s=t.anCells).length;l<p;l++)h(s[l]);return(t=t.firstChild?t:t.nTr)&&(t=t.getAttribute("id"))&&T(e.rowId)(r,t),{data:r,cells:s}}function P(t,i,r,o){var a,s,l=t.aoData[i],u=l._aData,c=[];if(null===l.nTr){var d=r||n.createElement("tr");l.nTr=d,l.anCells=c,d._DT_RowIndex=i,N(t,l);var f=0;for(a=t.aoColumns.length;f<a;f++){var h=t.aoColumns[f];(l=(s=!r)?n.createElement(h.sCellType):o[f])._DT_CellIndex={row:i,column:f},c.push(l),!s&&(!h.mRender&&h.mData===f||e.isPlainObject(h.mData)&&h.mData._===f+".display")||(l.innerHTML=S(t,i,f,"display")),h.sClass&&(l.className+=" "+h.sClass),h.bVisible&&!r?d.appendChild(l):!h.bVisible&&r&&l.parentNode.removeChild(l),h.fnCreatedCell&&h.fnCreatedCell.call(t.oInstance,l,S(t,i,f),u,i,f)}Le(t,"aoRowCreatedCallback",null,[d,u,i,c])}}function N(t,n){var i=n.nTr,r=n._aData;i&&((t=t.rowIdFn(r))&&(i.id=t),r.DT_RowClass&&(t=r.DT_RowClass.split(" "),n.__rowc=n.__rowc?st(n.__rowc.concat(t)):t,e(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)),r.DT_RowAttr&&e(i).attr(r.DT_RowAttr),r.DT_RowData&&e(i).data(r.DT_RowData))}function R(t){var n,i,r=t.nTHead,o=t.nTFoot,a=0===e("th, td",r).length,s=t.oClasses,l=t.aoColumns;a&&(i=e("<tr/>").appendTo(r));var u=0;for(n=l.length;u<n;u++){var c=l[u],d=e(c.nTh).addClass(c.sClass);a&&d.appendTo(i),t.oFeatures.bSort&&(d.addClass(c.sSortingClass),!1!==c.bSortable&&(d.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Ce(t,c.nTh,u))),c.sTitle!=d[0].innerHTML&&d.html(c.sTitle),Me(t,"header")(t,d,c,s)}if(a&&V(t.aoHeader,r),e(r).children("tr").attr("role","row"),e(r).children("tr").children("th, td").addClass(s.sHeaderTH),e(o).children("tr").children("th, td").addClass(s.sFooterTH),null!==o)for(u=0,n=(t=t.aoFooter[0]).length;u<n;u++)(c=l[u]).nTf=t[u].cell,c.sClass&&e(c.nTf).addClass(c.sClass)}function L(t,n,r){var o,a,s=[],l=[],u=t.aoColumns.length;if(n){r===i&&(r=!1);var c=0;for(o=n.length;c<o;c++){for(s[c]=n[c].slice(),s[c].nTr=n[c].nTr,a=u-1;0<=a;a--)t.aoColumns[a].bVisible||r||s[c].splice(a,1);l.push([])}for(c=0,o=s.length;c<o;c++){if(t=s[c].nTr)for(;a=t.firstChild;)t.removeChild(a);for(a=0,n=s[c].length;a<n;a++){var d=u=1;if(l[c][a]===i){for(t.appendChild(s[c][a].cell),l[c][a]=1;s[c+u]!==i&&s[c][a].cell==s[c+u][a].cell;)l[c+u][a]=1,u++;for(;s[c][a+d]!==i&&s[c][a].cell==s[c][a+d].cell;){for(r=0;r<u;r++)l[c+r][a+d]=1;d++}e(s[c][a].cell).attr("rowspan",u).attr("colspan",d)}}}}}function F(t){var n=Le(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==e.inArray(!1,n))de(t,!1);else{n=[];var r=0,o=t.asStripeClasses,a=o.length,s=t.oLanguage,l=t.iInitDisplayStart,u="ssp"==Be(t),c=t.aiDisplay;t.bDrawing=!0,l!==i&&-1!==l&&(t._iDisplayStart=u?l:l>=t.fnRecordsDisplay()?0:l,t.iInitDisplayStart=-1),l=t._iDisplayStart;var d=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,de(t,!1);else if(u){if(!t.bDestroying&&!U(t))return}else t.iDraw++;if(0!==c.length)for(s=u?t.aoData.length:d,u=u?0:l;u<s;u++){var f=c[u],h=t.aoData[f];null===h.nTr&&P(t,f);var p=h.nTr;if(0!==a){var m=o[r%a];h._sRowStripe!=m&&(e(p).removeClass(h._sRowStripe).addClass(m),h._sRowStripe=m)}Le(t,"aoRowCallback",null,[p,h._aData,r,u,f]),n.push(p),r++}else r=s.sZeroRecords,1==t.iDraw&&"ajax"==Be(t)?r=s.sLoadingRecords:s.sEmptyTable&&0===t.fnRecordsTotal()&&(r=s.sEmptyTable),n[0]=e("<tr/>",{class:a?o[0]:""}).append(e("<td />",{valign:"top",colSpan:g(t),class:t.oClasses.sRowEmpty}).html(r))[0];Le(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],I(t),l,d,c]),Le(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],I(t),l,d,c]),(o=e(t.nTBody)).children().detach(),o.append(e(n)),Le(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function M(e,t){var n=e.oFeatures,i=n.bFilter;n.bSort&&we(e),i?W(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,F(e),e._drawHold=!1}function B(t){var n=t.oClasses,i=e(t.nTable);i=e("<div/>").insertBefore(i);var r=t.oFeatures,o=e("<div/>",{id:t.sTableId+"_wrapper",class:n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=i[0],t.nTableWrapper=o[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var a,s,l,u,c,d,f=t.sDom.split(""),h=0;h<f.length;h++){if(a=null,"<"==(s=f[h])){if(l=e("<div/>")[0],"'"==(u=f[h+1])||'"'==u){for(c="",d=2;f[h+d]!=u;)c+=f[h+d],d++;"H"==c?c=n.sJUIHeader:"F"==c&&(c=n.sJUIFooter),-1!=c.indexOf(".")?(u=c.split("."),l.id=u[0].substr(1,u[0].length-1),l.className=u[1]):"#"==c.charAt(0)?l.id=c.substr(1,c.length-1):l.className=c,h+=d}o.append(l),o=e(l)}else if(">"==s)o=o.parent();else if("l"==s&&r.bPaginate&&r.bLengthChange)a=se(t);else if("f"==s&&r.bFilter)a=G(t);else if("r"==s&&r.bProcessing)a=ce(t);else if("t"==s)a=fe(t);else if("i"==s&&r.bInfo)a=te(t);else if("p"==s&&r.bPaginate)a=le(t);else if(0!==He.ext.feature.length)for(d=0,u=(l=He.ext.feature).length;d<u;d++)if(s==l[d].cFeature){a=l[d].fnInit(t);break}a&&((l=t.aanFeatures)[s]||(l[s]=[]),l[s].push(a),o.append(a))}i.replaceWith(o),t.nHolding=null}function V(t,n){var i,r,o;n=e(n).children("tr"),t.splice(0,t.length);var a=0;for(o=n.length;a<o;a++)t.push([]);for(a=0,o=n.length;a<o;a++){var s=n[a];for(i=s.firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){var l=1*i.getAttribute("colspan"),u=1*i.getAttribute("rowspan");l=l&&0!==l&&1!==l?l:1,u=u&&0!==u&&1!==u?u:1;var c=0;for(r=t[a];r[c];)c++;var d=c,f=1===l;for(r=0;r<l;r++)for(c=0;c<u;c++)t[a+c][d+r]={cell:i,unique:f},t[a+c].nTr=s}i=i.nextSibling}}}function $(e,t,n){var i=[];n||(n=e.aoHeader,t&&V(n=[],t)),t=0;for(var r=n.length;t<r;t++)for(var o=0,a=n[t].length;o<a;o++)!n[t][o].unique||i[o]&&e.bSortCellsTop||(i[o]=n[t][o].cell);return i}function j(t,n,i){if(Le(t,"aoServerParams","serverParams",[n]),n&&Array.isArray(n)){var r={},o=/(.*?)\[\]$/;e.each(n,(function(e,t){(e=t.name.match(o))?(e=e[0],r[e]||(r[e]=[]),r[e].push(t.value)):r[t.name]=t.value})),n=r}var a=t.ajax,s=t.oInstance,l=function(e){Le(t,null,"xhr",[t,e,t.jqXHR]),i(e)};if(e.isPlainObject(a)&&a.data){var u=a.data,c="function"==typeof u?u(n,t):u;n="function"==typeof u&&c?c:e.extend(!0,n,c),delete a.data}c={data:n,success:function(e){var n=e.error||e.sError;n&&Ae(t,0,n),t.json=e,l(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,i,r){r=Le(t,null,"xhr",[t,null,t.jqXHR]),-1===e.inArray(!0,r)&&("parsererror"==i?Ae(t,0,"Invalid JSON response",1):4===n.readyState&&Ae(t,0,"Ajax error",7)),de(t,!1)}},t.oAjaxData=n,Le(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(s,t.sAjaxSource,e.map(n,(function(e,t){return{name:t,value:e}})),l,t):t.sAjaxSource||"string"==typeof a?t.jqXHR=e.ajax(e.extend(c,{url:a||t.sAjaxSource})):"function"==typeof a?t.jqXHR=a.call(s,n,l,t):(t.jqXHR=e.ajax(e.extend(c,a)),a.data=u)}function U(e){return!e.bAjaxDataGet||(e.iDraw++,de(e,!0),j(e,z(e),(function(t){q(e,t)})),!1)}function z(t){var n=t.aoColumns,i=n.length,r=t.oFeatures,o=t.oPreviousSearch,a=t.aoPreSearchCols,s=[],l=_e(t),u=t._iDisplayStart,c=!1!==r.bPaginate?t._iDisplayLength:-1,d=function(e,t){s.push({name:e,value:t})};d("sEcho",t.iDraw),d("iColumns",i),d("sColumns",it(n,"sName").join(",")),d("iDisplayStart",u),d("iDisplayLength",c);var f={draw:t.iDraw,columns:[],order:[],start:u,length:c,search:{value:o.sSearch,regex:o.bRegex}};for(u=0;u<i;u++){var h=n[u],p=a[u];c="function"==typeof h.mData?"function":h.mData,f.columns.push({data:c,name:h.sName,searchable:h.bSearchable,orderable:h.bSortable,search:{value:p.sSearch,regex:p.bRegex}}),d("mDataProp_"+u,c),r.bFilter&&(d("sSearch_"+u,p.sSearch),d("bRegex_"+u,p.bRegex),d("bSearchable_"+u,h.bSearchable)),r.bSort&&d("bSortable_"+u,h.bSortable)}return r.bFilter&&(d("sSearch",o.sSearch),d("bRegex",o.bRegex)),r.bSort&&(e.each(l,(function(e,t){f.order.push({column:t.col,dir:t.dir}),d("iSortCol_"+e,t.col),d("sSortDir_"+e,t.dir)})),d("iSortingCols",l.length)),null===(n=He.ext.legacy.ajax)?t.sAjaxSource?s:f:n?s:f}function q(e,t){var n=function(e,n){return t[e]!==i?t[e]:t[n]},r=H(e,t),o=n("sEcho","draw"),a=n("iTotalRecords","recordsTotal");if(n=n("iTotalDisplayRecords","recordsFiltered"),o!==i){if(1*o<e.iDraw)return;e.iDraw=1*o}for(k(e),e._iRecordsTotal=parseInt(a,10),e._iRecordsDisplay=parseInt(n,10),o=0,a=r.length;o<a;o++)_(e,r[o]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,F(e),e._bInitComplete||oe(e,t),e.bAjaxDataGet=!0,de(e,!1)}function H(t,n){return"data"===(t=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==i?t.ajax.dataSrc:t.sAjaxDataProp)?n.aaData||n[t]:""!==t?x(t)(n):n}function G(t){var i=t.oClasses,r=t.sTableId,o=t.oLanguage,a=t.oPreviousSearch,s=t.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',u=o.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",l):u+l,i=e("<div/>",{id:s.f?null:r+"_filter",class:i.sFilter}).append(e("<label/>").append(u));var c=function(){var e=this.value?this.value:"";e!=a.sSearch&&(W(t,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),t._iDisplayStart=0,F(t))};s=null!==t.searchDelay?t.searchDelay:"ssp"===Be(t)?400:0;var d=e("input",i).val(a.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",s?gt(c,s):c).on("mouseup",(function(e){setTimeout((function(){c.call(d[0])}),10)})).on("keypress.DT",(function(e){if(13==e.keyCode)return!1})).attr("aria-controls",r);return e(t.nTable).on("search.dt.DT",(function(e,i){if(t===i)try{d[0]!==n.activeElement&&d.val(a.sSearch)}catch(e){}})),i[0]}function W(e,t,n){var r=e.oPreviousSearch,o=e.aoPreSearchCols,a=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive},s=function(e){return e.bEscapeRegex!==i?!e.bEscapeRegex:e.bRegex};if(y(e),"ssp"!=Be(e)){for(X(e,t.sSearch,n,s(t),t.bSmart,t.bCaseInsensitive),a(t),t=0;t<o.length;t++)K(e,o[t].sSearch,t,s(o[t]),o[t].bSmart,o[t].bCaseInsensitive);Y(e)}else a(t);e.bFiltered=!0,Le(e,null,"search",[e])}function Y(t){for(var n,i,r=He.ext.search,o=t.aiDisplay,a=0,s=r.length;a<s;a++){for(var l=[],u=0,c=o.length;u<c;u++)i=o[u],n=t.aoData[i],r[a](t,n._aFilterData,i,n._aData,u)&&l.push(i);o.length=0,e.merge(o,l)}}function K(e,t,n,i,r,o){if(""!==t){var a=[],s=e.aiDisplay;for(i=Z(t,i,r,o),r=0;r<s.length;r++)t=e.aoData[s[r]]._aFilterData[n],i.test(t)&&a.push(s[r]);e.aiDisplay=a}}function X(e,t,n,i,r,o){r=Z(t,i,r,o);var a=e.oPreviousSearch.sSearch,s=e.aiDisplayMaster;o=[],0!==He.ext.search.length&&(n=!0);var l=Q(e);if(0>=t.length)e.aiDisplay=s.slice();else{for((l||n||i||a.length>t.length||0!==t.indexOf(a)||e.bSorted)&&(e.aiDisplay=s.slice()),t=e.aiDisplay,n=0;n<t.length;n++)r.test(e.aoData[t[n]]._sFilterRow)&&o.push(t[n]);e.aiDisplay=o}}function Z(t,n,i,r){return t=n?t:ft(t),i&&(t="^(?=.*?"+e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],(function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")})).join(")(?=.*?")+").*$"),new RegExp(t,r?"i":"")}function Q(e){var t,n,i=e.aoColumns,r=He.ext.type.search,o=!1,a=0;for(t=e.aoData.length;a<t;a++){var s=e.aoData[a];if(!s._aFilterData){var l=[],u=0;for(n=i.length;u<n;u++){if((o=i[u]).bSearchable){var c=S(e,a,u,"filter");r[o.sType]&&(c=r[o.sType](c)),null===c&&(c=""),"string"!=typeof c&&c.toString&&(c=c.toString())}else c="";c.indexOf&&-1!==c.indexOf("&")&&(ht.innerHTML=c,c=pt?ht.textContent:ht.innerText),c.replace&&(c=c.replace(/[\r\n\u2028]/g,"")),l.push(c)}s._aFilterData=l,s._sFilterRow=l.join("  "),o=!0}}return o}function J(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ee(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function te(t){var n=t.sTableId,i=t.aanFeatures.i,r=e("<div/>",{class:t.oClasses.sInfo,id:i?null:n+"_info"});return i||(t.aoDrawCallback.push({fn:ne,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),r[0]}function ne(t){var n=t.aanFeatures.i;if(0!==n.length){var i=t.oLanguage,r=t._iDisplayStart+1,o=t.fnDisplayEnd(),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==a&&(l+=" "+i.sInfoFiltered),l=ie(t,l+=i.sInfoPostFix),null!==(i=i.fnInfoCallback)&&(l=i.call(t.oInstance,t,r,o,a,s,l)),e(n).html(l)}}function ie(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,o=e.fnRecordsDisplay(),a=-1===r;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,a?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,a?1:Math.ceil(o/r)))}function re(e){var t=e.iInitDisplayStart,n=e.aoColumns,i=e.oFeatures,r=e.bDeferLoading;if(e.bInitialised){B(e),R(e),L(e,e.aoHeader),L(e,e.aoFooter),de(e,!0),i.bAutoWidth&&me(e);var o=0;for(i=n.length;o<i;o++){var a=n[o];a.sWidth&&(a.nTh.style.width=be(a.sWidth))}Le(e,null,"preInit",[e]),M(e),("ssp"!=(n=Be(e))||r)&&("ajax"==n?j(e,[],(function(n){var i=H(e,n);for(o=0;o<i.length;o++)_(e,i[o]);e.iInitDisplayStart=t,M(e),de(e,!1),oe(e,n)})):(de(e,!1),oe(e)))}else setTimeout((function(){re(e)}),200)}function oe(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&h(e),Le(e,null,"plugin-init",[e,t]),Le(e,"aoInitComplete","init",[e,t])}function ae(e,t){t=parseInt(t,10),e._iDisplayLength=t,Fe(e),Le(e,null,"length",[e,t])}function se(t){var n=t.oClasses,i=t.sTableId,r=t.aLengthMenu,o=Array.isArray(r[0]),a=o?r[0]:r;r=o?r[1]:r,o=e("<select/>",{name:i+"_length","aria-controls":i,class:n.sLengthSelect});for(var s=0,l=a.length;s<l;s++)o[0][s]=new Option("number"==typeof r[s]?t.fnFormatNumber(r[s]):r[s],a[s]);var u=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(u[0].id=i+"_length"),u.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",o[0].outerHTML)),e("select",u).val(t._iDisplayLength).on("change.DT",(function(n){ae(t,e(this).val()),F(t)})),e(t.nTable).on("length.dt.DT",(function(n,i,r){t===i&&e("select",u).val(r)})),u[0]}function le(t){var n=t.sPaginationType,i=He.ext.pager[n],r="function"==typeof i,o=function(e){F(e)};n=e("<div/>").addClass(t.oClasses.sPaging+n)[0];var a=t.aanFeatures;return r||i.fnInit(t,n,o),a.p||(n.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(r){var t,n=e._iDisplayStart,s=e._iDisplayLength,l=e.fnRecordsDisplay(),u=-1===s;for(n=u?0:Math.ceil(n/s),s=u?1:Math.ceil(l/s),l=i(n,s),u=0,t=a.p.length;u<t;u++)Me(e,"pageButton")(e,a.p[u],u,l,n,s)}else i.fnUpdate(e,o)},sName:"pagination"})),n}function ue(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,o=e.fnRecordsDisplay();return 0===o||-1===r?i=0:"number"==typeof t?(i=t*r)>o&&(i=0):"first"==t?i=0:"previous"==t?0>(i=0<=r?i-r:0)&&(i=0):"next"==t?i+r<o&&(i+=r):"last"==t?i=Math.floor((o-1)/r)*r:Ae(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==i,e._iDisplayStart=i,t&&(Le(e,null,"page",[e]),n&&F(e)),t}function ce(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function de(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),Le(t,null,"processing",[t,n])}function fe(t){var n=e(t.nTable);n.attr("role","grid");var i=t.oScroll;if(""===i.sX&&""===i.sY)return t.nTable;var r=i.sX,o=i.sY,a=t.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,u=e(n[0].cloneNode(!1)),c=e(n[0].cloneNode(!1)),d=n.children("tfoot");d.length||(d=null),u=e("<div/>",{class:a.sScrollWrapper}).append(e("<div/>",{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?r?be(r):null:"100%"}).append(e("<div/>",{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(e("<div/>",{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:r?be(r):null}).append(n)),d&&u.append(e("<div/>",{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:r?r?be(r):null:"100%"}).append(e("<div/>",{class:a.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var f=(n=u.children())[0];a=n[1];var h=d?n[2]:null;return r&&e(a).on("scroll.DT",(function(e){e=this.scrollLeft,f.scrollLeft=e,d&&(h.scrollLeft=e)})),e(a).css("max-height",o),i.bCollapse||e(a).css("height",o),t.nScrollHead=f,t.nScrollBody=a,t.nScrollFoot=h,t.aoDrawCallback.push({fn:he,sName:"scrolling"}),u[0]}function he(t){var n=t.oScroll,r=n.sX,o=n.sXInner,a=n.sY;n=n.iBarWidth;var s=e(t.nScrollHead),l=s[0].style,u=s.children("div"),c=u[0].style,d=u.children("table");u=t.nScrollBody;var f,m=e(u),g=u.style,v=e(t.nScrollFoot).children("div"),y=v.children("table"),b=e(t.nTHead),_=e(t.nTable),w=_[0],S=w.style,E=t.nTFoot?e(t.nTFoot):null,C=t.oBrowser,x=C.bScrollOversize,T=it(t.aoColumns,"nTh"),I=[],k=[],O=[],A=[],D=function(e){(e=e.style).paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},P=u.scrollHeight>u.clientHeight;if(t.scrollBarVis!==P&&t.scrollBarVis!==i)t.scrollBarVis=P,h(t);else{if(t.scrollBarVis=P,_.children("thead, tfoot").remove(),E){var N=E.clone().prependTo(_),R=E.find("tr");N=N.find("tr")}var L=b.clone().prependTo(_);b=b.find("tr"),P=L.find("tr"),L.find("th, td").removeAttr("tabindex"),r||(g.width="100%",s[0].style.width="100%"),e.each($(t,L),(function(e,n){f=p(t,e),n.style.width=t.aoColumns[f].sWidth})),E&&pe((function(e){e.style.width=""}),N),s=_.outerWidth(),""===r?(S.width="100%",x&&(_.find("tbody").height()>u.offsetHeight||"scroll"==m.css("overflow-y"))&&(S.width=be(_.outerWidth()-n)),s=_.outerWidth()):""!==o&&(S.width=be(o),s=_.outerWidth()),pe(D,P),pe((function(t){O.push(t.innerHTML),I.push(be(e(t).css("width")))}),P),pe((function(t,n){-1!==e.inArray(t,T)&&(t.style.width=I[n])}),b),e(P).height(0),E&&(pe(D,N),pe((function(t){A.push(t.innerHTML),k.push(be(e(t).css("width")))}),N),pe((function(e,t){e.style.width=k[t]}),R),e(N).height(0)),pe((function(e,t){e.innerHTML='<div class="dataTables_sizing">'+O[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=I[t]}),P),E&&pe((function(e,t){e.innerHTML='<div class="dataTables_sizing">'+A[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=k[t]}),N),_.outerWidth()<s?(R=u.scrollHeight>u.offsetHeight||"scroll"==m.css("overflow-y")?s+n:s,x&&(u.scrollHeight>u.offsetHeight||"scroll"==m.css("overflow-y"))&&(S.width=be(R-n)),""!==r&&""===o||Ae(t,1,"Possible column misalignment",6)):R="100%",g.width=be(R),l.width=be(R),E&&(t.nScrollFoot.style.width=be(R)),!a&&x&&(g.height=be(w.offsetHeight+n)),r=_.outerWidth(),d[0].style.width=be(r),c.width=be(r),o=_.height()>u.clientHeight||"scroll"==m.css("overflow-y"),c[a="padding"+(C.bScrollbarLeft?"Left":"Right")]=o?n+"px":"0px",E&&(y[0].style.width=be(r),v[0].style.width=be(r),v[0].style[a]=o?n+"px":"0px"),_.children("colgroup").insertBefore(_.children("thead")),m.trigger("scroll"),!t.bSorted&&!t.bFiltered||t._drawHold||(u.scrollTop=0)}}function pe(e,t,n){for(var i,r,o=0,a=0,s=t.length;a<s;){for(i=t[a].firstChild,r=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?e(i,r,o):e(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;a++}}function me(n){var i,r=n.nTable,o=n.aoColumns,a=n.oScroll,s=a.sY,l=a.sX,u=a.sXInner,c=o.length,d=v(n,"bVisible"),f=e("th",n.nTHead),m=r.getAttribute("width"),y=r.parentNode,b=!1,_=n.oBrowser;for(a=_.bScrollOversize,(i=r.style.width)&&-1!==i.indexOf("%")&&(m=i),i=0;i<d.length;i++){var w=o[d[i]];null!==w.sWidth&&(w.sWidth=ge(w.sWidthOrig,y),b=!0)}if(a||!b&&!l&&!s&&c==g(n)&&c==f.length)for(i=0;i<c;i++)null!==(d=p(n,i))&&(o[d].sWidth=be(f.eq(i).width()));else{(c=e(r).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var S=e("<tr/>").appendTo(c.find("tbody"));for(c.find("thead, tfoot").remove(),c.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),c.find("tfoot th, tfoot td").css("width",""),f=$(n,c.find("thead")[0]),i=0;i<d.length;i++)w=o[d[i]],f[i].style.width=null!==w.sWidthOrig&&""!==w.sWidthOrig?be(w.sWidthOrig):"",w.sWidthOrig&&l&&e(f[i]).append(e("<div/>").css({width:w.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<d.length;i++)w=o[b=d[i]],e(ve(n,b)).clone(!1).append(w.sContentPadding).appendTo(S);for(e("[name]",c).removeAttr("name"),w=e("<div/>").css(l||s?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(c).appendTo(y),l&&u?c.width(u):l?(c.css("width","auto"),c.removeAttr("width"),c.width()<y.clientWidth&&m&&c.width(y.clientWidth)):s?c.width(y.clientWidth):m&&c.width(m),i=s=0;i<d.length;i++)u=(y=e(f[i])).outerWidth()-y.width(),s+=y=_.bBounding?Math.ceil(f[i].getBoundingClientRect().width):y.outerWidth(),o[d[i]].sWidth=be(y-u);r.style.width=be(s),w.remove()}m&&(r.style.width=be(m)),!m&&!l||n._reszEvt||(r=function(){e(t).on("resize.DT-"+n.sInstance,gt((function(){h(n)})))},a?setTimeout(r,1e3):r(),n._reszEvt=!0)}function ge(t,i){return t?(i=(t=e("<div/>").css("width",be(t)).appendTo(i||n.body))[0].offsetWidth,t.remove(),i):0}function ve(t,n){var i=ye(t,n);if(0>i)return null;var r=t.aoData[i];return r.nTr?r.anCells[n]:e("<td/>").html(S(t,i,n,"display"))[0]}function ye(e,t){for(var n,i=-1,r=-1,o=0,a=e.aoData.length;o<a;o++)(n=(n=(n=S(e,o,t,"display")+"").replace(mt,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,r=o);return r}function be(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function _e(t){var n=[],r=t.aoColumns,o=t.aaSortingFixed,a=e.isPlainObject(o),s=[],l=function(t){t.length&&!Array.isArray(t[0])?s.push(t):e.merge(s,t)};for(Array.isArray(o)&&l(o),a&&o.pre&&l(o.pre),l(t.aaSorting),a&&o.post&&l(o.post),t=0;t<s.length;t++){var u=s[t][0];for(o=0,a=(l=r[u].aDataSort).length;o<a;o++){var c=l[o],d=r[c].sType||"string";s[t]._idx===i&&(s[t]._idx=e.inArray(s[t][1],r[c].asSorting)),n.push({src:u,col:c,dir:s[t][1],index:s[t]._idx,type:d,formatter:He.ext.type.order[d+"-pre"]})}}return n}function we(e){var t,n=[],i=He.ext.type.order,r=e.aoData,o=0,a=e.aiDisplayMaster;y(e);var s=_e(e),l=0;for(t=s.length;l<t;l++){var u=s[l];u.formatter&&o++,Te(e,u.col)}if("ssp"!=Be(e)&&0!==s.length){for(l=0,t=a.length;l<t;l++)n[a[l]]=l;o===s.length?a.sort((function(e,t){var i,o=s.length,a=r[e]._aSortData,l=r[t]._aSortData;for(i=0;i<o;i++){var u=s[i],c=a[u.col],d=l[u.col];if(0!==(c=c<d?-1:c>d?1:0))return"asc"===u.dir?c:-c}return(c=n[e])<(d=n[t])?-1:c>d?1:0})):a.sort((function(e,t){var o,a=s.length,l=r[e]._aSortData,u=r[t]._aSortData;for(o=0;o<a;o++){var c=s[o],d=l[c.col],f=u[c.col];if(0!==(d=(c=i[c.type+"-"+c.dir]||i["string-"+c.dir])(d,f)))return d}return(d=n[e])<(f=n[t])?-1:d>f?1:0}))}e.bSorted=!0}function Se(e){var t=e.aoColumns,n=_e(e);e=e.oLanguage.oAria;for(var i=0,r=t.length;i<r;i++){var o=t[i],a=o.asSorting,s=o.sTitle.replace(/<.*?>/g,""),l=o.nTh;l.removeAttribute("aria-sort"),o.bSortable&&(0<n.length&&n[0].col==i?(l.setAttribute("aria-sort","asc"==n[0].dir?"ascending":"descending"),o=a[n[0].index+1]||a[0]):o=a[0],s+="asc"===o?e.sSortAscending:e.sSortDescending),l.setAttribute("aria-label",s)}}function Ee(t,n,r,o){var a=t.aaSorting,s=t.aoColumns[n].asSorting,l=function(t,n){var r=t._idx;return r===i&&(r=e.inArray(t[1],s)),r+1<s.length?r+1:n?null:0};"number"==typeof a[0]&&(a=t.aaSorting=[a]),r&&t.oFeatures.bSortMulti?-1!==(r=e.inArray(n,it(a,"0")))?(null===(n=l(a[r],!0))&&1===a.length&&(n=0),null===n?a.splice(r,1):(a[r][1]=s[n],a[r]._idx=n)):(a.push([n,s[0],0]),a[a.length-1]._idx=0):a.length&&a[0][0]==n?(n=l(a[0]),a.length=1,a[0][1]=s[n],a[0]._idx=n):(a.length=0,a.push([n,s[0]]),a[0]._idx=0),M(t),"function"==typeof o&&o(t)}function Ce(e,t,n,i){var r=e.aoColumns[n];Ne(t,{},(function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(de(e,!0),setTimeout((function(){Ee(e,n,t.shiftKey,i),"ssp"!==Be(e)&&de(e,!1)}),0)):Ee(e,n,t.shiftKey,i))}))}function xe(t){var n,i=t.aLastSort,r=t.oClasses.sSortColumn,o=_e(t),a=t.oFeatures;if(a.bSort&&a.bSortClasses){for(a=0,n=i.length;a<n;a++){var s=i[a].src;e(it(t.aoData,"anCells",s)).removeClass(r+(2>a?a+1:3))}for(a=0,n=o.length;a<n;a++)s=o[a].src,e(it(t.aoData,"anCells",s)).addClass(r+(2>a?a+1:3))}t.aLastSort=o}function Te(e,t){var n,i=e.aoColumns[t],r=He.ext.order[i.sSortDataType];r&&(n=r.call(e.oInstance,e,t,m(e,t)));for(var o,a=He.ext.type.order[i.sType+"-pre"],s=0,l=e.aoData.length;s<l;s++)(i=e.aoData[s])._aSortData||(i._aSortData=[]),(!i._aSortData[t]||r)&&(o=r?n[s]:S(e,s,t,"sort"),i._aSortData[t]=a?a(o):o)}function Ie(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:J(t.oPreviousSearch),columns:e.map(t.aoColumns,(function(e,n){return{visible:e.bVisible,search:J(t.aoPreSearchCols[n])}}))};Le(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oSavedState=n,t.fnStateSaveCallback.call(t.oInstance,t,n)}}function ke(t,n,r){var o,a,s=t.aoColumns;if(n=function(n){if(n&&n.time){var l=Le(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===e.inArray(!1,l)&&!(0<(l=t.iStateDuration)&&n.time<+new Date-1e3*l||n.columns&&s.length!==n.columns.length)){if(t.oLoadedState=e.extend(!0,{},n),n.start!==i&&(t._iDisplayStart=n.start,t.iInitDisplayStart=n.start),n.length!==i&&(t._iDisplayLength=n.length),n.order!==i&&(t.aaSorting=[],e.each(n.order,(function(e,n){t.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)}))),n.search!==i&&e.extend(t.oPreviousSearch,ee(n.search)),n.columns)for(o=0,a=n.columns.length;o<a;o++)(l=n.columns[o]).visible!==i&&(s[o].bVisible=l.visible),l.search!==i&&e.extend(t.aoPreSearchCols[o],ee(l.search));Le(t,"aoStateLoaded","stateLoaded",[t,n])}}r()},t.oFeatures.bStateSave){var l=t.fnStateLoadCallback.call(t.oInstance,t,n);l!==i&&n(l)}else r()}function Oe(t){var n=He.settings;return-1!==(t=e.inArray(t,it(n,"nTable")))?n[t]:null}function Ae(e,n,i,r){if(i="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)t.console&&console.log&&console.log(i);else if(n=(n=He.ext).sErrMode||n.errMode,e&&Le(e,null,"error",[e,r,i]),"alert"==n)alert(i);else{if("throw"==n)throw Error(i);"function"==typeof n&&n(e,r,i)}}function De(t,n,r,o){Array.isArray(r)?e.each(r,(function(e,i){Array.isArray(i)?De(t,n,i[0],i[1]):De(t,n,i)})):(o===i&&(o=r),n[r]!==i&&(t[o]=n[r]))}function Pe(t,n,i){var r;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];e.isPlainObject(o)?(e.isPlainObject(t[r])||(t[r]={}),e.extend(!0,t[r],o)):i&&"data"!==r&&"aaData"!==r&&Array.isArray(o)?t[r]=o.slice():t[r]=o}return t}function Ne(t,n,i){e(t).on("click.DT",n,(function(n){e(t).trigger("blur"),i(n)})).on("keypress.DT",n,(function(e){13===e.which&&(e.preventDefault(),i(e))})).on("selectstart.DT",(function(){return!1}))}function Re(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function Le(t,n,i,r){var o=[];return n&&(o=e.map(t[n].slice().reverse(),(function(e,n){return e.fn.apply(t.oInstance,r)}))),null!==i&&(n=e.Event(i+".dt"),e(t.nTable).trigger(n,r),o.push(n.result)),o}function Fe(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),t-=t%i,(-1===i||0>t)&&(t=0),e._iDisplayStart=t}function Me(t,n){t=t.renderer;var i=He.ext.renderer[n];return e.isPlainObject(t)&&t[n]?i[t[n]]||i._:"string"==typeof t&&i[t]||i._}function Be(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Ve(e,t){var n=Dt.numbers_length,i=Math.floor(n/2);return t<=n?e=ot(0,t):e<=i?((e=ot(0,n-2)).push("ellipsis"),e.push(t-1)):(e>=t-1-i?e=ot(t-(n-2),t):((e=ot(e-i+2,e+i-1)).push("ellipsis"),e.push(t-1)),e.splice(0,0,"ellipsis"),e.splice(0,0,0)),e.DT_el="span",e}function $e(t){e.each({num:function(e){return Pt(e,t)},"num-fmt":function(e){return Pt(e,t,Ze)},"html-num":function(e){return Pt(e,t,Ye)},"html-num-fmt":function(e){return Pt(e,t,Ye,Ze)}},(function(e,n){Ue.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(Ue.type.search[e+t]=Ue.type.search.html)}))}function je(e){return function(){var t=[Oe(this[He.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return He.ext.internal[e].apply(this,t)}}var Ue,ze,qe,He=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new bt(e?Oe(this[Ue.iApiIndex]):this)},this.fnAddData=function(t,n){var r=this.api(!0);return t=Array.isArray(t)&&(Array.isArray(t[0])||e.isPlainObject(t[0]))?r.rows.add(t):r.row.add(t),(n===i||n)&&r.draw(),t.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===i||e?t.draw(!1):(""!==r.sX||""!==r.sY)&&he(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===i||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var r=this.api(!0),o=(e=r.rows(e)).settings()[0],a=o.aoData[e[0][0]];return e.remove(),t&&t.call(this,o,a),(n===i||n)&&r.draw(),a},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,r,o,a){o=this.api(!0),null===t||t===i?o.search(e,n,r,a):o.column(t).search(e,n,r,a),o.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==i){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==i||"td"==r||"th"==r?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==i?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();return"TR"==n?t.row(e).index():"TD"==n||"TH"==n?[(e=t.cell(e).index()).row,e.columnVisible,e.column]:null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){e=this.api(!0).page(e),(t===i||t)&&e.draw(!1)},this.fnSetColumnVis=function(e,t,n){e=this.api(!0).column(e).visible(t),(n===i||n)&&e.columns.adjust().draw()},this.fnSettings=function(){return Oe(this[Ue.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,r,o){var a=this.api(!0);return n===i||null===n?a.row(t).data(e):a.cell(t,n).data(e),(o===i||o)&&a.columns.adjust(),(r===i||r)&&a.draw(),0},this.fnVersionCheck=Ue.fnVersionCheck;var n=this,r=t===i,c=this.length;for(var h in r&&(t={}),this.oApi=this.internal=Ue.internal,He.ext.internal)h&&(this[h]=je(h));return this.each((function(){var h,p={},m=1<c?Pe(p,t,!0):t,g=0;p=this.getAttribute("id");var v=!1,y=He.defaults,S=e(this);if("table"!=this.nodeName.toLowerCase())Ae(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{s(y),l(y.column),o(y,y,!0),o(y.column,y.column,!0),o(y,e.extend(m,S.data()),!0);var E=He.settings;for(g=0,h=E.length;g<h;g++){var C=E[g];if(C.nTable==this||C.nTHead&&C.nTHead.parentNode==this||C.nTFoot&&C.nTFoot.parentNode==this){var T=m.bRetrieve!==i?m.bRetrieve:y.bRetrieve;if(r||T)return C.oInstance;if(m.bDestroy!==i?m.bDestroy:y.bDestroy){C.oInstance.fnDestroy();break}return void Ae(C,0,"Cannot reinitialise DataTable",3)}if(C.sTableId==this.id){E.splice(g,1);break}}null!==p&&""!==p||(this.id=p="DataTables_Table_"+He.ext._unique++);var I=e.extend(!0,{},He.models.oSettings,{sDestroyWidth:S[0].style.width,sInstance:p,sTableId:p});I.nTable=this,I.oApi=n.internal,I.oInit=m,E.push(I),I.oInstance=1===n.length?n:S.dataTable(),s(m),a(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=Array.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Pe(e.extend(!0,{},y),m),De(I.oFeatures,m,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),De(I,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),De(I.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),De(I.oLanguage,m,"fnInfoCallback"),Re(I,"aoDrawCallback",m.fnDrawCallback,"user"),Re(I,"aoServerParams",m.fnServerParams,"user"),Re(I,"aoStateSaveParams",m.fnStateSaveParams,"user"),Re(I,"aoStateLoadParams",m.fnStateLoadParams,"user"),Re(I,"aoStateLoaded",m.fnStateLoaded,"user"),Re(I,"aoRowCallback",m.fnRowCallback,"user"),Re(I,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Re(I,"aoHeaderCallback",m.fnHeaderCallback,"user"),Re(I,"aoFooterCallback",m.fnFooterCallback,"user"),Re(I,"aoInitComplete",m.fnInitComplete,"user"),Re(I,"aoPreDrawCallback",m.fnPreDrawCallback,"user"),I.rowIdFn=x(m.rowId),u(I);var k=I.oClasses;e.extend(k,He.ext.classes,m.oClasses),S.addClass(k.sTable),I.iInitDisplayStart===i&&(I.iInitDisplayStart=m.iDisplayStart,I._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading&&(I.bDeferLoading=!0,p=Array.isArray(m.iDeferLoading),I._iRecordsDisplay=p?m.iDeferLoading[0]:m.iDeferLoading,I._iRecordsTotal=p?m.iDeferLoading[1]:m.iDeferLoading);var O=I.oLanguage;e.extend(!0,O,m.oLanguage),O.sUrl?(e.ajax({dataType:"json",url:O.sUrl,success:function(t){a(t),o(y.oLanguage,t),e.extend(!0,O,t),Le(I,null,"i18n",[I]),re(I)},error:function(){re(I)}}),v=!0):Le(I,null,"i18n",[I]),null===m.asStripeClasses&&(I.asStripeClasses=[k.sStripeOdd,k.sStripeEven]),p=I.asStripeClasses;var A=S.children("tbody").find("tr").eq(0);if(-1!==e.inArray(!0,e.map(p,(function(e,t){return A.hasClass(e)})))&&(e("tbody tr",this).removeClass(p.join(" ")),I.asDestroyStripes=p.slice()),p=[],0!==(E=this.getElementsByTagName("thead")).length&&(V(I.aoHeader,E[0]),p=$(I)),null===m.aoColumns)for(E=[],g=0,h=p.length;g<h;g++)E.push(null);else E=m.aoColumns;for(g=0,h=E.length;g<h;g++)d(I,p?p[g]:null);if(b(I,m.aoColumnDefs,E,(function(e,t){f(I,e,t)})),A.length){var D=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(A[0]).children("th, td").each((function(e,t){var n=I.aoColumns[e];if(n.mData===e){var r=D(t,"sort")||D(t,"order");t=D(t,"filter")||D(t,"search"),null===r&&null===t||(n.mData={_:e+".display",sort:null!==r?e+".@data-"+r:i,type:null!==r?e+".@data-"+r:i,filter:null!==t?e+".@data-"+t:i},f(I,e))}}))}var P=I.oFeatures;p=function(){if(m.aaSorting===i){var t=I.aaSorting;for(g=0,h=t.length;g<h;g++)t[g][1]=I.aoColumns[g].asSorting[0]}xe(I),P.bSort&&Re(I,"aoDrawCallback",(function(){if(I.bSorted){var t=_e(I),n={};e.each(t,(function(e,t){n[t.src]=t.dir})),Le(I,null,"order",[I,t,n]),Se(I)}})),Re(I,"aoDrawCallback",(function(){(I.bSorted||"ssp"===Be(I)||P.bDeferRender)&&xe(I)}),"sc"),t=S.children("caption").each((function(){this._captionSide=e(this).css("caption-side")}));var n=S.children("thead");if(0===n.length&&(n=e("<thead/>").appendTo(S)),I.nTHead=n[0],0===(n=S.children("tbody")).length&&(n=e("<tbody/>").appendTo(S)),I.nTBody=n[0],0===(n=S.children("tfoot")).length&&0<t.length&&(""!==I.oScroll.sX||""!==I.oScroll.sY)&&(n=e("<tfoot/>").appendTo(S)),0===n.length||0===n.children().length?S.addClass(k.sNoFooter):0<n.length&&(I.nTFoot=n[0],V(I.aoFooter,I.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)_(I,m.aaData[g]);else(I.bDeferLoading||"dom"==Be(I))&&w(I,e(I.nTBody).children("tr"));I.aiDisplay=I.aiDisplayMaster.slice(),I.bInitialised=!0,!1===v&&re(I)},m.bStateSave?(P.bStateSave=!0,Re(I,"aoDrawCallback",Ie,"state_save"),ke(I,m,p)):p()}})),n=null,this},Ge={},We=/[\r\n\u2028]/g,Ye=/<.*?>/g,Ke=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Xe=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\|\$|\^|\-)/g,Ze=/['\u00A0,$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,Qe=function(e){return!e||!0===e||"-"===e},Je=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},et=function(e,t){return Ge[t]||(Ge[t]=new RegExp(ft(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ge[t],"."):e},tt=function(e,t,n){var i="string"==typeof e;return!!Qe(e)||(t&&i&&(e=et(e,t)),n&&i&&(e=e.replace(Ze,"")),!isNaN(parseFloat(e))&&isFinite(e))},nt=function(e,t,n){return!!Qe(e)||((Qe(e)||"string"==typeof e)&&!!tt(e.replace(Ye,""),t,n)||null)},it=function(e,t,n){var r=[],o=0,a=e.length;if(n!==i)for(;o<a;o++)e[o]&&e[o][t]&&r.push(e[o][t][n]);else for(;o<a;o++)e[o]&&r.push(e[o][t]);return r},rt=function(e,t,n,r){var o=[],a=0,s=t.length;if(r!==i)for(;a<s;a++)e[t[a]][n]&&o.push(e[t[a]][n][r]);else for(;a<s;a++)o.push(e[t[a]][n]);return o},ot=function(e,t){var n=[];if(t===i){t=0;var r=e}else r=t,t=e;for(e=t;e<r;e++)n.push(e);return n},at=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},st=function(e){e:{if(!(2>e.length))for(var t=e.slice().sort(),n=t[0],i=1,r=t.length;i<r;i++){if(t[i]===n){t=!1;break e}n=t[i]}t=!0}if(t)return e.slice();t=[],r=e.length;var o,a=0;i=0;e:for(;i<r;i++){for(n=e[i],o=0;o<a;o++)if(t[o]===n)continue e;t.push(n),a++}return t},lt=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)lt(e,t[n]);else e.push(t);return e};Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),He.util={throttle:function(e,t){var n,r,o=t!==i?t:200;return function(){var t=this,a=+new Date,s=arguments;n&&a<n+o?(clearTimeout(r),r=setTimeout((function(){n=i,e.apply(t,s)}),o)):(n=a,e.apply(t,s))}},escapeRegex:function(e){return e.replace(Xe,"\\$1")}};var ut=function(e,t,n){e[t]!==i&&(e[n]=e[t])},ct=/\[.*?\]$/,dt=/\(\)$/,ft=He.util.escapeRegex,ht=e("<div>")[0],pt=ht.textContent!==i,mt=/<.*?>/g,gt=He.util.throttle,vt=[],yt=Array.prototype,bt=function(t,n){if(!(this instanceof bt))return new bt(t,n);var i=[],r=function(t){(t=function(t){var n,i=He.settings,r=e.map(i,(function(e,t){return e.nTable}));if(!t)return[];if(t.nTable&&t.oApi)return[t];if(t.nodeName&&"table"===t.nodeName.toLowerCase()){var o=e.inArray(t,r);return-1!==o?[i[o]]:null}return t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?n=e(t):t instanceof e&&(n=t),n?n.map((function(t){return-1!==(o=e.inArray(this,r))?i[o]:null})).toArray():void 0)}(t))&&i.push.apply(i,t)};if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)r(t[o]);else r(t);this.context=st(i),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},bt.extend(this,this,vt)};He.Api=bt,e.extend(bt.prototype,{any:function(){return 0!==this.count()},concat:yt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new bt(t[e],this[e]):null},filter:function(e){var t=[];if(yt.filter)t=yt.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new bt(this.context,t)},flatten:function(){var e=[];return new bt(this.context,e.concat.apply(e,this.toArray()))},join:yt.join,indexOf:yt.indexOf||function(e,t){t=t||0;for(var n=this.length;t<n;t++)if(this[t]===e)return t;return-1},iterator:function(e,t,n,r){var o,a,s,l=[],u=this.context,c=this.selector;"string"==typeof e&&(r=n,n=t,t=e,e=!1);var d=0;for(o=u.length;d<o;d++){var f=new bt(u[d]);if("table"===t){var h=n.call(f,u[d],d);h!==i&&l.push(h)}else if("columns"===t||"rows"===t)(h=n.call(f,u[d],this[d],d))!==i&&l.push(h);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t){var p=this[d];"column-rows"===t&&(s=xt(u[d],c.opts));var m=0;for(a=p.length;m<a;m++)h=p[m],(h="cell"===t?n.call(f,u[d],h.row,h.column,d,m):n.call(f,u[d],h,d,m,s))!==i&&l.push(h)}}return l.length||r?((t=(e=new bt(u,e?l.concat.apply([],l):l)).selector).rows=c.rows,t.cols=c.cols,t.opts=c.opts,e):this},lastIndexOf:yt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(yt.map)t=yt.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new bt(this.context,t)},pluck:function(e){return this.map((function(t){return t[e]}))},pop:yt.pop,push:yt.push,reduce:yt.reduce||function(e,t){return c(this,e,t,0,this.length,1)},reduceRight:yt.reduceRight||function(e,t){return c(this,e,t,this.length-1,-1,-1)},reverse:yt.reverse,selector:null,shift:yt.shift,slice:function(){return new bt(this.context,this)},sort:yt.sort,splice:yt.splice,toArray:function(){return yt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new bt(this.context,st(this))},unshift:yt.unshift}),bt.extend=function(e,t,n){if(n.length&&t&&(t instanceof bt||t.__dt_wrapper)){var i,r=function(e,t,n){return function(){var i=t.apply(e,arguments);return bt.extend(i,i,n.methodExt),i}},o=0;for(i=n.length;o<i;o++){var a=n[o];t[a.name]="function"===a.type?r(e,a.val,a):"object"===a.type?{}:a.val,t[a.name].__dt_wrapper=!0,bt.extend(e,t[a.name],a.propExt)}}},bt.register=ze=function(t,n){if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++)bt.register(t[i],n);else{r=t.split(".");var o,a=vt;for(t=0,i=r.length;t<i;t++){var s=(o=-1!==r[t].indexOf("()"))?r[t].replace("()",""):r[t];e:{for(var l=0,u=a.length;l<u;l++)if(a[l].name===s){l=a[l];break e}l=null}l||(l={name:s,val:{},methodExt:[],propExt:[],type:"object"},a.push(l)),t===i-1?(l.val=n,l.type="function"==typeof n?"function":e.isPlainObject(n)?"object":"other"):a=o?l.methodExt:l.propExt}}},bt.registerPlural=qe=function(e,t,n){bt.register(e,n),bt.register(t,(function(){var e=n.apply(this,arguments);return e===this?this:e instanceof bt?e.length?Array.isArray(e[0])?new bt(e.context,e[0]):e[0]:i:e}))};var _t=function(t,n){if(Array.isArray(t))return e.map(t,(function(e){return _t(e,n)}));if("number"==typeof t)return[n[t]];var i=e.map(n,(function(e,t){return e.nTable}));return e(i).filter(t).map((function(t){return t=e.inArray(this,i),n[t]})).toArray()};ze("tables()",(function(e){return e!==i&&null!==e?new bt(_t(e,this.context)):this})),ze("table()",(function(e){var t=(e=this.tables(e)).context;return t.length?new bt(t[0]):e})),qe("tables().nodes()","table().node()",(function(){return this.iterator("table",(function(e){return e.nTable}),1)})),qe("tables().body()","table().body()",(function(){return this.iterator("table",(function(e){return e.nTBody}),1)})),qe("tables().header()","table().header()",(function(){return this.iterator("table",(function(e){return e.nTHead}),1)})),qe("tables().footer()","table().footer()",(function(){return this.iterator("table",(function(e){return e.nTFoot}),1)})),qe("tables().containers()","table().container()",(function(){return this.iterator("table",(function(e){return e.nTableWrapper}),1)})),ze("draw()",(function(e){return this.iterator("table",(function(t){"page"===e?F(t):("string"==typeof e&&(e="full-hold"!==e),M(t,!1===e))}))})),ze("page()",(function(e){return e===i?this.page.info().page:this.iterator("table",(function(t){ue(t,e)}))})),ze("page.info()",(function(e){if(0===this.context.length)return i;var t=(e=this.context[0])._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,r=e.fnRecordsDisplay(),o=-1===n;return{page:o?0:Math.floor(t/n),pages:o?1:Math.ceil(r/n),start:t,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===Be(e)}})),ze("page.len()",(function(e){return e===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",(function(t){ae(t,e)}))}));var wt=function(e,t,n){if(n){var i=new bt(e);i.one("draw",(function(){n(i.ajax.json())}))}if("ssp"==Be(e))M(e,t);else{de(e,!0);var r=e.jqXHR;r&&4!==r.readyState&&r.abort(),j(e,[],(function(n){k(e);for(var i=0,r=(n=H(e,n)).length;i<r;i++)_(e,n[i]);M(e,t),de(e,!1)}))}};ze("ajax.json()",(function(){var e=this.context;if(0<e.length)return e[0].json})),ze("ajax.params()",(function(){var e=this.context;if(0<e.length)return e[0].oAjaxData})),ze("ajax.reload()",(function(e,t){return this.iterator("table",(function(n){wt(n,!1===t,e)}))})),ze("ajax.url()",(function(t){var n=this.context;return t===i?0===n.length?i:(n=n[0]).ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",(function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t}))})),ze("ajax.url().load()",(function(e,t){return this.iterator("table",(function(n){wt(n,!1===t,e)}))}));var St=function(e,t,n,r,o){var a,s,l,u=[],c=typeof t;for(t&&"string"!==c&&"function"!==c&&t.length!==i||(t=[t]),c=0,s=t.length;c<s;c++){var d=t[c]&&t[c].split&&!t[c].match(/[\[\(:]/)?t[c].split(","):[t[c]],f=0;for(l=d.length;f<l;f++)(a=n("string"==typeof d[f]?d[f].trim():d[f]))&&a.length&&(u=u.concat(a))}if((e=Ue.selector[e]).length)for(c=0,s=e.length;c<s;c++)u=e[c](r,o,u);return st(u)},Et=function(t){return t||(t={}),t.filter&&t.search===i&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},Ct=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},xt=function(t,n){var i=[],r=t.aiDisplay,o=t.aiDisplayMaster,a=n.search,s=n.order;if(n=n.page,"ssp"==Be(t))return"removed"===a?[]:ot(0,o.length);if("current"==n)for(s=t._iDisplayStart,t=t.fnDisplayEnd();s<t;s++)i.push(r[s]);else if("current"==s||"applied"==s){if("none"==a)i=o.slice();else if("applied"==a)i=r.slice();else if("removed"==a){var l={};for(s=0,t=r.length;s<t;s++)l[r[s]]=null;i=e.map(o,(function(e){return l.hasOwnProperty(e)?null:e}))}}else if("index"==s||"original"==s)for(s=0,t=t.aoData.length;s<t;s++)"none"==a?i.push(s):(-1===(o=e.inArray(s,r))&&"removed"==a||0<=o&&"applied"==a)&&i.push(s);return i};ze("rows()",(function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t=""),n=Et(n);var r=this.iterator("table",(function(r){return function(t,n,r){var o;return St("row",n,(function(n){var a=Je(n),s=t.aoData;if(null!==a&&!r)return[a];if(o||(o=xt(t,r)),null!==a&&-1!==e.inArray(a,o))return[a];if(null===n||n===i||""===n)return o;if("function"==typeof n)return e.map(o,(function(e){var t=s[e];return n(e,t._aData,t.nTr)?e:null}));if(n.nodeName){a=n._DT_RowIndex;var l=n._DT_CellIndex;return a!==i?s[a]&&s[a].nTr===n?[a]:[]:l?s[l.row]&&s[l.row].nTr===n.parentNode?[l.row]:[]:(a=e(n).closest("*[data-dt-row]")).length?[a.data("dt-row")]:[]}return"string"==typeof n&&"#"===n.charAt(0)&&(a=t.aIds[n.replace(/^#/,"")])!==i?[a.idx]:(a=at(rt(t.aoData,o,"nTr")),e(a).filter(n).map((function(){return this._DT_RowIndex})).toArray())}),t,r)}(r,t,n)}),1);return r.selector.rows=t,r.selector.opts=n,r})),ze("rows().nodes()",(function(){return this.iterator("row",(function(e,t){return e.aoData[t].nTr||i}),1)})),ze("rows().data()",(function(){return this.iterator(!0,"rows",(function(e,t){return rt(e.aoData,t,"_aData")}),1)})),qe("rows().cache()","row().cache()",(function(e){return this.iterator("row",(function(t,n){return t=t.aoData[n],"search"===e?t._aFilterData:t._aSortData}),1)})),qe("rows().invalidate()","row().invalidate()",(function(e){return this.iterator("row",(function(t,n){A(t,n,e)}))})),qe("rows().indexes()","row().index()",(function(){return this.iterator("row",(function(e,t){return t}),1)})),qe("rows().ids()","row().id()",(function(e){for(var t=[],n=this.context,i=0,r=n.length;i<r;i++)for(var o=0,a=this[i].length;o<a;o++){var s=n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);t.push((!0===e?"#":"")+s)}return new bt(n,t)})),qe("rows().remove()","row().remove()",(function(){var e=this;return this.iterator("row",(function(t,n,r){var o,a,s=t.aoData,l=s[n];s.splice(n,1);var u=0;for(o=s.length;u<o;u++){var c=s[u],d=c.anCells;if(null!==c.nTr&&(c.nTr._DT_RowIndex=u),null!==d)for(c=0,a=d.length;c<a;c++)d[c]._DT_CellIndex.row=u}O(t.aiDisplayMaster,n),O(t.aiDisplay,n),O(e[r],n,!1),0<t._iRecordsDisplay&&t._iRecordsDisplay--,Fe(t),(n=t.rowIdFn(l._aData))!==i&&delete t.aIds[n]})),this.iterator("table",(function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t})),this})),ze("rows.add()",(function(t){var n=this.iterator("table",(function(e){var n,i=[],r=0;for(n=t.length;r<n;r++){var o=t[r];o.nodeName&&"TR"===o.nodeName.toUpperCase()?i.push(w(e,o)[0]):i.push(_(e,o))}return i}),1),i=this.rows(-1);return i.pop(),e.merge(i,n),i})),ze("row()",(function(e,t){return Ct(this.rows(e,t))})),ze("row().data()",(function(e){var t=this.context;if(e===i)return t.length&&this.length?t[0].aoData[this[0]]._aData:i;var n=t[0].aoData[this[0]];return n._aData=e,Array.isArray(e)&&n.nTr&&n.nTr.id&&T(t[0].rowId)(e,n.nTr.id),A(t[0],this[0],"data"),this})),ze("row().node()",(function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null})),ze("row.add()",(function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",(function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?w(e,t)[0]:_(e,t)}));return this.row(n[0])}));var Tt=function(e,t){var n=e.context;n.length&&(e=n[0].aoData[t!==i?t:e[0]])&&e._details&&(e._details.remove(),e._detailsShow=i,e._details=i)},It=function(e,t){var n=e.context;n.length&&e.length&&((e=n[0].aoData[e[0]])._details&&((e._detailsShow=t)?e._details.insertAfter(e.nTr):e._details.detach(),kt(n[0])))},kt=function(e){var t=new bt(e),n=e.aoData;t.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<it(n,"_details").length&&(t.on("draw.dt.DT_details",(function(i,r){e===r&&t.rows({page:"current"}).eq(0).each((function(e){(e=n[e])._detailsShow&&e._details.insertAfter(e.nTr)}))})),t.on("column-visibility.dt.DT_details",(function(t,i,r,o){if(e===i)for(i=g(i),r=0,o=n.length;r<o;r++)(t=n[r])._details&&t._details.children("td[colspan]").attr("colspan",i)})),t.on("destroy.dt.DT_details",(function(i,r){if(e===r)for(i=0,r=n.length;i<r;i++)n[i]._details&&Tt(t,i)})))};ze("row().child()",(function(t,n){var r=this.context;return t===i?r.length&&this.length?r[0].aoData[this[0]]._details:i:(!0===t?this.child.show():!1===t?Tt(this):r.length&&this.length&&function(t,n,i,r){var o=[],a=function(n,i){if(Array.isArray(n)||n instanceof e)for(var r=0,s=n.length;r<s;r++)a(n[r],i);else n.nodeName&&"tr"===n.nodeName.toLowerCase()?o.push(n):(r=e("<tr><td></td></tr>").addClass(i),e("td",r).addClass(i).html(n)[0].colSpan=g(t),o.push(r[0]))};a(i,r),n._details&&n._details.detach(),n._details=e(o),n._detailsShow&&n._details.insertAfter(n.nTr)}(r[0],r[0].aoData[this[0]],t,n),this)})),ze(["row().child.show()","row().child().show()"],(function(e){return It(this,!0),this})),ze(["row().child.hide()","row().child().hide()"],(function(){return It(this,!1),this})),ze(["row().child.remove()","row().child().remove()"],(function(){return Tt(this),this})),ze("row().child.isShown()",(function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1}));var Ot=/^([^:]+):(name|visIdx|visible)$/,At=function(e,t,n,i,r){n=[],i=0;for(var o=r.length;i<o;i++)n.push(S(e,r[i],t));return n};ze("columns()",(function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t=""),n=Et(n);var r=this.iterator("table",(function(i){return function(t,n,i){var r=t.aoColumns,o=it(r,"sName"),a=it(r,"nTh");return St("column",n,(function(n){var s=Je(n);if(""===n)return ot(r.length);if(null!==s)return[0<=s?s:r.length+s];if("function"==typeof n){var l=xt(t,i);return e.map(r,(function(e,i){return n(i,At(t,i,0,0,l),a[i])?i:null}))}var u="string"==typeof n?n.match(Ot):"";if(u)switch(u[2]){case"visIdx":case"visible":if(0>(s=parseInt(u[1],10))){var c=e.map(r,(function(e,t){return e.bVisible?t:null}));return[c[c.length+s]]}return[p(t,s)];case"name":return e.map(o,(function(e,t){return e===u[1]?t:null}));default:return[]}return n.nodeName&&n._DT_CellIndex?[n._DT_CellIndex.column]:(s=e(a).filter(n).map((function(){return e.inArray(this,a)})).toArray()).length||!n.nodeName?s:(s=e(n).closest("*[data-dt-column]")).length?[s.data("dt-column")]:[]}),t,i)}(i,t,n)}),1);return r.selector.cols=t,r.selector.opts=n,r})),qe("columns().header()","column().header()",(function(e,t){return this.iterator("column",(function(e,t){return e.aoColumns[t].nTh}),1)})),qe("columns().footer()","column().footer()",(function(e,t){return this.iterator("column",(function(e,t){return e.aoColumns[t].nTf}),1)})),qe("columns().data()","column().data()",(function(){return this.iterator("column-rows",At,1)})),qe("columns().dataSrc()","column().dataSrc()",(function(){return this.iterator("column",(function(e,t){return e.aoColumns[t].mData}),1)})),qe("columns().cache()","column().cache()",(function(e){return this.iterator("column-rows",(function(t,n,i,r,o){return rt(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)}),1)})),qe("columns().nodes()","column().nodes()",(function(){return this.iterator("column-rows",(function(e,t,n,i,r){return rt(e.aoData,r,"anCells",t)}),1)})),qe("columns().visible()","column().visible()",(function(t,n){var r=this,o=this.iterator("column",(function(n,r){if(t===i)return n.aoColumns[r].bVisible;var o,a=n.aoColumns,s=a[r],l=n.aoData;if(t!==i&&s.bVisible!==t){if(t){var u=e.inArray(!0,it(a,"bVisible"),r+1);for(a=0,o=l.length;a<o;a++){var c=l[a].nTr;n=l[a].anCells,c&&c.insertBefore(n[r],n[u]||null)}}else e(it(n.aoData,"anCells",r)).detach();s.bVisible=t}}));return t!==i&&this.iterator("table",(function(o){L(o,o.aoHeader),L(o,o.aoFooter),o.aiDisplay.length||e(o.nTBody).find("td[colspan]").attr("colspan",g(o)),Ie(o),r.iterator("column",(function(e,i){Le(e,null,"column-visibility",[e,i,t,n])})),(n===i||n)&&r.columns.adjust()})),o})),qe("columns().indexes()","column().index()",(function(e){return this.iterator("column",(function(t,n){return"visible"===e?m(t,n):n}),1)})),ze("columns.adjust()",(function(){return this.iterator("table",(function(e){h(e)}),1)})),ze("column.index()",(function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return p(n,t);if("fromData"===e||"toVisible"===e)return m(n,t)}})),ze("column()",(function(e,t){return Ct(this.columns(e,t))}));ze("cells()",(function(t,n,r){if(e.isPlainObject(t)&&(t.row===i?(r=t,t=null):(r=n,n=null)),e.isPlainObject(n)&&(r=n,n=null),null===n||n===i)return this.iterator("table",(function(n){return function(t,n,r){var o,a,s,l,u,c,d,f=t.aoData,h=xt(t,r),p=at(rt(f,h,"anCells")),m=e(lt([],p)),g=t.aoColumns.length;return St("cell",n,(function(n){var r="function"==typeof n;if(null===n||n===i||r){for(a=[],s=0,l=h.length;s<l;s++)for(o=h[s],u=0;u<g;u++)c={row:o,column:u},r?(d=f[o],n(c,S(t,o,u),d.anCells?d.anCells[u]:null)&&a.push(c)):a.push(c);return a}return e.isPlainObject(n)?n.column!==i&&n.row!==i&&-1!==e.inArray(n.row,h)?[n]:[]:(r=m.filter(n).map((function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}})).toArray()).length||!n.nodeName?r:(d=e(n).closest("*[data-dt-row]")).length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]}),t,r)}(n,t,Et(r))}));var o,a,s,l,u=r?{page:r.page,order:r.order,search:r.search}:{},c=this.columns(n,u),d=this.rows(t,u);return u=this.iterator("table",(function(e,t){for(e=[],o=0,a=d[t].length;o<a;o++)for(s=0,l=c[t].length;s<l;s++)e.push({row:d[t][o],column:c[t][s]});return e}),1),u=r&&r.selected?this.cells(u,r):u,e.extend(u.selector,{cols:n,rows:t,opts:r}),u})),qe("cells().nodes()","cell().node()",(function(){return this.iterator("cell",(function(e,t,n){return(e=e.aoData[t])&&e.anCells?e.anCells[n]:i}),1)})),ze("cells().data()",(function(){return this.iterator("cell",(function(e,t,n){return S(e,t,n)}),1)})),qe("cells().cache()","cell().cache()",(function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",(function(t,n,i){return t.aoData[n][e][i]}),1)})),qe("cells().render()","cell().render()",(function(e){return this.iterator("cell",(function(t,n,i){return S(t,n,i,e)}),1)})),qe("cells().indexes()","cell().index()",(function(){return this.iterator("cell",(function(e,t,n){return{row:t,column:n,columnVisible:m(e,n)}}),1)})),qe("cells().invalidate()","cell().invalidate()",(function(e){return this.iterator("cell",(function(t,n,i){A(t,n,e,i)}))})),ze("cell()",(function(e,t,n){return Ct(this.cells(e,t,n))})),ze("cell().data()",(function(e){var t=this.context,n=this[0];return e===i?t.length&&n.length?S(t[0],n[0].row,n[0].column):i:(E(t[0],n[0].row,n[0].column,e),A(t[0],n[0].row,"data",n[0].column),this)})),ze("order()",(function(e,t){var n=this.context;return e===i?0!==n.length?n[0].aaSorting:i:("number"==typeof e?e=[[e,t]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",(function(t){t.aaSorting=e.slice()})))})),ze("order.listener()",(function(e,t,n){return this.iterator("table",(function(i){Ce(i,e,t,n)}))})),ze("order.fixed()",(function(t){if(!t){var n=this.context;return n=n.length?n[0].aaSortingFixed:i,Array.isArray(n)?{pre:n}:n}return this.iterator("table",(function(n){n.aaSortingFixed=e.extend(!0,{},t)}))})),ze(["columns().order()","column().order()"],(function(t){var n=this;return this.iterator("table",(function(i,r){var o=[];e.each(n[r],(function(e,n){o.push([n,t])})),i.aaSorting=o}))})),ze("search()",(function(t,n,r,o){var a=this.context;return t===i?0!==a.length?a[0].oPreviousSearch.sSearch:i:this.iterator("table",(function(i){i.oFeatures.bFilter&&W(i,e.extend({},i.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)}))})),qe("columns().search()","column().search()",(function(t,n,r,o){return this.iterator("column",(function(a,s){var l=a.aoPreSearchCols;if(t===i)return l[s].sSearch;a.oFeatures.bFilter&&(e.extend(l[s],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),W(a,a.oPreviousSearch,1))}))})),ze("state()",(function(){return this.context.length?this.context[0].oSavedState:null})),ze("state.clear()",(function(){return this.iterator("table",(function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})}))})),ze("state.loaded()",(function(){return this.context.length?this.context[0].oLoadedState:null})),ze("state.save()",(function(){return this.iterator("table",(function(e){Ie(e)}))})),He.versionCheck=He.fnVersionCheck=function(e){for(var t,n,i=He.version.split("."),r=0,o=(e=e.split(".")).length;r<o;r++)if((t=parseInt(i[r],10)||0)!==(n=parseInt(e[r],10)||0))return t>n;return!0},He.isDataTable=He.fnIsDataTable=function(t){var n=e(t).get(0),i=!1;return t instanceof He.Api||(e.each(He.settings,(function(t,r){t=r.nScrollHead?e("table",r.nScrollHead)[0]:null;var o=r.nScrollFoot?e("table",r.nScrollFoot)[0]:null;r.nTable!==n&&t!==n&&o!==n||(i=!0)})),i)},He.tables=He.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var i=e.map(He.settings,(function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable}));return n?new bt(i):i},He.camelToHungarian=o,ze("$()",(function(t,n){return n=this.rows(n).nodes(),n=e(n),e([].concat(n.filter(t).toArray(),n.find(t).toArray()))})),e.each(["on","one","off"],(function(t,n){ze(n+"()",(function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),(function(e){return e.match(/\.dt\b/)?e:e+".dt"})).join(" ");var i=e(this.tables().nodes());return i[n].apply(i,t),this}))})),ze("clear()",(function(){return this.iterator("table",(function(e){k(e)}))})),ze("settings()",(function(){return new bt(this.context,this.context)})),ze("init()",(function(){var e=this.context;return e.length?e[0].oInit:null})),ze("data()",(function(){return this.iterator("table",(function(e){return it(e.aoData,"_aData")})).flatten()})),ze("destroy()",(function(n){return n=n||!1,this.iterator("table",(function(i){var r=i.nTableWrapper.parentNode,o=i.oClasses,a=i.nTable,s=i.nTBody,l=i.nTHead,u=i.nTFoot,c=e(a);s=e(s);var d,f=e(i.nTableWrapper),h=e.map(i.aoData,(function(e){return e.nTr}));i.bDestroying=!0,Le(i,"aoDestroyCallback","destroy",[i]),n||new bt(i).columns().visible(!0),f.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+i.sInstance),a!=l.parentNode&&(c.children("thead").detach(),c.append(l)),u&&a!=u.parentNode&&(c.children("tfoot").detach(),c.append(u)),i.aaSorting=[],i.aaSortingFixed=[],xe(i),e(h).removeClass(i.asStripeClasses.join(" ")),e("th, td",l).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),s.children().detach(),s.append(h),c[l=n?"remove":"detach"](),f[l](),!n&&r&&(r.insertBefore(a,i.nTableReinsertBefore),c.css("width",i.sDestroyWidth).removeClass(o.sTable),(d=i.asDestroyStripes.length)&&s.children().each((function(t){e(this).addClass(i.asDestroyStripes[t%d])}))),-1!==(r=e.inArray(i,He.settings))&&He.settings.splice(r,1)}))})),e.each(["column","row","cell"],(function(e,t){ze(t+"s().every()",(function(e){var n=this.selector.opts,r=this;return this.iterator(t,(function(o,a,s,l,u){e.call(r[t](a,"cell"===t?s:n,"cell"===t?n:i),a,s,l,u)}))}))})),ze("i18n()",(function(t,n,r){var o=this.context[0];return(t=x(t)(o.oLanguage))===i&&(t=n),r!==i&&e.isPlainObject(t)&&(t=t[r]!==i?t[r]:t._),t.replace("%d",r)})),He.version="1.10.24",He.settings=[],He.models={},He.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},He.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},He.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},He.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},He.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(He.defaults),He.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(He.defaults.column),He.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Be(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Be(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!o||n>i||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},He.ext=Ue={buttons:{},classes:{},builder:"dt/dt-1.10.24",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:He.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:He.version},e.extend(Ue,{afnFiltering:Ue.search,aTypes:Ue.type.detect,ofnSearch:Ue.type.search,oSort:Ue.type.order,afnSortData:Ue.order,aoFeatures:Ue.feature,oApi:Ue.internal,oStdClasses:Ue.classes,oPagination:Ue.pager}),e.extend(He.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Dt=He.ext.pager;e.extend(Dt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[Ve(e,t)]},simple_numbers:function(e,t){return["previous",Ve(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Ve(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Ve(e,t),"last"]},_numbers:Ve,numbers_length:7}),e.extend(!0,He.ext.renderer,{pageButton:{_:function(t,r,o,a,s,l){var u,c,d=t.oClasses,f=t.oLanguage.oPaginate,h=t.oLanguage.oAria.paginate||{},p=0,m=function(n,i){var r,a=d.sPageButtonDisabled,g=function(e){ue(t,e.data.action,!0)},v=0;for(r=i.length;v<r;v++){var y=i[v];if(Array.isArray(y)){var b=e("<"+(y.DT_el||"div")+"/>").appendTo(n);m(b,y)}else{switch(u=null,c=y,b=t.iTabIndex,y){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":u=f.sFirst,0===s&&(b=-1,c+=" "+a);break;case"previous":u=f.sPrevious,0===s&&(b=-1,c+=" "+a);break;case"next":u=f.sNext,0!==l&&s!==l-1||(b=-1,c+=" "+a);break;case"last":u=f.sLast,0!==l&&s!==l-1||(b=-1,c+=" "+a);break;default:u=t.fnFormatNumber(y+1),c=s===y?d.sPageButtonActive:""}null!==u&&(Ne(b=e("<a>",{class:d.sPageButton+" "+c,"aria-controls":t.sTableId,"aria-label":h[y],"data-dt-idx":p,tabindex:b,id:0===o&&"string"==typeof y?t.sTableId+"_"+y:null}).html(u).appendTo(n),{action:y},g),p++)}}};try{var g=e(r).find(n.activeElement).data("dt-idx")}catch(e){}m(e(r).empty(),a),g!==i&&e(r).find("[data-dt-idx="+g+"]").trigger("focus")}}}),e.extend(He.ext.type.detect,[function(e,t){return t=t.oLanguage.sDecimal,tt(e,t)?"num"+t:null},function(e,t){return(!e||e instanceof Date||Ke.test(e))&&(null!==(t=Date.parse(e))&&!isNaN(t)||Qe(e))?"date":null},function(e,t){return t=t.oLanguage.sDecimal,tt(e,t,!0)?"num-fmt"+t:null},function(e,t){return t=t.oLanguage.sDecimal,nt(e,t)?"html-num"+t:null},function(e,t){return t=t.oLanguage.sDecimal,nt(e,t,!0)?"html-num-fmt"+t:null},function(e,t){return Qe(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(He.ext.type.search,{html:function(e){return Qe(e)?e:"string"==typeof e?e.replace(We," ").replace(Ye,""):""},string:function(e){return Qe(e)?e:"string"==typeof e?e.replace(We," "):e}});var Pt=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=et(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-1/0};e.extend(Ue.type.order,{"date-pre":function(e){return e=Date.parse(e),isNaN(e)?-1/0:e},"html-pre":function(e){return Qe(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return Qe(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),$e(""),e.extend(!0,He.ext.renderer,{header:{_:function(t,n,i,r){e(t.nTable).on("order.dt.DT",(function(e,o,a,s){t===o&&(e=i.idx,n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[e]?r.sSortAsc:"desc"==s[e]?r.sSortDesc:i.sSortingClass))}))},jqueryui:function(t,n,i,r){e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",(function(e,o,a,s){t===o&&(e=i.idx,n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[e]?r.sSortAsc:"desc"==s[e]?r.sSortDesc:i.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[e]?r.sSortJUIAsc:"desc"==s[e]?r.sSortJUIDesc:i.sSortingClassJUI))}))}}});var Nt=function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};return He.render={number:function(e,t,n,i,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var a=0>o?"-":"",s=parseFloat(o);return isNaN(s)?Nt(o):(s=s.toFixed(n),o=Math.abs(s),s=parseInt(o,10),o=n?t+(o-s).toFixed(n).substring(2):"",a+(i||"")+s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+o+(r||""))}}},text:function(){return{display:Nt,filter:Nt}}},e.extend(He.ext.internal,{_fnExternApiFunc:je,_fnBuildAjax:j,_fnAjaxUpdate:U,_fnAjaxParameters:z,_fnAjaxUpdateDraw:q,_fnAjaxDataSrc:H,_fnAddColumn:d,_fnColumnOptions:f,_fnAdjustColumnSizing:h,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:a,_fnBrowserDetect:u,_fnAddData:_,_fnAddTr:w,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,i){return e.inArray(i,t.aoData[n].anCells)},_fnGetCellData:S,_fnSetCellData:E,_fnSplitObjNotation:C,_fnGetObjectDataFn:x,_fnSetObjectDataFn:T,_fnGetDataMaster:I,_fnClearTable:k,_fnDeleteIndex:O,_fnInvalidate:A,_fnGetRowElements:D,_fnCreateTr:P,_fnBuildHead:R,_fnDrawHead:L,_fnDraw:F,_fnReDraw:M,_fnAddOptionsHtml:B,_fnDetectHeader:V,_fnGetUniqueThs:$,_fnFeatureHtmlFilter:G,_fnFilterComplete:W,_fnFilterCustom:Y,_fnFilterColumn:K,_fnFilter:X,_fnFilterCreateSearch:Z,_fnEscapeRegex:ft,_fnFilterData:Q,_fnFeatureHtmlInfo:te,_fnUpdateInfo:ne,_fnInfoMacros:ie,_fnInitialise:re,_fnInitComplete:oe,_fnLengthChange:ae,_fnFeatureHtmlLength:se,_fnFeatureHtmlPaginate:le,_fnPageChange:ue,_fnFeatureHtmlProcessing:ce,_fnProcessingDisplay:de,_fnFeatureHtmlTable:fe,_fnScrollDraw:he,_fnApplyToChildren:pe,_fnCalculateColumnWidths:me,_fnThrottle:gt,_fnConvertToWidth:ge,_fnGetWidestNode:ve,_fnGetMaxLenString:ye,_fnStringToCss:be,_fnSortFlatten:_e,_fnSort:we,_fnSortAria:Se,_fnSortListener:Ee,_fnSortAttachListener:Ce,_fnSortingClasses:xe,_fnSortData:Te,_fnSaveState:Ie,_fnLoadState:ke,_fnSettingsFromNode:Oe,_fnLog:Ae,_fnMap:De,_fnBindAction:Ne,_fnCallbackReg:Re,_fnCallbackFire:Le,_fnLengthOverflow:Fe,_fnRenderer:Me,_fnDataSource:Be,_fnRowAttributes:N,_fnExtend:Pe,_fnCalculateEnd:function(){}}),e.fn.dataTable=He,He.$=e,e.fn.dataTableSettings=He.settings,e.fn.dataTableExt=He.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(He,(function(t,n){e.fn.DataTable[t]=n})),e.fn.dataTable})),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n,i){return e.fn.dataTable})),($jscomp=$jscomp||{}).scope={},$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var o=e[r];if(t.call(n,o,r,e))return{i:r,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp;$jscomp$lookupPolyfilledValue=function(e,t){var n=$jscomp.propertyToPolyfillSymbol[t];return null==n?e[t]:void 0!==(n=e[n])?n:e[t]};$jscomp.polyfill=function(e,t,n,i){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,t,n,i):$jscomp.polyfillUnisolated(e,t,n,i))},$jscomp.polyfillUnisolated=function(e,t,n,i){for(n=$jscomp.global,e=e.split("."),i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))return;n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})},$jscomp.polyfillIsolated=function(e,t,n,i){var r=e.split(".");e=1===r.length,i=r[0],i=!e&&i in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var o=0;o<r.length-1;o++){var a=r[o];if(!(a in i))return;i=i[a]}r=r[r.length-1],null!=(t=t(n=$jscomp.IS_SYMBOL_NATIVE&&"es6"===n?i[r]:null))&&(e?$jscomp.defineProperty($jscomp.polyfills,r,{configurable:!0,writable:!0,value:t}):t!==n&&($jscomp.propertyToPolyfillSymbol[r]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(r):$jscomp.POLYFILL_PREFIX+r,r=$jscomp.propertyToPolyfillSymbol[r],$jscomp.defineProperty(i,r,{configurable:!0,writable:!0,value:t})))},$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n,i){var r,o=e.fn.dataTable,a=function(t,n){var r=this;if(this instanceof a){n!==i&&!0!==n||(n={});var o=e.fn.dataTable.camelToHungarian;if(o&&(o(a.defaults,a.defaults,!0),o(a.defaults,n)),t=new e.fn.dataTable.Api(t).settings()[0],this.s={dt:t,iTableColumns:t.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[],rtl:"rtl"===e(t.nTable).css("direction")},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},t._oFixedColumns)throw"FixedColumns already initialised on this table";t._oFixedColumns=this,t._bInitComplete?this._fnConstruct(n):t.oApi._fnCallbackReg(t,"aoInitComplete",(function(){r._fnConstruct(n)}),"FixedColumns")}else alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.")};return e.extend(a.prototype,{fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(e){delete e._DTTC_iHeight,e.style.height="auto"},fnSetRowHeight:function(e,t){e.style.height=t+"px"},fnGetPosition:function(t){var n=this.s.dt.oInstance;if(e(t).parents(".DTFC_Cloned").length){if("tr"===t.nodeName.toLowerCase())return t=e(t).index(),n.fnGetPosition(e("tr",this.s.dt.nTBody)[t]);var i=e(t).index();return t=e(t.parentNode).index(),[n.fnGetPosition(e("tr",this.s.dt.nTBody)[t]),i,n.oApi._fnVisibleToColumnIndex(this.s.dt,i)]}return n.fnGetPosition(t)},fnToFixedNode:function(t,n){var i;return n<this.s.iLeftColumns?i=e(this.dom.clone.left.body).find("[data-dt-row="+t+"][data-dt-column="+n+"]"):n>=this.s.iRightColumns&&(i=e(this.dom.clone.right.body).find("[data-dt-row="+t+"][data-dt-column="+n+"]")),i&&i.length?i[0]:new e.fn.dataTable.Api(this.s.dt).cell(t,n).node()},_fnConstruct:function(r){var o=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0"))alert("FixedColumns "+a.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");else if(""===this.s.dt.oScroll.sX)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else{this.s=e.extend(!0,this.s,a.defaults,r),r=this.s.dt.oClasses,this.dom.grid.dt=e(this.s.dt.nTable).parents("div."+r.sScrollWrapper)[0],this.dom.scroller=e("div."+r.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var s,l=!1;e(this.s.dt.nTableWrapper).on("mousedown.DTFC",(function(t){0===t.button&&(l=!0,e(n).one("mouseup",(function(){l=!1})))})),e(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",(function(){l||(s="main")})).on("scroll.DTFC",(function(e){!s&&e.originalEvent&&(s="main"),"main"!==s&&"key"!==s||(0<o.s.iLeftColumns&&(o.dom.grid.left.liner.scrollTop=o.dom.scroller.scrollTop),0<o.s.iRightColumns&&(o.dom.grid.right.liner.scrollTop=o.dom.scroller.scrollTop))}));var u="onwheel"in n.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";0<o.s.iLeftColumns&&(e(o.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",(function(){l||"key"===s||(s="left")})).on("scroll.DTFC",(function(e){!s&&e.originalEvent&&(s="left"),"left"===s&&(o.dom.scroller.scrollTop=o.dom.grid.left.liner.scrollTop,0<o.s.iRightColumns&&(o.dom.grid.right.liner.scrollTop=o.dom.grid.left.liner.scrollTop))})).on(u,(function(e){s="left",o.dom.scroller.scrollLeft-="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX})),e(o.dom.grid.left.head).on("mouseover.DTFC touchstart.DTFC",(function(){s="main"}))),0<o.s.iRightColumns&&(e(o.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",(function(){l||"key"===s||(s="right")})).on("scroll.DTFC",(function(e){!s&&e.originalEvent&&(s="right"),"right"===s&&(o.dom.scroller.scrollTop=o.dom.grid.right.liner.scrollTop,0<o.s.iLeftColumns&&(o.dom.grid.left.liner.scrollTop=o.dom.grid.right.liner.scrollTop))})).on(u,(function(e){s="right",o.dom.scroller.scrollLeft-="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX})),e(o.dom.grid.right.head).on("mouseover.DTFC touchstart.DTFC",(function(){s="main"}))),e(t).on("resize.DTFC",(function(){o._fnGridLayout.call(o)}));var c=!0,d=e(this.s.dt.nTable);d.on("draw.dt.DTFC",(function(){o._fnColCalc(),o._fnDraw.call(o,c),c=!1})).on("key-focus.dt.DTFC",(function(){s="key"})).on("column-sizing.dt.DTFC",(function(){o._fnColCalc(),o._fnGridLayout(o)})).on("column-visibility.dt.DTFC",(function(e,t,n,r,a){(a===i||a)&&(o._fnColCalc(),o._fnGridLayout(o),o._fnDraw(!0))})).on("select.dt.DTFC deselect.dt.DTFC",(function(e,t,n,i){"dt"===e.namespace&&o._fnDraw(!1)})).on("position.dts.dt.DTFC",(function(t,n){o.dom.grid.left.body&&e(o.dom.grid.left.body).find("table").eq(0).css("top",n),o.dom.grid.right.body&&e(o.dom.grid.right.body).find("table").eq(0).css("top",n)})).on("destroy.dt.DTFC",(function(){d.off(".DTFC"),e(o.dom.scroller).off(".DTFC"),e(t).off(".DTFC"),e(o.s.dt.nTableWrapper).off(".DTFC"),e(o.dom.grid.left.liner).off(".DTFC "+u),e(o.dom.grid.left.wrapper).remove(),e(o.dom.grid.right.liner).off(".DTFC "+u),e(o.dom.grid.right.wrapper).remove()})),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)}},_fnColCalc:function(){var t=this,n=0,i=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],e.each(this.s.dt.aoColumns,(function(r,o){if((o=e(o.nTh)).filter(":visible").length){var a=o.outerWidth();if(0===t.s.aiOuterWidths.length){var s=e(t.s.dt.nTable).css("border-left-width");a+="string"==typeof s&&-1===s.indexOf("px")?1:parseInt(s,10)}t.s.aiOuterWidths.length===t.s.dt.aoColumns.length-1&&(a+="string"==typeof(s=e(t.s.dt.nTable).css("border-right-width"))&&-1===s.indexOf("px")?1:parseInt(s,10)),t.s.aiOuterWidths.push(a),t.s.aiInnerWidths.push(o.width()),r<t.s.iLeftColumns&&(n+=a),t.s.iTableColumns-t.s.iRightColumns<=r&&(i+=a)}else t.s.aiInnerWidths.push(0),t.s.aiOuterWidths.push(0)})),this.s.iLeftWidth=n,this.s.iRightWidth=i},_fnGridSetup:function(){var t=this._fnDTOverflow();this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var n=e('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;" aria-hidden="true"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; height:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; right:0;" aria-hidden="true"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; height:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],i=n.childNodes[0],r=n.childNodes[1];if(this.dom.grid.dt.parentNode.insertBefore(n,this.dom.grid.dt),n.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=n,0<this.s.iLeftColumns&&(this.dom.grid.left.wrapper=i,this.dom.grid.left.head=i.childNodes[0],this.dom.grid.left.body=i.childNodes[1],this.dom.grid.left.liner=e("div.DTFC_LeftBodyLiner",n)[0],n.appendChild(i)),0<this.s.iRightColumns){this.dom.grid.right.wrapper=r,this.dom.grid.right.head=r.childNodes[0],this.dom.grid.right.body=r.childNodes[1],this.dom.grid.right.liner=e("div.DTFC_RightBodyLiner",n)[0],r.style.right=t.bar+"px";var o=e("div.DTFC_RightHeadBlocker",n)[0];o.style.width=t.bar+"px",o.style.right=-t.bar+"px",this.dom.grid.right.headBlock=o,(o=e("div.DTFC_RightFootBlocker",n)[0]).style.width=t.bar+"px",o.style.right=-t.bar+"px",this.dom.grid.right.footBlock=o,n.appendChild(r)}this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,0<this.s.iLeftColumns&&(this.dom.grid.left.foot=i.childNodes[2]),0<this.s.iRightColumns&&(this.dom.grid.right.foot=r.childNodes[2])),this.s.rtl&&e("div.DTFC_RightHeadBlocker",n).css({left:-t.bar+"px",right:""})},_fnGridLayout:function(){var t=this,n=this.dom.grid;e(n.wrapper).width();var i=this.s.dt.nTable.parentNode.offsetHeight,r=this.s.dt.nTable.parentNode.parentNode.offsetHeight,o=this._fnDTOverflow(),a=this.s.iLeftWidth,s=this.s.iRightWidth,l="rtl"===e(this.dom.body).css("direction"),u=function(n,i){o.bar?t._firefoxScrollError()?34<e(n).height()&&(n.style.width=i+o.bar+"px"):n.style.width=i+o.bar+"px":(n.style.width=i+20+"px",n.style.paddingRight="20px",n.style.boxSizing="border-box")};o.x&&(i-=o.bar),n.wrapper.style.height=r+"px",0<this.s.iLeftColumns&&((r=n.left.wrapper).style.width=a+"px",r.style.height="1px",l?(r.style.left="",r.style.right=0):(r.style.left=0,r.style.right=""),n.left.body.style.height=i+"px",n.left.foot&&(n.left.foot.style.top=(o.x?o.bar:0)+"px"),u(n.left.liner,a),n.left.liner.style.height=i+"px",n.left.liner.style.maxHeight=i+"px"),0<this.s.iRightColumns&&((r=n.right.wrapper).style.width=s+"px",r.style.height="1px",this.s.rtl?(r.style.left=o.y?o.bar+"px":0,r.style.right=""):(r.style.left="",r.style.right=o.y?o.bar+"px":0),n.right.body.style.height=i+"px",n.right.foot&&(n.right.foot.style.top=(o.x?o.bar:0)+"px"),u(n.right.liner,s),n.right.liner.style.height=i+"px",n.right.liner.style.maxHeight=i+"px",n.right.headBlock.style.display=o.y?"block":"none",n.right.footBlock.style.display=o.y?"block":"none")},_fnDTOverflow:function(){var e=this.s.dt.nTable,t=e.parentNode,n={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return e.offsetWidth>t.clientWidth&&(n.x=!0),e.offsetHeight>t.clientHeight&&(n.y=!0),n},_fnDraw:function(t){this._fnGridLayout(),this._fnCloneLeft(t),this._fnCloneRight(t),e(this.dom.scroller).trigger("scroll"),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),e(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(e){if(!(0>=this.s.iRightColumns)){var t,n=[];for(t=this.s.iTableColumns-this.s.iRightColumns;t<this.s.iTableColumns;t++)this.s.dt.aoColumns[t].bVisible&&n.push(t);this._fnClone(this.dom.clone.right,this.dom.grid.right,n,e)}},_fnCloneLeft:function(e){if(!(0>=this.s.iLeftColumns)){var t,n=[];for(t=0;t<this.s.iLeftColumns;t++)this.s.dt.aoColumns[t].bVisible&&n.push(t);this._fnClone(this.dom.clone.left,this.dom.grid.left,n,e)}},_fnCopyLayout:function(t,n,i){for(var r=[],o=[],a=[],s=0,l=t.length;s<l;s++){var u=[];u.nTr=e(t[s].nTr).clone(i,!1)[0];for(var c=0,d=this.s.iTableColumns;c<d;c++)if(-1!==e.inArray(c,n)){var f=e.inArray(t[s][c].cell,a);-1===f?(f=e(t[s][c].cell).clone(i,!1)[0],o.push(f),a.push(t[s][c].cell),u.push({cell:f,unique:t[s][c].unique})):u.push({cell:o[f],unique:t[s][c].unique})}r.push(u)}return r},_fnClone:function(t,n,r,o){var a,s,l=this,u=this.s.dt;if(o){e(t.header).remove(),t.header=e(this.dom.header).clone(!0,!1)[0],t.header.className+=" DTFC_Cloned",t.header.style.width="100%",n.head.appendChild(t.header);var c=this._fnCopyLayout(u.aoHeader,r,!0),d=e(">thead",t.header);d.empty();var f=0;for(a=c.length;f<a;f++)d[0].appendChild(c[f].nTr);u.oApi._fnDrawHead(u,c,!0)}else{c=this._fnCopyLayout(u.aoHeader,r,!1);var h=[];for(u.oApi._fnDetectHeader(h,e(">thead",t.header)[0]),f=0,a=c.length;f<a;f++){var p=0;for(d=c[f].length;p<d;p++)h[f][p].cell.className=c[f][p].cell.className,e("span.DataTables_sort_icon",h[f][p].cell).each((function(){this.className=e("span.DataTables_sort_icon",c[f][p].cell)[0].className}))}}this._fnEqualiseHeights("thead",this.dom.header,t.header),"auto"==this.s.sHeightMatch&&e(">tbody>tr",l.dom.body).css("height","auto"),null!==t.body&&(e(t.body).remove(),t.body=null),t.body=e(this.dom.body).clone(!0)[0],t.body.className+=" DTFC_Cloned",t.body.style.paddingBottom=u.oScroll.iBarWidth+"px",t.body.style.marginBottom=2*u.oScroll.iBarWidth+"px",null!==t.body.getAttribute("id")&&t.body.removeAttribute("id"),e(">thead>tr",t.body).empty(),e(">tfoot",t.body).remove();var m=e("tbody",t.body)[0];if(e(m).empty(),0<u.aiDisplay.length){for(a=e(">thead>tr",t.body)[0],s=0;s<r.length;s++){var g=r[s],v=e(u.aoColumns[g].nTh).clone(!0)[0];v.innerHTML="",(d=v.style).paddingTop="0",d.paddingBottom="0",d.borderTopWidth="0",d.borderBottomWidth="0",d.height=0,d.width=l.s.aiInnerWidths[g]+"px",a.appendChild(v)}e(">tbody>tr",l.dom.body).each((function(t){t=!1===l.s.dt.oFeatures.bServerSide?l.s.dt.aiDisplay[l.s.dt._iDisplayStart+t]:t;var n=l.s.dt.aoData[t].anCells||e(this).children("td, th"),i=this.cloneNode(!1);for(i.removeAttribute("id"),i.setAttribute("data-dt-row",t),s=0;s<r.length;s++)g=r[s],0<n.length&&((v=e(n[g]).clone(!0,!0)[0]).removeAttribute("id"),v.setAttribute("data-dt-row",t),v.setAttribute("data-dt-column",g),i.appendChild(v));m.appendChild(i)}))}else e(">tbody>tr",l.dom.body).each((function(t){(v=this.cloneNode(!0)).className+=" DTFC_NoData",e("td",v).html(""),m.appendChild(v)}));if(t.body.style.width="100%",t.body.style.margin="0",t.body.style.padding="0",u.oScroller!==i&&(a=u.oScroller.dom.force,n.forcer?n.forcer.style.height=a.style.height:(n.forcer=a.cloneNode(!0),n.liner.appendChild(n.forcer))),n.liner.appendChild(t.body),this._fnEqualiseHeights("tbody",l.dom.body,t.body),null!==u.nTFoot){if(o){for(null!==t.footer&&t.footer.parentNode.removeChild(t.footer),t.footer=e(this.dom.footer).clone(!0,!0)[0],t.footer.className+=" DTFC_Cloned",t.footer.style.width="100%",n.foot.appendChild(t.footer),c=this._fnCopyLayout(u.aoFooter,r,!0),(n=e(">tfoot",t.footer)).empty(),f=0,a=c.length;f<a;f++)n[0].appendChild(c[f].nTr);u.oApi._fnDrawHead(u,c,!0)}else for(c=this._fnCopyLayout(u.aoFooter,r,!1),n=[],u.oApi._fnDetectHeader(n,e(">tfoot",t.footer)[0]),f=0,a=c.length;f<a;f++)for(p=0,d=c[f].length;p<d;p++)n[f][p].cell.className=c[f][p].cell.className;this._fnEqualiseHeights("tfoot",this.dom.footer,t.footer)}n=u.oApi._fnGetUniqueThs(u,e(">thead",t.header)[0]),e(n).each((function(e){g=r[e],this.style.width=l.s.aiInnerWidths[g]+"px"})),null!==l.s.dt.nTFoot&&(n=u.oApi._fnGetUniqueThs(u,e(">tfoot",t.footer)[0]),e(n).each((function(e){g=r[e],this.style.width=l.s.aiInnerWidths[g]+"px"})))},_fnGetTrNodes:function(e){for(var t=[],n=0,i=e.childNodes.length;n<i;n++)"TR"==e.childNodes[n].nodeName.toUpperCase()&&t.push(e.childNodes[n]);return t},_fnEqualiseHeights:function(t,n,i){if("none"!=this.s.sHeightMatch||"thead"===t||"tfoot"===t){var r=n.getElementsByTagName(t)[0];i=i.getElementsByTagName(t)[0],(t=e(">"+t+">tr:eq(0)",n).children(":first")).outerHeight(),t.height(),r=this._fnGetTrNodes(r),n=this._fnGetTrNodes(i);var o=[];for(i=0,t=n.length;i<t;i++){var a=r[i].offsetHeight,s=n[i].offsetHeight;a=s>a?s:a,"semiauto"==this.s.sHeightMatch&&(r[i]._DTTC_iHeight=a),o.push(a)}for(i=0,t=n.length;i<t;i++)n[i].style.height=o[i]+"px",r[i].style.height=o[i]+"px"}},_firefoxScrollError:function(){if(r===i){var t=e("<div/>").css({position:"absolute",top:0,left:0,height:10,width:50,overflow:"scroll"}).appendTo("body");r=t[0].clientWidth===t[0].offsetWidth&&0!==this._fnDTOverflow().bar,t.remove()}return r}}),a.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},a.version="3.3.2",o.Api.register("fixedColumns()",(function(){return this})),o.Api.register("fixedColumns().update()",(function(){return this.iterator("table",(function(e){e._oFixedColumns&&e._oFixedColumns.fnUpdate()}))})),o.Api.register("fixedColumns().relayout()",(function(){return this.iterator("table",(function(e){e._oFixedColumns&&e._oFixedColumns.fnRedrawLayout()}))})),o.Api.register("rows().recalcHeight()",(function(){return this.iterator("row",(function(e,t){e._oFixedColumns&&e._oFixedColumns.fnRecalculateHeight(this.row(t).node())}))})),o.Api.register("fixedColumns().rowIndex()",(function(t){return(t=e(t)).parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[t.index()]:this.row(t).index()})),o.Api.register("fixedColumns().cellIndex()",(function(t){if((t=e(t)).parents(".DTFC_Cloned").length){var n=t.parent().index();return n=this.rows({page:"current"}).indexes()[n],t=t.parents(".DTFC_LeftWrapper").length?t.index():this.columns().flatten().length-this.context[0]._oFixedColumns.s.iRightColumns+t.index(),{row:n,column:this.column.index("toData",t),columnVisible:t}}return this.cell(t).index()})),o.Api.registerPlural("cells().fixedNodes()","cell().fixedNode()",(function(){return this.iterator("cell",(function(e,t,n){return e._oFixedColumns?e._oFixedColumns.fnToFixedNode(t,n):this.cell(t,n).node()}),1)})),e(n).on("init.dt.fixedColumns",(function(t,n){if("dt"===t.namespace){t=n.oInit.fixedColumns;var i=o.defaults.fixedColumns;(t||i)&&(i=e.extend({},t,i),!1!==t&&new a(n,i))}})),e.fn.dataTable.FixedColumns=a,e.fn.DataTable.FixedColumns=a})),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net-dt","datatables.net-fixedcolumns"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net-dt")(t,n).$),n.fn.dataTable.FixedColumns||require("datatables.net-fixedcolumns")(t,n),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n,i){return e.fn.dataTable})),($jscomp=$jscomp||{}).scope={},$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var o=e[r];if(t.call(n,o,r,e))return{i:r,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp$lookupPolyfilledValue=function(e,t){var n=$jscomp.propertyToPolyfillSymbol[t];return null==n?e[t]:void 0!==(n=e[n])?n:e[t]};$jscomp.polyfill=function(e,t,n,i){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,t,n,i):$jscomp.polyfillUnisolated(e,t,n,i))},$jscomp.polyfillUnisolated=function(e,t,n,i){for(n=$jscomp.global,e=e.split("."),i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))return;n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})},$jscomp.polyfillIsolated=function(e,t,n,i){var r=e.split(".");e=1===r.length,i=r[0],i=!e&&i in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var o=0;o<r.length-1;o++){var a=r[o];if(!(a in i))return;i=i[a]}r=r[r.length-1],null!=(t=t(n=$jscomp.IS_SYMBOL_NATIVE&&"es6"===n?i[r]:null))&&(e?$jscomp.defineProperty($jscomp.polyfills,r,{configurable:!0,writable:!0,value:t}):t!==n&&($jscomp.propertyToPolyfillSymbol[r]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(r):$jscomp.POLYFILL_PREFIX+r,r=$jscomp.propertyToPolyfillSymbol[r],$jscomp.defineProperty(i,r,{configurable:!0,writable:!0,value:t})))},$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n,i){function r(e,t,n){var r=t+"-"+n;if(s[r]){e=e.cell(t,n).node(),t=[];for(var o=0,a=(n=s[r][0].parentNode.childNodes).length;o<a;o++)t.push(n[o]);for(n=0,o=t.length;n<o;n++)e.appendChild(t[n]);s[r]=i}}var o=e.fn.dataTable,a=function(t,n){if(!o.versionCheck||!o.versionCheck("1.10.10"))throw"DataTables Responsive requires DataTables 1.10.10 or newer";this.s={dt:new o.Api(t),columns:[],current:[]},this.s.dt.settings()[0].responsive||(n&&"string"==typeof n.details?n.details={type:n.details}:n&&!1===n.details?n.details={type:!1}:n&&!0===n.details&&(n.details={type:"inline"}),this.c=e.extend(!0,{},a.defaults,o.defaults.responsive,n),t.responsive=this,this._constructor())};e.extend(a.prototype,{_constructor:function(){var n=this,i=this.s.dt,r=i.settings()[0],a=e(t).innerWidth();i.settings()[0]._responsive=this,e(t).on("resize.dtr orientationchange.dtr",o.util.throttle((function(){var i=e(t).innerWidth();i!==a&&(n._resize(),a=i)}))),r.oApi._fnCallbackReg(r,"aoRowCreatedCallback",(function(t,r,o){-1!==e.inArray(!1,n.s.current)&&e(">td, >th",t).each((function(t){t=i.column.index("toData",t),!1===n.s.current[t]&&e(this).css("display","none")}))})),i.on("destroy.dtr",(function(){i.off(".dtr"),e(i.table().body()).off(".dtr"),e(t).off("resize.dtr orientationchange.dtr"),i.cells(".dtr-control").nodes().to$().removeClass("dtr-control"),e.each(n.s.current,(function(e,t){!1===t&&n._setColumnVis(e,!0)}))})),this.c.breakpoints.sort((function(e,t){return e.width<t.width?1:e.width>t.width?-1:0})),this._classLogic(),this._resizeAuto(),!1!==(r=this.c.details).type&&(n._detailsInit(),i.on("column-visibility.dtr",(function(){n._timer&&clearTimeout(n._timer),n._timer=setTimeout((function(){n._timer=null,n._classLogic(),n._resizeAuto(),n._resize(!0),n._redrawChildren()}),100)})),i.on("draw.dtr",(function(){n._redrawChildren()})),e(i.table().node()).addClass("dtr-"+r.type)),i.on("column-reorder.dtr",(function(e,t,i){n._classLogic(),n._resizeAuto(),n._resize(!0)})),i.on("column-sizing.dtr",(function(){n._resizeAuto(),n._resize()})),i.on("preXhr.dtr",(function(){var e=[];i.rows().every((function(){this.child.isShown()&&e.push(this.id(!0))})),i.one("draw.dtr",(function(){n._resizeAuto(),n._resize(),i.rows(e).every((function(){n._detailsDisplay(this,!1)}))}))})),i.on("draw.dtr",(function(){n._controlClass()})).on("init.dtr",(function(t,r,o){"dt"===t.namespace&&(n._resizeAuto(),n._resize(),e.inArray(!1,n.s.current)&&i.columns.adjust())})),this._resize()},_columnsVisiblity:function(t){var n,i=this.s.dt,r=this.s.columns,o=r.map((function(e,t){return{columnIdx:t,priority:e.priority}})).sort((function(e,t){return e.priority!==t.priority?e.priority-t.priority:e.columnIdx-t.columnIdx})),a=e.map(r,(function(n,r){return!1===i.column(r).visible()?"not-visible":(!n.auto||null!==n.minWidth)&&(!0===n.auto?"-":-1!==e.inArray(t,n.includeIn))})),s=0,l=0;for(n=a.length;l<n;l++)!0===a[l]&&(s+=r[l].minWidth);for(l=(l=i.settings()[0].oScroll).sY||l.sX?l.iBarWidth:0,s=i.table().container().offsetWidth-l-s,l=0,n=a.length;l<n;l++)r[l].control&&(s-=r[l].minWidth);var u=!1;for(l=0,n=o.length;l<n;l++){var c=o[l].columnIdx;"-"===a[c]&&!r[c].control&&r[c].minWidth&&(u||0>s-r[c].minWidth?(u=!0,a[c]=!1):a[c]=!0,s-=r[c].minWidth)}for(o=!1,l=0,n=r.length;l<n;l++)if(!r[l].control&&!r[l].never&&!1===a[l]){o=!0;break}for(l=0,n=r.length;l<n;l++)r[l].control&&(a[l]=o),"not-visible"===a[l]&&(a[l]=!1);return-1===e.inArray(!0,a)&&(a[0]=!0),a},_classLogic:function(){var t=this,n=this.c.breakpoints,r=this.s.dt,o=r.columns().eq(0).map((function(e){var t=this.column(e),n=t.header().className;return e=r.settings()[0].aoColumns[e].responsivePriority,t=t.header().getAttribute("data-priority"),e===i&&(e=t===i||null===t?1e4:1*t),{className:n,includeIn:[],auto:!1,control:!1,never:!!n.match(/\bnever\b/),priority:e}})),a=function(t,n){t=o[t].includeIn,-1===e.inArray(n,t)&&t.push(n)},s=function(e,i,r,s){if(r){if("max-"===r)for(s=t._find(i).width,i=0,r=n.length;i<r;i++)n[i].width<=s&&a(e,n[i].name);else if("min-"===r)for(s=t._find(i).width,i=0,r=n.length;i<r;i++)n[i].width>=s&&a(e,n[i].name);else if("not-"===r)for(i=0,r=n.length;i<r;i++)-1===n[i].name.indexOf(s)&&a(e,n[i].name)}else o[e].includeIn.push(i)};o.each((function(t,i){for(var r=t.className.split(" "),o=!1,a=0,l=r.length;a<l;a++){var u=r[a].trim();if("all"===u)return o=!0,void(t.includeIn=e.map(n,(function(e){return e.name})));if("none"===u||t.never)return void(o=!0);if("control"===u||"dtr-control"===u)return o=!0,void(t.control=!0);e.each(n,(function(e,t){e=t.name.split("-");var n=u.match(new RegExp("(min\\-|max\\-|not\\-)?("+e[0]+")(\\-[_a-zA-Z0-9])?"));n&&(o=!0,n[2]===e[0]&&n[3]==="-"+e[1]?s(i,t.name,n[1],n[2]+n[3]):n[2]!==e[0]||n[3]||s(i,t.name,n[1],n[2]))}))}o||(t.auto=!0)})),this.s.columns=o},_controlClass:function(){if("inline"===this.c.details.type){var t=this.s.dt,n=e.inArray(!0,this.s.current);t.cells(null,(function(e){return e!==n}),{page:"current"}).nodes().to$().filter(".dtr-control").removeClass("dtr-control"),t.cells(null,n,{page:"current"}).nodes().to$().addClass("dtr-control")}},_detailsDisplay:function(t,n){var i=this,r=this.s.dt,o=this.c.details;if(o&&!1!==o.type){var a=o.display(t,n,(function(){return o.renderer(r,t[0],i._detailsObj(t[0]))}));!0!==a&&!1!==a||e(r.table().node()).triggerHandler("responsive-display.dt",[r,t,a,n])}},_detailsInit:function(){var t=this,n=this.s.dt,r=this.c.details;"inline"===r.type&&(r.target="td.dtr-control, th.dtr-control"),n.on("draw.dtr",(function(){t._tabIndexes()})),t._tabIndexes(),e(n.table().body()).on("keyup.dtr","td, th",(function(t){13===t.keyCode&&e(this).data("dtr-keyboard")&&e(this).click()}));var o=r.target;r="string"==typeof o?o:"td, th",o===i&&null===o||e(n.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",r,(function(i){if(e(n.table().node()).hasClass("collapsed")&&-1!==e.inArray(e(this).closest("tr").get(0),n.rows().nodes().toArray())){if("number"==typeof o){var r=0>o?n.columns().eq(0).length+o:o;if(n.cell(this).index().column!==r)return}r=n.row(e(this).closest("tr")),"click"===i.type?t._detailsDisplay(r,!1):"mousedown"===i.type?e(this).css("outline","none"):"mouseup"===i.type&&e(this).trigger("blur").css("outline","")}}))},_detailsObj:function(t){var n=this,i=this.s.dt;return e.map(this.s.columns,(function(r,o){if(!r.never&&!r.control)return{className:(r=i.settings()[0].aoColumns[o]).sClass,columnIndex:o,data:i.cell(t,o).render(n.c.orthogonal),hidden:i.column(o).visible()&&!n.s.current[o],rowIndex:t,title:null!==r.sTitle?r.sTitle:e(i.column(o).header()).text()}}))},_find:function(e){for(var t=this.c.breakpoints,n=0,i=t.length;n<i;n++)if(t[n].name===e)return t[n]},_redrawChildren:function(){var e=this,t=this.s.dt;t.rows({page:"current"}).iterator("row",(function(n,i){t.row(i),e._detailsDisplay(t.row(i),!0)}))},_resize:function(n){var i,r=this,o=this.s.dt,a=e(t).innerWidth(),s=this.c.breakpoints,l=s[0].name,u=this.s.columns,c=this.s.current.slice();for(i=s.length-1;0<=i;i--)if(a<=s[i].width){l=s[i].name;break}var d=this._columnsVisiblity(l);for(this.s.current=d,s=!1,i=0,a=u.length;i<a;i++)if(!1===d[i]&&!u[i].never&&!u[i].control&&!1==!o.column(i).visible()){s=!0;break}e(o.table().node()).toggleClass("collapsed",s);var f=!1,h=0;o.columns().eq(0).each((function(e,t){!0===d[t]&&h++,(n||d[t]!==c[t])&&(f=!0,r._setColumnVis(e,d[t]))})),f&&(this._redrawChildren(),e(o.table().node()).trigger("responsive-resize.dt",[o,this.s.current]),0===o.page.info().recordsDisplay&&e("td",o.table().body()).eq(0).attr("colspan",h)),r._controlClass()},_resizeAuto:function(){var t=this.s.dt,n=this.s.columns;if(this.c.auto&&-1!==e.inArray(!0,e.map(n,(function(e){return e.auto})))){e.isEmptyObject(s)||e.each(s,(function(e){e=e.split("-"),r(t,1*e[0],1*e[1])})),t.table().node();var i=t.table().node().cloneNode(!1),o=e(t.table().header().cloneNode(!1)).appendTo(i),a=e(t.table().body()).clone(!1,!1).empty().appendTo(i);i.style.width="auto";var l=t.columns().header().filter((function(e){return t.column(e).visible()})).to$().clone(!1).css("display","table-cell").css("width","auto").css("min-width",0);if(e(a).append(e(t.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display",""),a=t.table().footer()){a=e(a.cloneNode(!1)).appendTo(i);var u=t.columns().footer().filter((function(e){return t.column(e).visible()})).to$().clone(!1).css("display","table-cell");e("<tr/>").append(u).appendTo(a)}e("<tr/>").append(l).appendTo(o),"inline"===this.c.details.type&&e(i).addClass("dtr-inline collapsed"),e(i).find("[name]").removeAttr("name"),e(i).css("position","relative"),(i=e("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(i)).insertBefore(t.table().node()),l.each((function(e){e=t.column.index("fromVisible",e),n[e].minWidth=this.offsetWidth||0})),i.remove()}},_responsiveOnlyHidden:function(){var t=this.s.dt;return e.map(this.s.current,(function(e,n){return!1===t.column(n).visible()||e}))},_setColumnVis:function(t,n){var i=this.s.dt;n=n?"":"none",e(i.column(t).header()).css("display",n),e(i.column(t).footer()).css("display",n),i.column(t).nodes().to$().css("display",n),e.isEmptyObject(s)||i.cells(null,t).indexes().each((function(e){r(i,e.row,e.column)}))},_tabIndexes:function(){var t=this.s.dt,n=t.cells({page:"current"}).nodes().to$(),i=t.settings()[0],r=this.c.details.target;n.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),"number"==typeof r?t.cells(null,r,{page:"current"}).nodes().to$().attr("tabIndex",i.iTabIndex).data("dtr-keyboard",1):("td:first-child, th:first-child"===r&&(r=">td:first-child, >th:first-child"),e(r,t.rows({page:"current"}).nodes()).attr("tabIndex",i.iTabIndex).data("dtr-keyboard",1))}}),a.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],a.display={childRow:function(t,n,i){return n?e(t.node()).hasClass("parent")?(t.child(i(),"child").show(),!0):void 0:t.child.isShown()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(i(),"child").show(),e(t.node()).addClass("parent"),!0)},childRowImmediate:function(t,n,i){return!n&&t.child.isShown()||!t.responsive.hasHidden()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(i(),"child").show(),e(t.node()).addClass("parent"),!0)},modal:function(t){return function(i,r,o){if(r)e("div.dtr-modal-content").empty().append(o());else{var a=function(){s.remove(),e(n).off("keypress.dtr")},s=e('<div class="dtr-modal"/>').append(e('<div class="dtr-modal-display"/>').append(e('<div class="dtr-modal-content"/>').append(o())).append(e('<div class="dtr-modal-close">&times;</div>').click((function(){a()})))).append(e('<div class="dtr-modal-background"/>').click((function(){a()}))).appendTo("body");e(n).on("keyup.dtr",(function(e){27===e.keyCode&&(e.stopPropagation(),a())}))}t&&t.header&&e("div.dtr-modal-content").prepend("<h2>"+t.header(i)+"</h2>")}}};var s={};a.renderer={listHiddenNodes:function(){return function(t,n,i){var r=e('<ul data-dtr-index="'+n+'" class="dtr-details"/>'),o=!1;return e.each(i,(function(n,i){i.hidden&&(e("<li "+(i.className?'class="'+i.className+'"':"")+' data-dtr-index="'+i.columnIndex+'" data-dt-row="'+i.rowIndex+'" data-dt-column="'+i.columnIndex+'"><span class="dtr-title">'+i.title+"</span> </li>").append(e('<span class="dtr-data"/>').append(function(e,t,n){var i=t+"-"+n;if(s[i])return s[i];var r=[];for(e=e.cell(t,n).node().childNodes,t=0,n=e.length;t<n;t++)r.push(e[t]);return s[i]=r}(t,i.rowIndex,i.columnIndex))).appendTo(r),o=!0)})),!!o&&r}},listHidden:function(){return function(t,n,i){return!!(t=e.map(i,(function(e){var t=e.className?'class="'+e.className+'"':"";return e.hidden?"<li "+t+' data-dtr-index="'+e.columnIndex+'" data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><span class="dtr-title">'+e.title+'</span> <span class="dtr-data">'+e.data+"</span></li>":""})).join(""))&&e('<ul data-dtr-index="'+n+'" class="dtr-details"/>').append(t)}},tableAll:function(t){return t=e.extend({tableClass:""},t),function(n,i,r){return n=e.map(r,(function(e){return"<tr "+(e.className?'class="'+e.className+'"':"")+' data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><td>'+e.title+":</td> <td>"+e.data+"</td></tr>"})).join(""),e('<table class="'+t.tableClass+' dtr-details" width="100%"/>').append(n)}}},a.defaults={breakpoints:a.breakpoints,auto:!0,details:{display:a.display.childRow,renderer:a.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var l=e.fn.dataTable.Api;return l.register("responsive()",(function(){return this})),l.register("responsive.index()",(function(t){return{column:(t=e(t)).data("dtr-index"),row:t.parent().data("dtr-index")}})),l.register("responsive.rebuild()",(function(){return this.iterator("table",(function(e){e._responsive&&e._responsive._classLogic()}))})),l.register("responsive.recalc()",(function(){return this.iterator("table",(function(e){e._responsive&&(e._responsive._resizeAuto(),e._responsive._resize())}))})),l.register("responsive.hasHidden()",(function(){var t=this.context[0];return!!t._responsive&&-1!==e.inArray(!1,t._responsive._responsiveOnlyHidden())})),l.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",(function(){return this.iterator("column",(function(e,t){return!!e._responsive&&e._responsive._responsiveOnlyHidden()[t]}),1)})),a.version="2.2.7",e.fn.dataTable.Responsive=a,e.fn.DataTable.Responsive=a,e(n).on("preInit.dt.dtr",(function(t,n,i){"dt"===t.namespace&&(e(n.nTable).hasClass("responsive")||e(n.nTable).hasClass("dt-responsive")||n.oInit.responsive||o.defaults.responsive)&&(!1!==(t=n.oInit.responsive)&&new a(n,e.isPlainObject(t)?t:{}))})),a})),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net-dt","datatables.net-responsive"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net-dt")(t,n).$),n.fn.dataTable.Responsive||require("datatables.net-responsive")(t,n),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n,i){return e.fn.dataTable})),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.JSZip=e()}}((function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){var n=t[a][1][e];return r(n||e)}),u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,o,a,s,l,u="",c=0;c<e.length;)o=(t=e.charCodeAt(c++))>>2,a=(3&t)<<4|(n=e.charCodeAt(c++))>>4,s=(15&n)<<2|(r=e.charCodeAt(c++))>>6,l=63&r,isNaN(n)?s=l=64:isNaN(r)&&(l=64),u=u+i.charAt(o)+i.charAt(a)+i.charAt(s)+i.charAt(l);return u},n.decode=function(e){var t,n,r,o,a,s,l="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)t=i.indexOf(e.charAt(u++))<<2|(o=i.indexOf(e.charAt(u++)))>>4,n=(15&o)<<4|(a=i.indexOf(e.charAt(u++)))>>2,r=(3&a)<<6|(s=i.indexOf(e.charAt(u++))),l+=String.fromCharCode(t),64!=a&&(l+=String.fromCharCode(n)),64!=s&&(l+=String.fromCharCode(r));return l}},{}],2:[function(e,t){"use strict";function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=n},{}],3:[function(e,t,n){"use strict";n.STORE={magic:"\0\0",compress:function(e){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},n.DEFLATE=e("./flate")},{"./flate":8}],4:[function(e,t){"use strict";var n=e("./utils"),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(e,t){if(void 0===e||!e.length)return 0;var r="string"!==n.getTypeOf(e);void 0===t&&(t=0);var o=0;t^=-1;for(var a=0,s=e.length;s>a;a++)o=r?e[a]:e.charCodeAt(a),t=t>>>8^i[255&(t^o)];return-1^t}},{"./utils":21}],5:[function(e,t){"use strict";function n(){this.data=null,this.length=0,this.index=0}var i=e("./utils");n.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<e||0>e)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},t.exports=n},{"./utils":21}],6:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],7:[function(e,t,n){"use strict";var i=e("./utils");n.string2binary=function(e){return i.string2binary(e)},n.string2Uint8Array=function(e){return i.transformTo("uint8array",e)},n.uint8Array2String=function(e){return i.transformTo("string",e)},n.string2Blob=function(e){var t=i.transformTo("arraybuffer",e);return i.arrayBuffer2Blob(t)},n.arrayBuffer2Blob=function(e){return i.arrayBuffer2Blob(e)},n.transformTo=function(e,t){return i.transformTo(e,t)},n.getTypeOf=function(e){return i.getTypeOf(e)},n.checkSupport=function(e){return i.checkSupport(e)},n.MAX_VALUE_16BITS=i.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=i.MAX_VALUE_32BITS,n.pretty=function(e){return i.pretty(e)},n.findCompression=function(e){return i.findCompression(e)},n.isRegExp=function(e){return i.isRegExp(e)}},{"./utils":21}],8:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako");n.uncompressInputType=i?"uint8array":"array",n.compressInputType=i?"uint8array":"array",n.magic="\b\0",n.compress=function(e,t){return r.deflateRaw(e,{level:t.level||-1})},n.uncompress=function(e){return r.inflateRaw(e)}},{pako:24}],9:[function(e,t){"use strict";function n(e,t){return this instanceof n?(this.files={},this.comment=null,this.root="",e&&this.load(e,t),void(this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e})):new n(e,t)}var i=e("./base64");n.prototype=e("./object"),n.prototype.load=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.utils=e("./deprecatedPublicUtils"),n.base64={encode:function(e){return i.encode(e)},decode:function(e){return i.decode(e)}},n.compressions=e("./compressions"),t.exports=n},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(e,t){"use strict";var n=e("./base64"),i=e("./zipEntries");t.exports=function(e,t){var r,o,a,s;for((t=t||{}).base64&&(e=n.decode(e)),r=(o=new i(e,t)).files,a=0;a<r.length;a++)s=r[a],this.file(s.fileName,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileComment.length?s.fileComment:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders});return o.zipComment.length&&(this.comment=o.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(e,t){(function(e){"use strict";t.exports=function(t,n){return new e(t,n)},t.exports.test=function(t){return e.isBuffer(t)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(e,t){"use strict";function n(e){this.data=e,this.length=this.data.length,this.index=0}var i=e("./uint8ArrayReader");n.prototype=new i,n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.index,this.index+e);return this.index+=e,t},t.exports=n},{"./uint8ArrayReader":18}],13:[function(e,t){"use strict";var n=e("./support"),i=e("./utils"),r=e("./crc32"),o=e("./signature"),a=e("./defaults"),s=e("./base64"),l=e("./compressions"),u=e("./compressedObject"),c=e("./nodeBuffer"),d=e("./utf8"),f=e("./stringWriter"),h=e("./uint8ArrayWriter"),p=function(e){if(e._data instanceof u&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===i.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},m=function(e){var t=p(e);return"string"===i.getTypeOf(t)?!e.options.binary&&n.nodebuffer?c(t,"utf-8"):e.asBinary():t},g=function(e){var t=p(this);return null==t?"":(this.options.base64&&(t=s.decode(t)),t=e&&this.options.binary?I.utf8decode(t):i.transformTo("string",t),e||this.options.binary||(t=i.transformTo("string",I.utf8encode(t))),t)},v=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};v.prototype={asText:function(){return g.call(this,!0)},asBinary:function(){return g.call(this,!1)},asNodeBuffer:function(){var e=m(this);return i.transformTo("nodebuffer",e)},asUint8Array:function(){var e=m(this);return i.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var y=function(e,t){var n,i="";for(n=0;t>n;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},b=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},_=function(e){return!0!==(e=e||{}).base64||null!==e.binary&&void 0!==e.binary||(e.binary=!0),(e=b(e,a)).date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e},w=function(e,t,n){var r,o=i.getTypeOf(t);if("string"==typeof(n=_(n)).unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(e=E(e)),n.createFolders&&(r=S(e))&&C.call(this,r,!0),n.dir||null==t)n.base64=!1,n.binary=!1,t=null,o=null;else if("string"===o)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(t=i.string2binary(t));else{if(n.base64=!1,n.binary=!0,!(o||t instanceof u))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===o&&(t=i.transformTo("uint8array",t))}var a=new v(e,t,n);return this.files[e]=a,a},S=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},E=function(e){return"/"!=e.slice(-1)&&(e+="/"),e},C=function(e,t){return t=void 0!==t&&t,e=E(e),this.files[e]||w.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},x=function(e,t,n){var o,a=new u;return e._data instanceof u?(a.uncompressedSize=e._data.uncompressedSize,a.crc32=e._data.crc32,0===a.uncompressedSize||e.dir?(t=l.STORE,a.compressedContent="",a.crc32=0):e._data.compressionMethod===t.magic?a.compressedContent=e._data.getCompressedContent():(o=e._data.getContent(),a.compressedContent=t.compress(i.transformTo(t.compressInputType,o),n))):((!(o=m(e))||0===o.length||e.dir)&&(t=l.STORE,o=""),a.uncompressedSize=o.length,a.crc32=r(o),a.compressedContent=t.compress(i.transformTo(t.compressInputType,o),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=t.magic,a},T=function(e,t,n,a,s){var l,u,c,f,h=(n.compressedContent,i.transformTo("string",d.utf8encode(t.name))),p=t.comment||"",m=i.transformTo("string",d.utf8encode(p)),g=h.length!==t.name.length,v=m.length!==p.length,b=t.options,_="",w="",S="";c=t._initialMetadata.dir!==t.dir?t.dir:b.dir,f=t._initialMetadata.date!==t.date?t.date:b.date;var E=0,C=0;c&&(E|=16),"UNIX"===s?(C=798,E|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(t.unixPermissions,c)):(C=20,E|=function(e){return 63&(e||0)}(t.dosPermissions)),l=f.getHours(),l<<=6,l|=f.getMinutes(),l<<=5,l|=f.getSeconds()/2,u=f.getFullYear()-1980,u<<=4,u|=f.getMonth()+1,u<<=5,u|=f.getDate(),g&&(w=y(1,1)+y(r(h),4)+h,_+="up"+y(w.length,2)+w),v&&(S=y(1,1)+y(this.crc32(m),4)+m,_+="uc"+y(S.length,2)+S);var x="";return x+="\n\0",x+=g||v?"\0\b":"\0\0",x+=n.compressionMethod,x+=y(l,2),x+=y(u,2),x+=y(n.crc32,4),x+=y(n.compressedSize,4),x+=y(n.uncompressedSize,4),x+=y(h.length,2),x+=y(_.length,2),{fileRecord:o.LOCAL_FILE_HEADER+x+h+_,dirRecord:o.CENTRAL_FILE_HEADER+y(C,2)+x+y(m.length,2)+"\0\0\0\0"+y(E,4)+y(a,4)+h+_+m,compressedObject:n}},I={load:function(){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,n,i,r,o=[];for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],r=new v(i.name,i._data,b(i.options)),n=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(n,r)&&o.push(r));return o},file:function(e,t,n){if(1===arguments.length){if(i.isRegExp(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}return this.filter((function(t,n){return!n.dir&&t===e}))[0]||null}return e=this.root+e,w.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(i.isRegExp(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=C.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){e=b(e||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"}),i.checkSupport(e.type),("darwin"===e.platform||"freebsd"===e.platform||"linux"===e.platform||"sunos"===e.platform)&&(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var t,n,r=[],a=0,u=0,c=i.transformTo("string",this.utf8encode(e.comment||this.comment||""));for(var d in this.files)if(this.files.hasOwnProperty(d)){var p=this.files[d],m=p.options.compression||e.compression.toUpperCase(),g=l[m];if(!g)throw new Error(m+" is not a valid compression method !");var v=p.options.compressionOptions||e.compressionOptions||{},_=x.call(this,p,g,v),w=T.call(this,d,p,_,a,e.platform);a+=w.fileRecord.length+_.compressedSize,u+=w.dirRecord.length,r.push(w)}var S;S=o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+y(r.length,2)+y(r.length,2)+y(u,4)+y(a,4)+y(c.length,2)+c;var E=e.type.toLowerCase();for(t="uint8array"===E||"arraybuffer"===E||"blob"===E||"nodebuffer"===E?new h(a+u+S.length):new f(a+u+S.length),n=0;n<r.length;n++)t.append(r[n].fileRecord),t.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)t.append(r[n].dirRecord);t.append(S);var C=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(e.type.toLowerCase(),C);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",C),e.mimeType);case"base64":return e.base64?s.encode(C):C;default:return C}},crc32:function(e,t){return r(e,t)},utf8encode:function(e){return i.transformTo("string",d.utf8encode(e))},utf8decode:function(e){return d.utf8decode(e)}};t.exports=I},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],15:[function(e,t){"use strict";function n(e,t){this.data=e,t||(this.data=r.string2binary(this.data)),this.length=this.data.length,this.index=0}var i=e("./dataReader"),r=e("./utils");n.prototype=new i,n.prototype.byteAt=function(e){return this.data.charCodeAt(e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.index,this.index+e);return this.index+=e,t},t.exports=n},{"./dataReader":5,"./utils":21}],16:[function(e,t){"use strict";var n=e("./utils"),i=function(){this.data=[]};i.prototype={append:function(e){e=n.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},t.exports=i},{"./utils":21}],17:[function(e,t,n){(function(e){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==e,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var t=new ArrayBuffer(0);try{n.blob=0===new Blob([t],{type:"application/zip"}).size}catch(e){try{var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);i.append(t),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],18:[function(e,t){"use strict";function n(e){e&&(this.data=e,this.length=this.data.length,this.index=0)}var i=e("./dataReader");n.prototype=new i,n.prototype.byteAt=function(e){return this.data[e]},n.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o;return-1},n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.index,this.index+e);return this.index+=e,t},t.exports=n},{"./dataReader":5}],19:[function(e,t){"use strict";var n=e("./utils"),i=function(e){this.data=new Uint8Array(e),this.index=0};i.prototype={append:function(e){0!==e.length&&(e=n.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},t.exports=i},{"./utils":21}],20:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),o=e("./nodeBuffer"),a=new Array(256),s=0;256>s;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var l=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return 0>n||0===n?t:n+a[e[n]]>t?n:t},u=function(e){var t,n,r,o,s=e.length,l=new Array(2*s);for(n=0,t=0;s>t;)if(128>(r=e[t++]))l[n++]=r;else if((o=a[r])>4)l[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&s>t;)r=r<<6|63&e[t++],o--;o>1?l[n++]=65533:65536>r?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)};n.utf8encode=function(e){return r.nodebuffer?o(e,"utf-8"):function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;s>o;o++)55296==(64512&(n=e.charCodeAt(o)))&&s>o+1&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;l>a;o++)55296==(64512&(n=e.charCodeAt(o)))&&s>o+1&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),128>n?t[a++]=n:2048>n?(t[a++]=192|n>>>6,t[a++]=128|63&n):65536>n?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){if(r.nodebuffer)return i.transformTo("nodebuffer",e).toString("utf-8");for(var t=[],n=0,o=(e=i.transformTo(r.uint8array?"uint8array":"array",e)).length;o>n;){var a=l(e,Math.min(n+65536,o));t.push(r.uint8array?u(e.subarray(n,a)):u(e.slice(n,a))),n=a}return t.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(e,t,n){"use strict";function i(e){return e}function r(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function o(e){var t=65536,i=[],r=e.length,o=n.getTypeOf(e),a=0,s=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,u(0))}}catch(e){s=!1}if(!s){for(var l="",c=0;c<e.length;c++)l+=String.fromCharCode(e[c]);return l}for(;r>a&&t>1;)try{i.push("array"===o||"nodebuffer"===o?String.fromCharCode.apply(null,e.slice(a,Math.min(a+t,r))):String.fromCharCode.apply(null,e.subarray(a,Math.min(a+t,r)))),a+=t}catch(e){t=Math.floor(t/2)}return i.join("")}function a(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var s=e("./support"),l=e("./compressions"),u=e("./nodeBuffer");n.string2binary=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t},n.arrayBuffer2Blob=function(e,t){n.checkSupport("blob"),t=t||"application/zip";try{return new Blob([e],{type:t})}catch(n){try{var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return i.append(e),i.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=o;var c={};c.string={string:i,array:function(e){return r(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return r(e,new Uint8Array(e.length))},nodebuffer:function(e){return r(e,u(e.length))}},c.array={string:o,array:i,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u(e)}},c.arraybuffer={string:function(e){return o(new Uint8Array(e))},array:function(e){return a(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:i,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u(new Uint8Array(e))}},c.uint8array={string:o,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:i,nodebuffer:function(e){return u(e)}},c.nodebuffer={string:o,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return a(e,new Uint8Array(e.length))},nodebuffer:i},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return c[i][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":s.nodebuffer&&u.test(e)?"nodebuffer":s.uint8array&&e instanceof Uint8Array?"uint8array":s.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!s[e.toLowerCase()])throw new Error(e+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+(16>(t=e.charCodeAt(n))?"0":"")+t.toString(16).toUpperCase();return i},n.findCompression=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(e,t){"use strict";function n(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}var i=e("./stringReader"),r=e("./nodeBufferReader"),o=e("./uint8ArrayReader"),a=e("./utils"),s=e("./signature"),l=e("./zipEntry"),u=e("./support"),c=e("./object");n.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw new Error("Corrupted zip or bug : unexpected signature ("+a.pretty(t)+", expected "+a.pretty(e)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=c.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;i>0;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===s.CENTRAL_FILE_HEADER;)(e=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(-1===e){var t=!0;try{this.reader.setIndex(0),this.checkSignature(s.LOCAL_FILE_HEADER),t=!1}catch(e){}throw new Error(t?"Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html":"Corrupted zip : can't find end of central directory")}if(this.reader.setIndex(e),this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,-1===(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR)))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(e){var t=a.getTypeOf(e);this.reader="string"!==t||u.uint8array?"nodebuffer"===t?new r(e):new o(a.transformTo("uint8array",e)):new i(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=n},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(e,t){"use strict";function n(e,t){this.options=e,this.loadOptions=t}var i=e("./stringReader"),r=e("./utils"),o=e("./compressedObject"),a=e("./object");n.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(e,t,n){return function(){var i=e.index;e.setIndex(t);var r=e.readData(n);return e.setIndex(i),r}},prepareContent:function(e,t,n,i,o){return function(){var e=r.transformTo(i.uncompressInputType,this.getCompressedContent()),t=i.uncompress(e);if(t.length!==o)throw new Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readString(this.fileNameLength),e.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(t=r.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new o,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,t),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,t,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=r.transformTo("string",this.decompressed.getContent()),a.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readInt(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=e.readString(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=new i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index;for(this.extraFields=this.extraFields||{};e.index<r+this.extraFieldsLength;)t=e.readInt(2),n=e.readInt(2),i=e.readString(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){if(this.useUTF8())this.fileName=a.utf8decode(this.fileName),this.fileComment=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();null!==e&&(this.fileName=e);var t=this.findExtraFieldUnicodeComment();null!==t&&(this.fileComment=t)}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new i(e.value);return 1!==t.readInt(1)||a.crc32(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new i(e.value);return 1!==t.readInt(1)||a.crc32(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readString(e.length-5))}return null}},t.exports=n},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(e,t){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(e,t,n){"use strict";function i(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}var r=e("./zlib/deflate.js"),o=e("./utils/common"),a=e("./utils/strings"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=function(e){this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(s[n]);t.header&&r.deflateSetHeader(this.strm,t.header)};u.prototype.push=function(e,t){var n,i,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,s.input="string"==typeof e?a.string2buf(e):e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,i))&&0!==n)return this.onEnd(n),this.ended=!0,!1;(0===s.avail_out||0===s.avail_in&&4===i)&&this.onData("string"===this.options.to?a.buf2binstring(o.shrinkBuf(s.output,s.next_out)):o.shrinkBuf(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4!==i||(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=u,n.deflate=i,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,i(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,i(e,t)}},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(e,t,n){"use strict";function i(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}var r=e("./zlib/inflate.js"),o=e("./utils/common"),a=e("./utils/strings"),s=e("./zlib/constants"),l=e("./zlib/messages"),u=e("./zlib/zstream"),c=e("./zlib/gzheader"),d=function(e){this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(l[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)};d.prototype.push=function(e,t){var n,i,l,u,c,d=this.strm,f=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,d.input="string"==typeof e?a.binstring2buf(e):e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new o.Buf8(f),d.next_out=0,d.avail_out=f),(n=r.inflate(d,s.Z_NO_FLUSH))!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0===d.avail_out||n===s.Z_STREAM_END||0===d.avail_in&&i===s.Z_FINISH)&&("string"===this.options.to?(l=a.utf8border(d.output,d.next_out),u=d.next_out-l,c=a.buf2string(d.output,l),d.next_out=u,d.avail_out=f-u,u&&o.arraySet(d.output,d.output,l,u,0),this.onData(c)):this.onData(o.shrinkBuf(d.output,d.next_out)))}while(d.avail_in>0&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(i=s.Z_FINISH),i!==s.Z_FINISH||(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===s.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=i,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,i(e,t)},n.ungzip=i},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;i>o;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;n>t;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;n>t;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;i>o;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],28:[function(e,t,n){"use strict";function i(e,t){if(65537>t&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;t>i;i++)n+=String.fromCharCode(e[i]);return n}var r=e("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var s=new r.Buf8(256),l=0;256>l;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;s>o;o++)55296==(64512&(n=e.charCodeAt(o)))&&s>o+1&&(56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=new r.Buf8(l),a=0,o=0;l>a;o++)55296==(64512&(n=e.charCodeAt(o)))&&s>o+1&&(56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++)),128>n?t[a++]=n:2048>n?(t[a++]=192|n>>>6,t[a++]=128|63&n):65536>n?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return i(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;i>n;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,a,l=t||e.length,u=new Array(2*l);for(r=0,n=0;l>n;)if(128>(o=e[n++]))u[r++]=o;else if((a=s[o])>4)u[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&l>n;)o=o<<6|63&e[n++],a--;a>1?u[r++]=65533:65536>o?u[r++]=o:(o-=65536,u[r++]=55296|o>>10&1023,u[r++]=56320|1023&o)}return i(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return 0>n||0===n?t:n+s[e[n]]>t?n:t}},{"./common":27}],29:[function(e,t){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},{}],30:[function(e,t){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(e,t){"use strict";var n=function(){for(var e,t=[],n=0;256>n;n++){e=n;for(var i=0;8>i;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,i,r){var o=n,a=r+i;e^=-1;for(var s=r;a>s;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],32:[function(e,t,n){"use strict";function i(e,t){return e.msg=T[t],t}function r(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(S.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){E._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function c(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,S.arraySet(t,e.input,e.next_in,r,n),1===e.state.wrap?e.adler=C(e.adler,t,r,n):2===e.state.wrap&&(e.adler=x(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)}function d(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-te?e.strstart-(e.w_size-te):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+ee,h=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===h&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&f>o);if(i=ee-(f-o),o=f-ee,i>a){if(e.match_start=t,a=i,i>=s)break;h=u[o+a-1],p=u[o+a]}}}while((t=d[t&c])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function f(e){var t,n,i,r,o,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-te)){S.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=a?i-a:0}while(--n);t=n=a;do{i=e.prev[--t],e.prev[t]=i>=a?i-a:0}while(--n);r+=a}if(0===e.strm.avail_in)break;if(n=c(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=J)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+J-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<J)););}while(e.lookahead<te&&0!==e.strm.avail_in)}function h(e,t){for(var n,i;;){if(e.lookahead<te){if(f(e),e.lookahead<te&&t===I)return ce;if(0===e.lookahead)break}if(n=0,e.lookahead>=J&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-te&&(e.match_length=d(e,n)),e.match_length>=J)if(i=E._tr_tally(e,e.strstart-e.match_start,e.match_length-J),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=J){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(s(e,!1),0===e.strm.avail_out))return ce}return e.insert=e.strstart<J-1?e.strstart:J-1,t===A?(s(e,!0),0===e.strm.avail_out?fe:he):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ce:de}function p(e,t){for(var n,i,r;;){if(e.lookahead<te){if(f(e),e.lookahead<te&&t===I)return ce;if(0===e.lookahead)break}if(n=0,e.lookahead>=J&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=J-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-te&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===B||e.match_length===J&&e.strstart-e.match_start>4096)&&(e.match_length=J-1)),e.prev_length>=J&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-J,i=E._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-J),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=J-1,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return ce}else if(e.match_available){if((i=E._tr_tally(e,0,e.window[e.strstart-1]))&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return ce}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=E._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<J-1?e.strstart:J-1,t===A?(s(e,!0),0===e.strm.avail_out?fe:he):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ce:de}function m(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=ee){if(f(e),e.lookahead<=ee&&t===I)return ce;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=J&&e.strstart>0&&((i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r])){o=e.strstart+ee;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&o>r);e.match_length=ee-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=J?(n=E._tr_tally(e,1,e.match_length-J),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return ce}return e.insert=0,t===A?(s(e,!0),0===e.strm.avail_out?fe:he):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ce:de}function g(e,t){for(var n;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===I)return ce;break}if(e.match_length=0,n=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return ce}return e.insert=0,t===A?(s(e,!0),0===e.strm.avail_out?fe:he):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ce:de}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new S.Buf16(2*Z),this.dyn_dtree=new S.Buf16(2*(2*K+1)),this.bl_tree=new S.Buf16(2*(2*X+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new S.Buf16(Q+1),this.heap=new S.Buf16(2*Y+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new S.Buf16(2*Y+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function y(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=z,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?ie:le,e.adler=2===t.wrap?0:1,t.last_flush=I,E._tr_init(t),P):i(e,R)}function b(e){var t=y(e);return t===P&&function(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=w[e.level].max_lazy,e.good_match=w[e.level].good_length,e.nice_match=w[e.level].nice_length,e.max_chain_length=w[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=J-1,e.match_available=0,e.ins_h=0}(e.state),t}function _(e,t,n,r,o,a){if(!e)return R;var s=1;if(t===M&&(t=6),0>r?(s=0,r=-r):r>15&&(s=2,r-=16),1>o||o>H||n!==q||8>r||r>15||0>t||t>9||0>a||a>j)return i(e,R);8===r&&(r=9);var l=new v;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+J-1)/J),l.window=new S.Buf8(2*l.w_size),l.head=new S.Buf16(l.hash_size),l.prev=new S.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new S.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,b(e)}var w,S=e("../utils/common"),E=e("./trees"),C=e("./adler32"),x=e("./crc32"),T=e("./messages"),I=0,k=1,O=3,A=4,D=5,P=0,N=1,R=-2,L=-3,F=-5,M=-1,B=1,V=2,$=3,j=4,U=0,z=2,q=8,H=9,G=15,W=8,Y=286,K=30,X=19,Z=2*Y+1,Q=15,J=3,ee=258,te=ee+J+1,ne=32,ie=42,re=69,oe=73,ae=91,se=103,le=113,ue=666,ce=1,de=2,fe=3,he=4,pe=3,me=function(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r};w=[new me(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===I)return ce;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,s(e,!1),0===e.strm.avail_out))return ce;if(e.strstart-e.block_start>=e.w_size-te&&(s(e,!1),0===e.strm.avail_out))return ce}return e.insert=0,t===A?(s(e,!0),0===e.strm.avail_out?fe:he):(e.strstart>e.block_start&&(s(e,!1),e.strm.avail_out),ce)})),new me(4,4,8,4,h),new me(4,5,16,8,h),new me(4,6,32,32,h),new me(4,4,16,16,p),new me(8,16,32,32,p),new me(8,16,128,128,p),new me(8,32,128,256,p),new me(32,128,258,1024,p),new me(32,258,258,4096,p)],n.deflateInit=function(e,t){return _(e,t,q,G,W,U)},n.deflateInit2=_,n.deflateReset=b,n.deflateResetKeep=y,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?R:(e.state.gzhead=t,P):R},n.deflate=function(e,t){var n,s,c,d;if(!e||!e.state||t>D||0>t)return e?i(e,R):R;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===ue&&t!==A)return i(e,0===e.avail_out?F:R);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===ie)if(2===s.wrap)e.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=V||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=x(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=re):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=V||s.level<2?4:0),l(s,pe),s.status=le);else{var f=q+(s.w_bits-8<<4)<<8;f|=(s.strategy>=V||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(f|=ne),f+=31-f%31,s.status=le,u(s,f),0!==s.strstart&&(u(s,e.adler>>>16),u(s,65535&e.adler)),e.adler=1}if(s.status===re)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(e.adler=x(e.adler,s.pending_buf,s.pending-c,c)),a(e),c=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(e.adler=x(e.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=oe)}else s.status=oe;if(s.status===oe)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(e.adler=x(e.adler,s.pending_buf,s.pending-c,c)),a(e),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(e.adler=x(e.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.gzindex=0,s.status=ae)}else s.status=ae;if(s.status===ae)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(e.adler=x(e.adler,s.pending_buf,s.pending-c,c)),a(e),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(e.adler=x(e.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.status=se)}else s.status=se;if(s.status===se&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(l(s,255&e.adler),l(s,e.adler>>8&255),e.adler=0,s.status=le)):s.status=le),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,P}else if(0===e.avail_in&&r(t)<=r(n)&&t!==A)return i(e,F);if(s.status===ue&&0!==e.avail_in)return i(e,F);if(0!==e.avail_in||0!==s.lookahead||t!==I&&s.status!==ue){var h=s.strategy===V?g(s,t):s.strategy===$?m(s,t):w[s.level].func(s,t);if((h===fe||h===he)&&(s.status=ue),h===ce||h===fe)return 0===e.avail_out&&(s.last_flush=-1),P;if(h===de&&(t===k?E._tr_align(s):t!==D&&(E._tr_stored_block(s,0,0,!1),t===O&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,P}return t!==A?P:s.wrap<=0?N:(2===s.wrap?(l(s,255&e.adler),l(s,e.adler>>8&255),l(s,e.adler>>16&255),l(s,e.adler>>24&255),l(s,255&e.total_in),l(s,e.total_in>>8&255),l(s,e.total_in>>16&255),l(s,e.total_in>>24&255)):(u(s,e.adler>>>16),u(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?P:N)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==ie&&t!==re&&t!==oe&&t!==ae&&t!==se&&t!==le&&t!==ue?i(e,R):(e.state=null,t===le?i(e,L):P):R},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(e,t){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],34:[function(e,t){"use strict";t.exports=function(e,t){var n,i,r,o,a,s,l,u,c,d,f,h,p,m,g,v,y,b,_,w,S,E,C,x,T;n=e.state,i=e.next_in,x=e.input,r=i+(e.avail_in-5),o=e.next_out,T=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{15>p&&(h+=x[i++]<<p,p+=8,h+=x[i++]<<p,p+=8),b=m[h&v];t:for(;;){if(h>>>=_=b>>>24,p-=_,0===(_=b>>>16&255))T[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(h&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(_&=15)&&(_>p&&(h+=x[i++]<<p,p+=8),w+=h&(1<<_)-1,h>>>=_,p-=_),15>p&&(h+=x[i++]<<p,p+=8,h+=x[i++]<<p,p+=8),b=g[h&y];n:for(;;){if(h>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(h&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(S=65535&b,(_&=15)>p&&(h+=x[i++]<<p,_>(p+=8)&&(h+=x[i++]<<p,p+=8)),(S+=h&(1<<_)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=_,p-=_,S>(_=o-a)){if((_=S-_)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=0,C=f,0===d){if(E+=u-_,w>_){w-=_;do{T[o++]=f[E++]}while(--_);E=o-S,C=T}}else if(_>d){if(E+=u+d-_,w>(_-=d)){w-=_;do{T[o++]=f[E++]}while(--_);if(E=0,w>d){w-=_=d;do{T[o++]=f[E++]}while(--_);E=o-S,C=T}}}else if(E+=d-_,w>_){w-=_;do{T[o++]=f[E++]}while(--_);E=o-S,C=T}for(;w>2;)T[o++]=C[E++],T[o++]=C[E++],T[o++]=C[E++],w-=3;w&&(T[o++]=C[E++],w>1&&(T[o++]=C[E++]))}else{E=o-S;do{T[o++]=T[E++],T[o++]=T[E++],T[o++]=T[E++],w-=3}while(w>2);w&&(T[o++]=T[E++],w>1&&(T[o++]=T[E++]))}break}}break}}while(r>i&&s>o);i-=w=p>>3,h&=(1<<(p-=w<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=r>i?r-i+5:5-(i-r),e.avail_out=s>o?s-o+257:257-(o-s),n.hold=h,n.bits=p}},{}],35:[function(e,t,n){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=D,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new f.Buf32(le),t.distcode=t.distdyn=new f.Buf32(ue),t.sane=1,t.back=-1,E):T}function a(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,o(e)):T}function s(e,t){var n,i;return e&&e.state?(i=e.state,0>t?(n=0,t=-t):(n=1+(t>>4),48>t&&(t&=15)),t&&(8>t||t>15)?T:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,a(e))):T}function l(e,t){var n,i;return e?(i=new r,e.state=i,i.window=null,(n=s(e,t))!==E&&(e.state=null),n):T}function u(e){if(de){var t;for(c=new f.Buf32(512),d=new f.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(g(y,e.lens,0,288,c,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;g(b,e.lens,0,32,d,0,e.work,{bits:5}),de=!1}e.lencode=c,e.lenbits=9,e.distcode=d,e.distbits=5}var c,d,f=e("../utils/common"),h=e("./adler32"),p=e("./crc32"),m=e("./inffast"),g=e("./inftrees"),v=0,y=1,b=2,_=4,w=5,S=6,E=0,C=1,x=2,T=-2,I=-3,k=-4,O=-5,A=8,D=1,P=2,N=3,R=4,L=5,F=6,M=7,B=8,V=9,$=10,j=11,U=12,z=13,q=14,H=15,G=16,W=17,Y=18,K=19,X=20,Z=21,Q=22,J=23,ee=24,te=25,ne=26,ie=27,re=28,oe=29,ae=30,se=31,le=852,ue=592,ce=15,de=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=function(e){return l(e,ce)},n.inflateInit2=l,n.inflate=function(e,t){var n,r,o,a,s,l,c,d,le,ue,ce,de,fe,he,pe,me,ge,ve,ye,be,_e,we,Se,Ee,Ce=0,xe=new f.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return T;(n=e.state).mode===U&&(n.mode=z),s=e.next_out,o=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,d=n.hold,le=n.bits,ue=l,ce=c,we=E;e:for(;;)switch(n.mode){case D:if(0===n.wrap){n.mode=z;break}for(;16>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}if(2&n.wrap&&35615===d){n.check=0,xe[0]=255&d,xe[1]=d>>>8&255,n.check=p(n.check,xe,2,0),d=0,le=0,n.mode=P;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=ae;break}if((15&d)!==A){e.msg="unknown compression method",n.mode=ae;break}if(le-=4,_e=8+(15&(d>>>=4)),0===n.wbits)n.wbits=_e;else if(_e>n.wbits){e.msg="invalid window size",n.mode=ae;break}n.dmax=1<<_e,e.adler=n.check=1,n.mode=512&d?$:U,d=0,le=0;break;case P:for(;16>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}if(n.flags=d,(255&n.flags)!==A){e.msg="unknown compression method",n.mode=ae;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=ae;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&(xe[0]=255&d,xe[1]=d>>>8&255,n.check=p(n.check,xe,2,0)),d=0,le=0,n.mode=N;case N:for(;32>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}n.head&&(n.head.time=d),512&n.flags&&(xe[0]=255&d,xe[1]=d>>>8&255,xe[2]=d>>>16&255,xe[3]=d>>>24&255,n.check=p(n.check,xe,4,0)),d=0,le=0,n.mode=R;case R:for(;16>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&(xe[0]=255&d,xe[1]=d>>>8&255,n.check=p(n.check,xe,2,0)),d=0,le=0,n.mode=L;case L:if(1024&n.flags){for(;16>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&(xe[0]=255&d,xe[1]=d>>>8&255,n.check=p(n.check,xe,2,0)),d=0,le=0}else n.head&&(n.head.extra=null);n.mode=F;case F:if(1024&n.flags&&((de=n.length)>l&&(de=l),de&&(n.head&&(_e=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),f.arraySet(n.head.extra,r,a,de,_e)),512&n.flags&&(n.check=p(n.check,r,de,a)),l-=de,a+=de,n.length-=de),n.length))break e;n.length=0,n.mode=M;case M:if(2048&n.flags){if(0===l)break e;de=0;do{_e=r[a+de++],n.head&&_e&&n.length<65536&&(n.head.name+=String.fromCharCode(_e))}while(_e&&l>de);if(512&n.flags&&(n.check=p(n.check,r,de,a)),l-=de,a+=de,_e)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=B;case B:if(4096&n.flags){if(0===l)break e;de=0;do{_e=r[a+de++],n.head&&_e&&n.length<65536&&(n.head.comment+=String.fromCharCode(_e))}while(_e&&l>de);if(512&n.flags&&(n.check=p(n.check,r,de,a)),l-=de,a+=de,_e)break e}else n.head&&(n.head.comment=null);n.mode=V;case V:if(512&n.flags){for(;16>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}if(d!==(65535&n.check)){e.msg="header crc mismatch",n.mode=ae;break}d=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=U;break;case $:for(;32>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}e.adler=n.check=i(d),d=0,le=0,n.mode=j;case j:if(0===n.havedict)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=d,n.bits=le,x;e.adler=n.check=1,n.mode=U;case U:if(t===w||t===S)break e;case z:if(n.last){d>>>=7&le,le-=7&le,n.mode=ie;break}for(;3>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}switch(n.last=1&d,le-=1,3&(d>>>=1)){case 0:n.mode=q;break;case 1:if(u(n),n.mode=X,t===S){d>>>=2,le-=2;break e}break;case 2:n.mode=W;break;case 3:e.msg="invalid block type",n.mode=ae}d>>>=2,le-=2;break;case q:for(d>>>=7&le,le-=7&le;32>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ae;break}if(n.length=65535&d,d=0,le=0,n.mode=H,t===S)break e;case H:n.mode=G;case G:if(de=n.length){if(de>l&&(de=l),de>c&&(de=c),0===de)break e;f.arraySet(o,r,a,de,s),l-=de,a+=de,c-=de,s+=de,n.length-=de;break}n.mode=U;break;case W:for(;14>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}if(n.nlen=257+(31&d),d>>>=5,le-=5,n.ndist=1+(31&d),d>>>=5,le-=5,n.ncode=4+(15&d),d>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ae;break}n.have=0,n.mode=Y;case Y:for(;n.have<n.ncode;){for(;3>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}n.lens[Te[n.have++]]=7&d,d>>>=3,le-=3}for(;n.have<19;)n.lens[Te[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Se={bits:n.lenbits},we=g(v,n.lens,0,19,n.lencode,0,n.work,Se),n.lenbits=Se.bits,we){e.msg="invalid code lengths set",n.mode=ae;break}n.have=0,n.mode=K;case K:for(;n.have<n.nlen+n.ndist;){for(;me=(Ce=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,ge=65535&Ce,!(le>=(pe=Ce>>>24));){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}if(16>ge)d>>>=pe,le-=pe,n.lens[n.have++]=ge;else{if(16===ge){for(Ee=pe+2;Ee>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}if(d>>>=pe,le-=pe,0===n.have){e.msg="invalid bit length repeat",n.mode=ae;break}_e=n.lens[n.have-1],de=3+(3&d),d>>>=2,le-=2}else if(17===ge){for(Ee=pe+3;Ee>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}le-=pe,_e=0,de=3+(7&(d>>>=pe)),d>>>=3,le-=3}else{for(Ee=pe+7;Ee>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}le-=pe,_e=0,de=11+(127&(d>>>=pe)),d>>>=7,le-=7}if(n.have+de>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ae;break}for(;de--;)n.lens[n.have++]=_e}}if(n.mode===ae)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=ae;break}if(n.lenbits=9,Se={bits:n.lenbits},we=g(y,n.lens,0,n.nlen,n.lencode,0,n.work,Se),n.lenbits=Se.bits,we){e.msg="invalid literal/lengths set",n.mode=ae;break}if(n.distbits=6,n.distcode=n.distdyn,Se={bits:n.distbits},we=g(b,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se),n.distbits=Se.bits,we){e.msg="invalid distances set",n.mode=ae;break}if(n.mode=X,t===S)break e;case X:n.mode=Z;case Z:if(l>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=d,n.bits=le,m(e,ce),s=e.next_out,o=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,d=n.hold,le=n.bits,n.mode===U&&(n.back=-1);break}for(n.back=0;me=(Ce=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,ge=65535&Ce,!(le>=(pe=Ce>>>24));){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}if(me&&0==(240&me)){for(ve=pe,ye=me,be=ge;me=(Ce=n.lencode[be+((d&(1<<ve+ye)-1)>>ve)])>>>16&255,ge=65535&Ce,!(le>=ve+(pe=Ce>>>24));){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}d>>>=ve,le-=ve,n.back+=ve}if(d>>>=pe,le-=pe,n.back+=pe,n.length=ge,0===me){n.mode=ne;break}if(32&me){n.back=-1,n.mode=U;break}if(64&me){e.msg="invalid literal/length code",n.mode=ae;break}n.extra=15&me,n.mode=Q;case Q:if(n.extra){for(Ee=n.extra;Ee>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=J;case J:for(;me=(Ce=n.distcode[d&(1<<n.distbits)-1])>>>16&255,ge=65535&Ce,!(le>=(pe=Ce>>>24));){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}if(0==(240&me)){for(ve=pe,ye=me,be=ge;me=(Ce=n.distcode[be+((d&(1<<ve+ye)-1)>>ve)])>>>16&255,ge=65535&Ce,!(le>=ve+(pe=Ce>>>24));){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}d>>>=ve,le-=ve,n.back+=ve}if(d>>>=pe,le-=pe,n.back+=pe,64&me){e.msg="invalid distance code",n.mode=ae;break}n.offset=ge,n.extra=15&me,n.mode=ee;case ee:if(n.extra){for(Ee=n.extra;Ee>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ae;break}n.mode=te;case te:if(0===c)break e;if(de=ce-c,n.offset>de){if((de=n.offset-de)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ae;break}de>n.wnext?(de-=n.wnext,fe=n.wsize-de):fe=n.wnext-de,de>n.length&&(de=n.length),he=n.window}else he=o,fe=s-n.offset,de=n.length;de>c&&(de=c),c-=de,n.length-=de;do{o[s++]=he[fe++]}while(--de);0===n.length&&(n.mode=Z);break;case ne:if(0===c)break e;o[s++]=n.length,c--,n.mode=Z;break;case ie:if(n.wrap){for(;32>le;){if(0===l)break e;l--,d|=r[a++]<<le,le+=8}if(ce-=c,e.total_out+=ce,n.total+=ce,ce&&(e.adler=n.check=n.flags?p(n.check,o,ce,s-ce):h(n.check,o,ce,s-ce)),ce=c,(n.flags?d:i(d))!==n.check){e.msg="incorrect data check",n.mode=ae;break}d=0,le=0}n.mode=re;case re:if(n.wrap&&n.flags){for(;32>le;){if(0===l)break e;l--,d+=r[a++]<<le,le+=8}if(d!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=ae;break}d=0,le=0}n.mode=oe;case oe:we=C;break e;case ae:we=I;break e;case se:return k;default:return T}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=d,n.bits=le,(n.wsize||ce!==e.avail_out&&n.mode<ae&&(n.mode<ie||t!==_))&&function(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new f.Buf8(o.wsize)),i>=o.wsize?(f.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),f.arraySet(o.window,t,n-i,r,o.wnext),(i-=r)?(f.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}(e,e.output,e.next_out,ce-e.avail_out)?(n.mode=se,k):(ue-=e.avail_in,ce-=e.avail_out,e.total_in+=ue,e.total_out+=ce,n.total+=ce,n.wrap&&ce&&(e.adler=n.check=n.flags?p(n.check,o,ce,e.next_out-ce):h(n.check,o,ce,e.next_out-ce)),e.data_type=n.bits+(n.last?64:0)+(n.mode===U?128:0)+(n.mode===X||n.mode===H?256:0),(0===ue&&0===ce||t===_)&&we===E&&(we=O),we)},n.inflateEnd=function(e){if(!e||!e.state)return T;var t=e.state;return t.window&&(t.window=null),e.state=null,E},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?T:(n.head=t,t.done=!1,E):T},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(e,t){"use strict";var n=e("../utils/common"),i=15,r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,l,u,c,d,f,h){var p,m,g,v,y,b,_,w,S,E=h.bits,C=0,x=0,T=0,I=0,k=0,O=0,A=0,D=0,P=0,N=0,R=null,L=0,F=new n.Buf16(16),M=new n.Buf16(16),B=null,V=0;for(C=0;i>=C;C++)F[C]=0;for(x=0;u>x;x++)F[t[l+x]]++;for(k=E,I=i;I>=1&&0===F[I];I--);if(k>I&&(k=I),0===I)return c[d++]=20971520,c[d++]=20971520,h.bits=1,0;for(T=1;I>T&&0===F[T];T++);for(T>k&&(k=T),D=1,C=1;i>=C;C++)if(D<<=1,0>(D-=F[C]))return-1;if(D>0&&(0===e||1!==I))return-1;for(M[1]=0,C=1;i>C;C++)M[C+1]=M[C]+F[C];for(x=0;u>x;x++)0!==t[l+x]&&(f[M[t[l+x]]++]=x);if(0===e?(R=B=f,b=19):1===e?(R=r,L-=257,B=o,V-=257,b=256):(R=a,B=s,b=-1),N=0,x=0,C=T,y=d,O=k,A=0,g=-1,v=(P=1<<k)-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){_=C-A,f[x]<b?(w=0,S=f[x]):f[x]>b?(w=B[V+f[x]],S=R[L+f[x]]):(w=96,S=0),p=1<<C-A,T=m=1<<O;do{c[y+(N>>A)+(m-=p)]=_<<24|w<<16|S|0}while(0!==m);for(p=1<<C-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,x++,0==--F[C]){if(C===I)break;C=t[l+f[x]]}if(C>k&&(N&v)!==g){for(0===A&&(A=k),y+=T,D=1<<(O=C-A);I>O+A&&!(0>=(D-=F[O+A]));)O++,D<<=1;if(P+=1<<O,1===e&&P>852||2===e&&P>592)return 1;c[g=N&v]=k<<24|O<<16|y-d|0}}return 0!==N&&(c[y+N]=C-A<<24|64<<16|0),h.bits=k,0}},{"../utils/common":27}],37:[function(e,t){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e){return 256>e?G[e]:G[256+(e>>>7)]}function o(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function a(e,t,n){e.bi_valid>R-n?(e.bi_buf|=t<<e.bi_valid&65535,o(e,e.bi_buf),e.bi_buf=t>>R-e.bi_valid,e.bi_valid+=n-R):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function s(e,t,n){a(e,n[2*t],n[2*t+1])}function l(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function u(e,t,n){var i,r,o=new Array(N+1),a=0;for(i=1;N>=i;i++)o[i]=a=a+n[i-1]<<1;for(r=0;t>=r;r++){var s=e[2*r+1];0!==s&&(e[2*r]=l(o[s]++,s))}}function c(e){var t;for(t=0;O>t;t++)e.dyn_ltree[2*t]=0;for(t=0;A>t;t++)e.dyn_dtree[2*t]=0;for(t=0;D>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*F]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function d(e){e.bi_valid>8?o(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function f(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function h(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&f(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!f(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function p(e,t,n){var i,o,l,u,c=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],o=e.pending_buf[e.l_buf+c],c++,0===i?s(e,o,t):(s(e,(l=W[o])+k+1,t),0!==(u=$[l])&&a(e,o-=Y[l],u),s(e,l=r(--i),n),0!==(u=j[l])&&a(e,i-=K[l],u))}while(c<e.last_lit);s(e,F,t)}function m(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=P,n=0;l>n;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=2>c?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)h(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],h(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,h(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;N>=o;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;P>n;n++)(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)>p&&(o=p,m++),l[2*i+1]=o,i>u||(e.bl_count[o]++,a=0,i>=h&&(a=f[i-h]),s=l[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(c[2*i+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>u||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),u(o,c,e.bl_count)}function g(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,i=0;n>=i;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(u>s?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*M]++):10>=s?e.bl_tree[2*B]++:e.bl_tree[2*V]++,s=0,o=r,0===a?(l=138,u=3):r===a?(l=6,u=3):(l=7,u=4))}function v(e,t,n){var i,r,o=-1,l=t[1],u=0,c=7,d=4;for(0===l&&(c=138,d=3),i=0;n>=i;i++)if(r=l,l=t[2*(i+1)+1],!(++u<c&&r===l)){if(d>u)do{s(e,r,e.bl_tree)}while(0!=--u);else 0!==r?(r!==o&&(s(e,r,e.bl_tree),u--),s(e,M,e.bl_tree),a(e,u-3,2)):10>=u?(s(e,B,e.bl_tree),a(e,u-3,3)):(s(e,V,e.bl_tree),a(e,u-11,7));u=0,o=r,0===l?(c=138,d=3):r===l?(c=6,d=3):(c=7,d=4)}}function y(e,t,n,i){a(e,(C<<1)+(i?1:0),3),function(e,t,n,i){d(e),i&&(o(e,n),o(e,~n)),b.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}var b=e("../utils/common"),_=4,w=0,S=1,E=2,C=0,x=1,T=2,I=29,k=256,O=k+1+I,A=30,D=19,P=2*O+1,N=15,R=16,L=7,F=256,M=16,B=17,V=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(O+2));i(q);var H=new Array(2*A);i(H);var G=new Array(512);i(G);var W=new Array(256);i(W);var Y=new Array(I);i(Y);var K=new Array(A);i(K);var X,Z,Q,J=function(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length},ee=function(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t},te=!1;n._tr_init=function(e){te||(function(){var e,t,n,i,r,o=new Array(N+1);for(n=0,i=0;I-1>i;i++)for(Y[i]=n,e=0;e<1<<$[i];e++)W[n++]=i;for(W[n-1]=i,r=0,i=0;16>i;i++)for(K[i]=r,e=0;e<1<<j[i];e++)G[r++]=i;for(r>>=7;A>i;i++)for(K[i]=r<<7,e=0;e<1<<j[i]-7;e++)G[256+r++]=i;for(t=0;N>=t;t++)o[t]=0;for(e=0;143>=e;)q[2*e+1]=8,e++,o[8]++;for(;255>=e;)q[2*e+1]=9,e++,o[9]++;for(;279>=e;)q[2*e+1]=7,e++,o[7]++;for(;287>=e;)q[2*e+1]=8,e++,o[8]++;for(u(q,O+1,o),e=0;A>e;e++)H[2*e+1]=5,H[2*e]=l(e,5);X=new J(q,$,k+1,O,N),Z=new J(H,j,0,A,N),Q=new J(new Array(0),U,0,D,L)}(),te=!0),e.l_desc=new ee(e.dyn_ltree,X),e.d_desc=new ee(e.dyn_dtree,Z),e.bl_desc=new ee(e.bl_tree,Q),e.bi_buf=0,e.bi_valid=0,c(e)},n._tr_stored_block=y,n._tr_flush_block=function(e,t,n,i){var r,o,s=0;e.level>0?(e.strm.data_type===E&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return w;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return S;for(t=32;k>t;t++)if(0!==e.dyn_ltree[2*t])return S;return w}(e)),m(e,e.l_desc),m(e,e.d_desc),s=function(e){var t;for(g(e,e.dyn_ltree,e.l_desc.max_code),g(e,e.dyn_dtree,e.d_desc.max_code),m(e,e.bl_desc),t=D-1;t>=3&&0===e.bl_tree[2*z[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(r=e.opt_len+3+7>>>3)>=(o=e.static_len+3+7>>>3)&&(r=o)):r=o=n+5,r>=n+4&&-1!==t?y(e,t,n,i):e.strategy===_||o===r?(a(e,(x<<1)+(i?1:0),3),p(e,q,H)):(a(e,(T<<1)+(i?1:0),3),function(e,t,n,i){var r;for(a(e,t-257,5),a(e,n-1,5),a(e,i-4,4),r=0;i>r;r++)a(e,e.bl_tree[2*z[r]+1],3);v(e,e.dyn_ltree,t-1),v(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),p(e,e.dyn_ltree,e.dyn_dtree)),c(e),i&&d(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(W[n]+k+1)]++,e.dyn_dtree[2*r(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){a(e,x<<1,3),s(e,F,q),function(e){16===e.bi_valid?(o(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":27}],39:[function(e,t){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[9])(9)})),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n,i){function r(t,n,i){e.fn.animate?t.stop().fadeIn(n,i):(t.css("display","block"),i&&i.call(t))}function o(t,n,i){e.fn.animate?t.stop().fadeOut(n,i):(t.css("display","none"),i&&i.call(t))}function a(e,t){return e=new l.Api(e),t=t||(e.init().buttons||l.defaults.buttons),new f(e,t).container()}var s,l=e.fn.dataTable,u=0,c=0,d=l.ext.buttons,f=function(t,n){if(!(this instanceof f))return function(e){return new f(e,t).container()};void 0===n&&(n={}),!0===n&&(n={}),Array.isArray(n)&&(n={buttons:n}),this.c=e.extend(!0,{},f.defaults,n),n.buttons&&(this.c.buttons=n.buttons),this.s={dt:new l.Api(t),buttons:[],listenKeys:"",namespace:"dtb"+u++},this.dom={container:e("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};e.extend(f.prototype,{action:function(e,t){return e=this._nodeToButton(e),t===i?e.conf.action:(e.conf.action=t,this)},active:function(t,n){var r=this._nodeToButton(t);return t=this.c.dom.button.active,r=e(r.node),n===i?r.hasClass(t):(r.toggleClass(t,n===i||n),this)},add:function(e,t){var n=this.s.buttons;if("string"==typeof t){t=t.split("-");var r=this.s;n=0;for(var o=t.length-1;n<o;n++)r=r.buttons[1*t[n]];n=r.buttons,t=1*t[t.length-1]}return this._expandButton(n,e,r!==i,t),this._draw(),this},container:function(){return this.dom.container},disable:function(t){return t=this._nodeToButton(t),e(t.node).addClass(this.c.dom.button.disabled).attr("disabled",!0),this},destroy:function(){e("body").off("keyup."+this.s.namespace);var t,n=this.s.buttons.slice(),i=0;for(t=n.length;i<t;i++)this.remove(n[i].node);for(this.dom.container.remove(),i=0,t=(n=this.s.dt.settings()[0]).length;i<t;i++)if(n.inst===this){n.splice(i,1);break}return this},enable:function(t,n){return!1===n?this.disable(t):(t=this._nodeToButton(t),e(t.node).removeClass(this.c.dom.button.disabled).removeAttr("disabled"),this)},name:function(){return this.c.name},node:function(t){return t?(t=this._nodeToButton(t),e(t.node)):this.dom.container},processing:function(t,n){var r=this.s.dt,o=this._nodeToButton(t);return n===i?e(o.node).hasClass("processing"):(e(o.node).toggleClass("processing",n),e(r.table().node()).triggerHandler("buttons-processing.dt",[n,r.button(t),r,e(t),o.conf]),this)},remove:function(t){var n=this._nodeToButton(t),i=this._nodeToHost(t),r=this.s.dt;if(n.buttons.length)for(var o=n.buttons.length-1;0<=o;o--)this.remove(n.buttons[o].node);return n.conf.destroy&&n.conf.destroy.call(r.button(t),r,e(t),n.conf),this._removeKey(n.conf),e(n.node).remove(),t=e.inArray(n,i),i.splice(t,1),this},text:function(t,n){var r=this._nodeToButton(t);t=this.c.dom.collection.buttonLiner,t=r.inCollection&&t&&t.tag?t.tag:this.c.dom.buttonLiner.tag;var o=this.s.dt,a=e(r.node),s=function(e){return"function"==typeof e?e(o,a,r.conf):e};return n===i?s(r.conf.text):(r.conf.text=n,t?a.children(t).html(s(n)):a.html(s(n)),this)},_constructor:function(){var t=this,i=this.s.dt,r=i.settings()[0],o=this.c.buttons;r._buttons||(r._buttons=[]),r._buttons.push({inst:this,name:this.c.name});for(var a=0,s=o.length;a<s;a++)this.add(o[a]);i.on("destroy",(function(e,n){n===r&&t.destroy()})),e("body").on("keyup."+this.s.namespace,(function(e){if(!n.activeElement||n.activeElement===n.body){var i=String.fromCharCode(e.keyCode).toLowerCase();-1!==t.s.listenKeys.toLowerCase().indexOf(i)&&t._keypress(i,e)}}))},_addKey:function(t){t.key&&(this.s.listenKeys+=e.isPlainObject(t.key)?t.key.key:t.key)},_draw:function(e,t){e||(e=this.dom.container,t=this.s.buttons),e.children().detach();for(var n=0,i=t.length;n<i;n++)e.append(t[n].inserter),e.append(" "),t[n].buttons&&t[n].buttons.length&&this._draw(t[n].collection,t[n].buttons)},_expandButton:function(t,n,r,o){for(var a=this.s.dt,s=0,l=(n=Array.isArray(n)?n:[n]).length;s<l;s++){var u=this._resolveExtends(n[s]);if(u)if(Array.isArray(u))this._expandButton(t,u,r,o);else{var c=this._buildButton(u,r);c&&(o!==i&&null!==o?(t.splice(o,0,c),o++):t.push(c),c.conf.buttons&&(c.collection=e("<"+this.c.dom.collection.tag+"/>"),c.conf._collection=c.collection,this._expandButton(c.buttons,c.conf.buttons,!0,o)),u.init&&u.init.call(a.button(c.node),a,e(c.node),u))}}},_buildButton:function(t,n){var r=this.c.dom.button,o=this.c.dom.buttonLiner,a=this.c.dom.collection,s=this.s.dt,l=function(e){return"function"==typeof e?e(s,f,t):e};if(n&&a.button&&(r=a.button),n&&a.buttonLiner&&(o=a.buttonLiner),t.available&&!t.available(s,t))return!1;var u=function(t,n,i,r){r.action.call(n.button(i),t,n,i,r),e(n.table().node()).triggerHandler("buttons-action.dt",[n.button(i),n,i,r])};a=t.tag||r.tag;var d=t.clickBlurs===i||t.clickBlurs,f=e("<"+a+"/>").addClass(r.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",(function(e){e.preventDefault(),!f.hasClass(r.disabled)&&t.action&&u(e,s,f,t),d&&f.trigger("blur")})).on("keyup.dtb",(function(e){13===e.keyCode&&!f.hasClass(r.disabled)&&t.action&&u(e,s,f,t)}));return"a"===a.toLowerCase()&&f.attr("href","#"),"button"===a.toLowerCase()&&f.attr("type","button"),o.tag?(a=e("<"+o.tag+"/>").html(l(t.text)).addClass(o.className),"a"===o.tag.toLowerCase()&&a.attr("href","#"),f.append(a)):f.html(l(t.text)),!1===t.enabled&&f.addClass(r.disabled),t.className&&f.addClass(t.className),t.titleAttr&&f.attr("title",l(t.titleAttr)),t.attr&&f.attr(t.attr),t.namespace||(t.namespace=".dt-button-"+c++),o=(o=this.c.dom.buttonContainer)&&o.tag?e("<"+o.tag+"/>").addClass(o.className).append(f):f,this._addKey(t),this.c.buttonCreated&&(o=this.c.buttonCreated(t,o)),{conf:t,node:f.get(0),inserter:o,buttons:[],inCollection:n,collection:null}},_nodeToButton:function(e,t){t||(t=this.s.buttons);for(var n=0,i=t.length;n<i;n++){if(t[n].node===e)return t[n];if(t[n].buttons.length){var r=this._nodeToButton(e,t[n].buttons);if(r)return r}}},_nodeToHost:function(e,t){t||(t=this.s.buttons);for(var n=0,i=t.length;n<i;n++){if(t[n].node===e)return t;if(t[n].buttons.length){var r=this._nodeToHost(e,t[n].buttons);if(r)return r}}},_keypress:function(t,n){if(!n._buttonsHandled){var i=function(r){for(var o=0,a=r.length;o<a;o++){var s=r[o].conf,l=r[o].node;s.key&&(s.key===t?(n._buttonsHandled=!0,e(l).click()):!e.isPlainObject(s.key)||s.key.key!==t||s.key.shiftKey&&!n.shiftKey||s.key.altKey&&!n.altKey||s.key.ctrlKey&&!n.ctrlKey||s.key.metaKey&&!n.metaKey||(n._buttonsHandled=!0,e(l).click())),r[o].buttons.length&&i(r[o].buttons)}};i(this.s.buttons)}},_removeKey:function(t){if(t.key){var n=e.isPlainObject(t.key)?t.key.key:t.key;t=this.s.listenKeys.split(""),n=e.inArray(n,t),t.splice(n,1),this.s.listenKeys=t.join("")}},_resolveExtends:function(t){var n,r=this.s.dt,o=function(n){for(var o=0;!e.isPlainObject(n)&&!Array.isArray(n);){if(n===i)return;if("function"==typeof n){if(!(n=n(r,t)))return!1}else if("string"==typeof n){if(!d[n])throw"Unknown button type: "+n;n=d[n]}if(30<++o)throw"Buttons: Too many iterations"}return Array.isArray(n)?n:e.extend({},n)};for(t=o(t);t&&t.extend;){if(!d[t.extend])throw"Cannot extend unknown button type: "+t.extend;var a=o(d[t.extend]);if(Array.isArray(a))return a;if(!a)return!1;var s=a.className;t=e.extend({},a,t),s&&t.className!==s&&(t.className=s+" "+t.className);var l=t.postfixButtons;if(l){for(t.buttons||(t.buttons=[]),s=0,n=l.length;s<n;s++)t.buttons.push(l[s]);t.postfixButtons=null}if(l=t.prefixButtons){for(t.buttons||(t.buttons=[]),s=0,n=l.length;s<n;s++)t.buttons.splice(s,0,l[s]);t.prefixButtons=null}t.extend=a.extend}return t},_popover:function(i,a,s){var l=this.c,u=e.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",contentClassName:l.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,rightAlignClassName:"dt-button-right",tag:l.dom.collection.tag},s),c=a.node(),d=function(){o(e(".dt-button-collection"),u.fade,(function(){e(this).detach()})),e(a.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),e("div.dt-button-background").off("click.dtb-collection"),f.background(!1,u.backgroundClassName,u.fade,c),e("body").off(".dtb-collection"),a.off("buttons-action.b-internal")};!1===i&&d(),(s=e(a.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes())).length&&(c=s.eq(0),d()),s=e("<div/>").addClass("dt-button-collection").addClass(u.collectionLayout).css("display","none"),i=e(i).addClass(u.contentClassName).attr("role","menu").appendTo(s),c.attr("aria-expanded","true"),c.parents("body")[0]!==n.body&&(c=n.body.lastChild),u.collectionTitle&&s.prepend('<div class="dt-button-collection-title">'+u.collectionTitle+"</div>"),r(s.insertAfter(c),u.fade),l=e(a.table().container());var h=s.css("position");if("dt-container"===u.align&&(c=c.parent(),s.css("width",l.width())),"absolute"===h&&(s.hasClass(u.rightAlignClassName)||s.hasClass(u.leftAlignClassName)||"dt-container"===u.align)){var p=c.position();s.css({top:p.top+c.outerHeight(),left:p.left});var m=s.outerHeight(),g=l.offset().top+l.height(),v=p.top+c.outerHeight()+m;g=v-g,v=p.top-m;var y=l.offset().top,b=p.top-m-5;(g>y-v||u.dropup)&&-b<y&&s.css("top",b),p=l.offset().left,l=p+(l=l.width()),h=s.offset().left;var _=s.width();_=h+_;var w=c.offset().left,S=c.outerWidth();S=w+S,w=0,s.hasClass(u.rightAlignClassName)?p>h+(w=S-_)&&(w=(h=p-(h+w))>(l-=_+w)?w+l:w+h):l<_+(w=p-h)&&(w=(h=p-(h+w))>(l-=_+w)?w+l:w+h),s.css("left",s.position().left+w)}else"absolute"===h?(p=c.position(),s.css({top:p.top+c.outerHeight(),left:p.left}),m=s.outerHeight(),h=c.offset().top,w=0,S=(w=c.offset().left)+(S=c.outerWidth()),_=(h=s.offset().left)+(_=i.width()),b=p.top-m-5,g=l.offset().top+l.height(),g=(v=p.top+c.outerHeight()+m)-g,v=p.top-m,(g>(y=l.offset().top)-v||u.dropup)&&-b<y&&s.css("top",b),w="button-right"===u.align?S-_:w-h,s.css("left",s.position().left+w)):((h=s.height()/2)>e(t).height()/2&&(h=e(t).height()/2),s.css("marginTop",-1*h));u.background&&f.background(!0,u.backgroundClassName,u.fade,c),e("div.dt-button-background").on("click.dtb-collection",(function(){})),e("body").on("click.dtb-collection",(function(t){var n=e.fn.addBack?"addBack":"andSelf",r=e(t.target).parent()[0];(!e(t.target).parents()[n]().filter(i).length&&!e(r).hasClass("dt-buttons")||e(t.target).hasClass("dt-button-background"))&&d()})).on("keyup.dtb-collection",(function(e){27===e.keyCode&&d()})),u.autoClose&&setTimeout((function(){a.on("buttons-action.b-internal",(function(e,t,n,i){i[0]!==c[0]&&d()}))}),0),e(s).trigger("buttons-popover.dt")}}),f.background=function(t,a,s,l){s===i&&(s=400),l||(l=n.body),t?r(e("<div/>").addClass(a).css("display","none").insertAfter(l),s):o(e("div."+a),s,(function(){e(this).removeClass(a).remove()}))},f.instanceSelector=function(t,n){if(t===i||null===t)return e.map(n,(function(e){return e.inst}));var r=[],o=e.map(n,(function(e){return e.name})),a=function(t){if(Array.isArray(t))for(var i=0,s=t.length;i<s;i++)a(t[i]);else"string"==typeof t?-1!==t.indexOf(",")?a(t.split(",")):-1!==(t=e.inArray(t.trim(),o))&&r.push(n[t].inst):"number"==typeof t&&r.push(n[t].inst)};return a(t),r},f.buttonSelector=function(t,n){for(var r=[],o=function(e,t,n){for(var r,a,s=0,l=t.length;s<l;s++)(r=t[s])&&(a=n!==i?n+s:s+"",e.push({node:r.node,name:r.conf.name,idx:a}),r.buttons&&o(e,r.buttons,a+"-"))},a=function(t,n){var s,l=[];o(l,n.s.buttons);var u=e.map(l,(function(e){return e.node}));if(Array.isArray(t)||t instanceof e)for(u=0,s=t.length;u<s;u++)a(t[u],n);else if(null===t||t===i||"*"===t)for(u=0,s=l.length;u<s;u++)r.push({inst:n,node:l[u].node});else if("number"==typeof t)r.push({inst:n,node:n.s.buttons[t].node});else if("string"==typeof t)if(-1!==t.indexOf(","))for(u=0,s=(l=t.split(",")).length;u<s;u++)a(l[u].trim(),n);else if(t.match(/^\d+(\-\d+)*$/))u=e.map(l,(function(e){return e.idx})),r.push({inst:n,node:l[e.inArray(t,u)].node});else if(-1!==t.indexOf(":name"))for(t=t.replace(":name",""),u=0,s=l.length;u<s;u++)l[u].name===t&&r.push({inst:n,node:l[u].node});else e(u).filter(t).each((function(){r.push({inst:n,node:this})}));else"object"==typeof t&&t.nodeName&&(-1!==(l=e.inArray(t,u))&&r.push({inst:n,node:u[l]}))},s=0,l=t.length;s<l;s++)a(n,t[s]);return r},f.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"ActiveXObject"in t?"a":"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},f.version="1.6.5",e.extend(d,{collection:{text:function(e){return e.i18n("buttons.collection","Collection")},className:"buttons-collection",init:function(e,t,n){t.attr("aria-expanded",!1)},action:function(e,t,n,i){e.stopPropagation(),i._collection.parents("body").length?this.popover(!1,i):this.popover(i._collection,i)},attr:{"aria-haspopup":!0}},copy:function(e,t){return d.copyHtml5?"copyHtml5":d.copyFlash&&d.copyFlash.available(e,t)?"copyFlash":void 0},csv:function(e,t){return d.csvHtml5&&d.csvHtml5.available(e,t)?"csvHtml5":d.csvFlash&&d.csvFlash.available(e,t)?"csvFlash":void 0},excel:function(e,t){return d.excelHtml5&&d.excelHtml5.available(e,t)?"excelHtml5":d.excelFlash&&d.excelFlash.available(e,t)?"excelFlash":void 0},pdf:function(e,t){return d.pdfHtml5&&d.pdfHtml5.available(e,t)?"pdfHtml5":d.pdfFlash&&d.pdfFlash.available(e,t)?"pdfFlash":void 0},pageLength:function(t){t=t.settings()[0].aLengthMenu;var n=Array.isArray(t[0])?t[0]:t,i=Array.isArray(t[0])?t[1]:t;return{extend:"collection",text:function(e){return e.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},e.page.len())},className:"buttons-page-length",autoClose:!0,buttons:e.map(n,(function(e,t){return{text:i[t],className:"button-page-length",action:function(t,n){n.page.len(e).draw()},init:function(t,n,i){var r=this;n=function(){r.active(t.page.len()===e)},t.on("length.dt"+i.namespace,n),n()},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}})),init:function(e,t,n){var i=this;e.on("length.dt"+n.namespace,(function(){i.text(n.text)}))},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}}}),l.Api.register("buttons()",(function(e,t){t===i&&(t=e,e=i),this.selector.buttonGroup=e;var n=this.iterator(!0,"table",(function(n){if(n._buttons)return f.buttonSelector(f.instanceSelector(e,n._buttons),t)}),!0);return n._groupSelector=e,n})),l.Api.register("button()",(function(e,t){return 1<(e=this.buttons(e,t)).length&&e.splice(1,e.length),e})),l.Api.registerPlural("buttons().active()","button().active()",(function(e){return e===i?this.map((function(e){return e.inst.active(e.node)})):this.each((function(t){t.inst.active(t.node,e)}))})),l.Api.registerPlural("buttons().action()","button().action()",(function(e){return e===i?this.map((function(e){return e.inst.action(e.node)})):this.each((function(t){t.inst.action(t.node,e)}))})),l.Api.register(["buttons().enable()","button().enable()"],(function(e){return this.each((function(t){t.inst.enable(t.node,e)}))})),l.Api.register(["buttons().disable()","button().disable()"],(function(){return this.each((function(e){e.inst.disable(e.node)}))})),l.Api.registerPlural("buttons().nodes()","button().node()",(function(){var t=e();return e(this.each((function(e){t=t.add(e.inst.node(e.node))}))),t})),l.Api.registerPlural("buttons().processing()","button().processing()",(function(e){return e===i?this.map((function(e){return e.inst.processing(e.node)})):this.each((function(t){t.inst.processing(t.node,e)}))})),l.Api.registerPlural("buttons().text()","button().text()",(function(e){return e===i?this.map((function(e){return e.inst.text(e.node)})):this.each((function(t){t.inst.text(t.node,e)}))})),l.Api.registerPlural("buttons().trigger()","button().trigger()",(function(){return this.each((function(e){e.inst.node(e.node).trigger("click")}))})),l.Api.register("button().popover()",(function(e,t){return this.map((function(n){return n.inst._popover(e,this.button(this[0].node),t)}))})),l.Api.register("buttons().containers()",(function(){var t=e(),n=this._groupSelector;return this.iterator(!0,"table",(function(e){if(e._buttons)for(var i=0,r=(e=f.instanceSelector(n,e._buttons)).length;i<r;i++)t=t.add(e[i].container())})),t})),l.Api.register("buttons().container()",(function(){return this.containers().eq(0)})),l.Api.register("button().add()",(function(e,t){var n=this.context;return n.length&&((n=f.instanceSelector(this._groupSelector,n[0]._buttons)).length&&n[0].add(t,e)),this.button(this._groupSelector,e)})),l.Api.register("buttons().destroy()",(function(){return this.pluck("inst").unique().each((function(e){e.destroy()})),this})),l.Api.registerPlural("buttons().remove()","buttons().remove()",(function(){return this.each((function(e){e.inst.remove(e.node)})),this})),l.Api.register("buttons.info()",(function(t,n,a){var l=this;return!1===t?(this.off("destroy.btn-info"),o(e("#datatables_buttons_info"),400,(function(){e(this).remove()})),clearTimeout(s),s=null,this):(s&&clearTimeout(s),e("#datatables_buttons_info").length&&e("#datatables_buttons_info").remove(),t=t?"<h2>"+t+"</h2>":"",r(e('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t).append(e("<div/>")["string"==typeof n?"html":"append"](n)).css("display","none").appendTo("body")),a!==i&&0!==a&&(s=setTimeout((function(){l.buttons.info(!1)}),a)),this.on("destroy.btn-info",(function(){l.buttons.info(!1)})),this)})),l.Api.register("buttons.exportData()",(function(e){if(this.context.length)return g(new l.Api(this.context[0]),e)})),l.Api.register("buttons.exportInfo()",(function(t){t||(t={});var n=t,r="*"===n.filename&&"*"!==n.title&&n.title!==i&&null!==n.title&&""!==n.title?n.title:n.filename;return"function"==typeof r&&(r=r()),r===i||null===r?r=null:(-1!==r.indexOf("*")&&(r=r.replace("*",e("head > title").text()).trim()),r=r.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),(n=h(n.extension))||(n=""),r+=n),{filename:r,title:n=null===(n=h(t.title))?null:-1!==n.indexOf("*")?n.replace("*",e("head > title").text()||"Exported data"):n,messageTop:p(this,t.message||t.messageTop,"top"),messageBottom:p(this,t.messageBottom,"bottom")}}));var h=function(e){return null===e||e===i?null:"function"==typeof e?e():e},p=function(t,n,i){return null===(n=h(n))?null:(t=e("caption",t.table().container()).eq(0),"*"===n?t.css("caption-side")!==i?null:t.length?t.text():"":n)},m=e("<textarea/>")[0],g=function(t,n){var r=e.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(e){return o(e)},footer:function(e){return o(e)},body:function(e){return o(e)}},customizeData:null},n),o=function(e){return"string"!=typeof e||(e=(e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<!\-\-.*?\-\->/g,""),r.stripHtml&&(e=e.replace(/<([^>'"]*('[^']*'|"[^"]*")?)*>/g,"")),r.trim&&(e=e.replace(/^\s+|\s+$/g,"")),r.stripNewlines&&(e=e.replace(/\n/g," ")),r.decodeEntities&&(m.innerHTML=e,e=m.value)),e};n=t.columns(r.columns).indexes().map((function(e){var n=t.column(e).header();return r.format.header(n.innerHTML,e,n)})).toArray();var a=t.table().footer()?t.columns(r.columns).indexes().map((function(e){var n=t.column(e).footer();return r.format.footer(n?n.innerHTML:"",e,n)})).toArray():null,s=e.extend({},r.modifier);t.select&&"function"==typeof t.select.info&&s.selected===i&&t.rows(r.rows,e.extend({selected:!0},s)).any()&&e.extend(s,{selected:!0}),s=t.rows(r.rows,s).indexes().toArray();var l=t.cells(s,r.columns);s=l.render(r.orthogonal).toArray(),l=l.nodes().toArray();for(var u=n.length,c=[],d=0,f=0,h=0<u?s.length/u:0;f<h;f++){for(var p=[u],g=0;g<u;g++)p[g]=r.format.body(s[d],f,g,l[d]),d++;c[f]=p}return n={header:n,footer:a,body:c},r.customizeData&&r.customizeData(n),n};return e.fn.dataTable.Buttons=f,e.fn.DataTable.Buttons=f,e(n).on("init.dt plugin-init.dt",(function(e,t){"dt"===e.namespace&&(e=t.oInit.buttons||l.defaults.buttons)&&!t._buttons&&new f(t,e).container()})),l.ext.feature.push({fnInit:a,cFeature:"B"}),l.ext.features&&l.ext.features.register("buttons",a),f})),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net-dt","datatables.net-buttons"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net-dt")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n,i){return e.fn.dataTable})),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n,i){return t=e.fn.dataTable,e.extend(t.ext.buttons,{colvis:function(e,t){return{extend:"collection",text:function(e){return e.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",buttons:[{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}]}},columnsToggle:function(e,t){return e.columns(t.columns).indexes().map((function(e){return{extend:"columnToggle",columns:e,columnText:t.columnText}})).toArray()},columnToggle:function(e,t){return{extend:"columnVisibility",columns:t.columns,columnText:t.columnText}},columnsVisibility:function(e,t){return e.columns(t.columns).indexes().map((function(e){return{extend:"columnVisibility",columns:e,visibility:t.visibility,columnText:t.columnText}})).toArray()},columnVisibility:{columns:i,text:function(e,t,n){return n._columnText(e,n)},className:"buttons-columnVisibility",action:function(e,t,n,r){e=t.columns(r.columns),t=e.visible(),e.visible(r.visibility!==i?r.visibility:!(t.length&&t[0]))},init:function(e,t,n){var i=this;t.attr("data-cv-idx",n.columns),e.on("column-visibility.dt"+n.namespace,(function(t,r){r.bDestroying||r.nTable!=e.settings()[0].nTable||i.active(e.column(n.columns).visible())})).on("column-reorder.dt"+n.namespace,(function(t,r,o){1===e.columns(n.columns).count()&&(i.text(n._columnText(e,n)),i.active(e.column(n.columns).visible()))})),this.active(e.column(n.columns).visible())},destroy:function(e,t,n){e.off("column-visibility.dt"+n.namespace).off("column-reorder.dt"+n.namespace)},_columnText:function(e,t){var n=e.column(t.columns).index(),i=e.settings()[0].aoColumns[n].sTitle;return i||(i=e.column(n).header().innerHTML),i=i.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<!\-\-.*?\-\->/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),t.columnText?t.columnText(e,n,i):i}},colvisRestore:{className:"buttons-colvisRestore",text:function(e){return e.i18n("buttons.colvisRestore","Restore visibility")},init:function(e,t,n){n._visOriginal=e.columns().indexes().map((function(t){return e.column(t).visible()})).toArray()},action:function(e,t,n,i){t.columns().every((function(e){e=t.colReorder&&t.colReorder.transpose?t.colReorder.transpose(e,"toOriginal"):e,this.visible(i._visOriginal[e])}))}},colvisGroup:{className:"buttons-colvisGroup",action:function(e,t,n,i){t.columns(i.show).visible(!0,!1),t.columns(i.hide).visible(!1,!1),t.columns.adjust()},show:[],hide:[]}}),t.Buttons})),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n,i){function r(e){for(var t="";0<=e;)t=String.fromCharCode(e%26+65)+t,e=Math.floor(e/26)-1;return t}function o(t,n,r){var o=t.createElement(n);return r&&(r.attr&&e(o).attr(r.attr),r.children&&e.each(r.children,(function(e,t){o.appendChild(t)})),null!==r.text&&r.text!==i&&o.appendChild(t.createTextNode(r.text))),o}function a(e,t){var n=e.header[t].length;e.footer&&e.footer[t].length>n&&(n=e.footer[t].length);for(var r=0,o=e.body.length;r<o;r++){var a=e.body[r][t];if(-1!==(a=null!==a&&a!==i?a.toString():"").indexOf("\n")?((a=a.split("\n")).sort((function(e,t){return t.length-e.length})),a=a[0].length):a=a.length,a>n&&(n=a),40<n)return 52}return 6<(n*=1.3)?n:6}function s(t){g===i&&(g=-1===m.serializeToString(e.parseXML(v["xl/worksheets/sheet1.xml"])).indexOf("xmlns:r")),e.each(t,(function(n,i){if(e.isPlainObject(i))s(i);else{if(g){var r,o=i.childNodes[0],a=[];for(r=o.attributes.length-1;0<=r;r--){var l=o.attributes[r].nodeName,u=o.attributes[r].nodeValue;-1!==l.indexOf(":")&&(a.push({name:l,value:u}),o.removeAttribute(l))}for(r=0,l=a.length;r<l;r++)(u=i.createAttribute(a[r].name.replace(":","_dt_b_namespace_token_"))).value=a[r].value,o.setAttributeNode(u)}i=m.serializeToString(i),g&&(-1===i.indexOf("<?xml")&&(i='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+i),i=i.replace(/_dt_b_namespace_token_/g,":")),i=i.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),t[n]=i}}))}var l=e.fn.dataTable,u={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(e){return"string"==typeof e&&(e=n.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){this.className=this.className.replace(new RegExp("\\s*"+e+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,n){(e=this.clients[e])&&e.receiveEvent(t,n)},log:function(e){console.log("Flash: "+e)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e){var t={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};for(""!==e.style.width&&(t.width=e.style.width.replace("px","")),""!==e.style.height&&(t.height=e.style.height.replace("px",""));e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},Client:function(e){this.handlers={},this.id=u.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,u.register(this.id,this),e&&this.glue(e)}};u.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,sheetName:"",glue:function(e,t){this.domElement=u.$(e),e=99,this.domElement.style.zIndex&&(e=parseInt(this.domElement.style.zIndex,10)+1);var i=u.getDOMObjectPosition(this.domElement);this.div=n.createElement("div");var r=this.div.style;r.position="absolute",r.left="0px",r.top="0px",r.width=i.width+"px",r.height=i.height+"px",r.zIndex=e,void 0!==t&&""!==t&&(this.div.title=t),0!==i.width&&0!==i.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(i.width,i.height).replace(/&/g,"&amp;"))},positionElement:function(){var e=u.getDOMObjectPosition(this.domElement),t=this.div.style;t.position="absolute",t.width=e.width+"px",t.height=e.height+"px",0!==e.width&&0!==e.height&&(this.sized=!0,(t=this.div.childNodes[0]).width=e.width,t.height=e.height)},getHTML:function(e,t){var n="",i="id="+this.id+"&width="+e+"&height="+t;navigator.userAgent.match(/MSIE/)?n+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+(location.href.match(/^https/i)?"https://":"http://")+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+u.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+i+'"/><param name="wmode" value="transparent"/></object>':n+='<embed id="'+this.movieId+'" src="'+u.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+i+'" wmode="transparent" />';return n},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){var t=this;this.domElement&&this.div&&(e(this.div).remove(),this.div=this.domElement=null,e.each(u.clients,(function(e,n){n===t&&delete u.clients[e]})))},reposition:function(e){if(e&&((this.domElement=u.$(e))||this.hide()),this.domElement&&this.div){e=u.getDOMObjectPosition(this.domElement);var t=this.div.style;t.left=e.left+"px",t.top=e.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(e){this.clipText+=e,this.ready&&this.movie.appendText(e)},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},setFileName:function(e){this.fileName=e,this.ready&&this.movie.setFileName(e)},setSheetData:function(e){this.ready&&this.movie.setSheetData(JSON.stringify(e))},setAction:function(e){this.action=e,this.ready&&this.movie.setAction(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,i){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=n.getElementById(this.movieId),!this.movie){var r=this;return void setTimeout((function(){r.receiveEvent("load",null)}),1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return r=this,setTimeout((function(){r.receiveEvent("load",null)}),100),void(this.ready=!0);this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var o=0,a=this.handlers[e].length;o<a;o++){var s=this.handlers[e][o];"function"==typeof s?s(this,i):"object"==typeof s&&2==s.length?s[0][s[1]](this,i):"string"==typeof s&&t[s](this,i)}}},u.hasFlash=function(){try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(e){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==i&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},t.ZeroClipboard_TableTools=u;var c=function(e,t){t.attr("id"),t.parents("html").length?e.glue(t[0],""):setTimeout((function(){c(e,t)}),500)},d=function(e,t){t=t.match(/[\s\S]{1,8192}/g)||[],e.clearText();for(var n=0,i=t.length;n<i;n++)e.appendText(t[n])},f=function(e){return e.newline?e.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},h=function(e,t){var n=f(t);e=e.buttons.exportData(t.exportOptions);var r=t.fieldBoundary,o=t.fieldSeparator,a=new RegExp(r,"g"),s=t.escapeChar!==i?t.escapeChar:"\\",l=function(e){for(var t="",n=0,i=e.length;n<i;n++)0<n&&(t+=o),t+=r?r+(""+e[n]).replace(a,s+r)+r:e[n];return t},u=t.header?l(e.header)+n:"";t=t.footer&&e.footer?n+l(e.footer):"";for(var c=[],d=0,h=e.body.length;d<h;d++)c.push(l(e.body[d]));return{str:u+c.join(n)+t,rows:c.length}},p={available:function(){return u.hasFlash()},init:function(e,t,n){u.moviePath=l.Buttons.swfPath;var i=new u.Client;i.setHandCursor(!0),i.addEventListener("mouseDown",(function(i){n._fromFlash=!0,e.button(t[0]).trigger(),n._fromFlash=!1})),c(i,t),n._flash=i},destroy:function(e,t,n){n._flash.destroy()},fieldSeparator:",",fieldBoundary:'"',exportOptions:{},title:"*",messageTop:"*",messageBottom:"*",filename:"*",extension:".csv",header:!0,footer:!1},m="";m=void 0===t.XMLSerializer?new function(){this.serializeToString=function(e){return e.xml}}:new XMLSerializer;var g,v={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="" sheetId="1" r:id="rId1"/></sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;£&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$€-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="61"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},y=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(e){return e/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(e){return e/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?£[\d,]+.?\d*$/,style:58},{match:/^\-?€[\d,]+.?\d*$/,style:59},{match:/^\([\d,]+\)$/,style:61,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^[\d,]+$/,style:63},{match:/^[\d,]+\.\d{2}$/,style:64}];return l.Buttons.swfPath="//cdn.datatables.net/buttons/"+l.Buttons.version+"/swf/flashExport.swf",l.Api.register("buttons.resize()",(function(){e.each(u.clients,(function(e,t){t.domElement!==i&&t.domElement.parentNode&&t.positionElement()}))})),l.ext.buttons.copyFlash=e.extend({},p,{className:"buttons-copy buttons-flash",text:function(e){return e.i18n("buttons.copy","Copy")},action:function(e,t,n,i){if(i._fromFlash){this.processing(!0),e=i._flash;var r=h(t,i);n=t.buttons.exportInfo(i);var o=f(i);r=r.str,n.title&&(r=n.title+o+o+r),n.messageTop&&(r=n.messageTop+o+o+r),n.messageBottom&&(r=r+o+o+n.messageBottom),i.customize&&(r=i.customize(r,i,t)),e.setAction("copy"),d(e,r),this.processing(!1),t.buttons.info(t.i18n("buttons.copyTitle","Copy to clipboard"),t.i18n("buttons.copySuccess",{_:"Copied %d rows to clipboard",1:"Copied 1 row to clipboard"},data.rows),3e3)}},fieldSeparator:"\t",fieldBoundary:""}),l.ext.buttons.csvFlash=e.extend({},p,{className:"buttons-csv buttons-flash",text:function(e){return e.i18n("buttons.csv","CSV")},action:function(e,t,n,i){e=i._flash;var r=h(t,i);n=t.buttons.exportInfo(i),t=i.customize?i.customize(r.str,i,t):r.str,e.setAction("csv"),e.setFileName(n.filename),d(e,t)},escapeChar:'"'}),l.ext.buttons.excelFlash=e.extend({},p,{className:"buttons-excel buttons-flash",text:function(e){return e.i18n("buttons.excel","Excel")},action:function(t,n,l,u){this.processing(!0),t=u._flash;var c=0,f=e.parseXML(v["xl/worksheets/sheet1.xml"]),h=f.getElementsByTagName("sheetData")[0];l={_rels:{".rels":e.parseXML(v["_rels/.rels"])},xl:{_rels:{"workbook.xml.rels":e.parseXML(v["xl/_rels/workbook.xml.rels"])},"workbook.xml":e.parseXML(v["xl/workbook.xml"]),"styles.xml":e.parseXML(v["xl/styles.xml"]),worksheets:{"sheet1.xml":f}},"[Content_Types].xml":e.parseXML(v["[Content_Types].xml"])};var p,m,g=n.buttons.exportData(u.exportOptions),b=function(e){m=o(f,"row",{attr:{r:p=c+1}});for(var t=0,n=e.length;t<n;t++){var a=r(t)+""+p,s=null;if(null===e[t]||e[t]===i||""===e[t]){if(!0!==u.createEmptyCells)continue;e[t]=""}e[t]="function"==typeof e[t].trim?e[t].trim():e[t];for(var l=0,d=y.length;l<d;l++){var g=y[l];if(e[t].match&&!e[t].match(/^0\d+/)&&e[t].match(g.match)){s=e[t].replace(/[^\d\.\-]/g,""),g.fmt&&(s=g.fmt(s)),s=o(f,"c",{attr:{r:a,s:g.style},children:[o(f,"v",{text:s})]});break}}s||("number"==typeof e[t]||e[t].match&&e[t].match(/^-?\d+(\.\d+)?$/)&&!e[t].match(/^0\d+/)?s=o(f,"c",{attr:{t:"n",r:a},children:[o(f,"v",{text:e[t]})]}):(g=e[t].replace?e[t].replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):e[t],s=o(f,"c",{attr:{t:"inlineStr",r:a},children:{row:o(f,"is",{children:{row:o(f,"t",{text:g})}})}}))),m.appendChild(s)}h.appendChild(m),c++};e("sheets sheet",l.xl["workbook.xml"]).attr("name",function(e){var t="Sheet1";return e.sheetName&&(t=e.sheetName.replace(/[\[\]\*\/\\\?:]/g,"")),t}(u)),u.customizeData&&u.customizeData(g);var _=function(t,n){var i=e("mergeCells",f);i[0].appendChild(o(f,"mergeCell",{attr:{ref:"A"+t+":"+r(n)+t}})),i.attr("count",i.attr("count")+1),e("row:eq("+(t-1)+") c",f).attr("s","51")},w=n.buttons.exportInfo(u);w.title&&(b([w.title],c),_(c,g.header.length-1)),w.messageTop&&(b([w.messageTop],c),_(c,g.header.length-1)),u.header&&(b(g.header,c),e("row:last c",f).attr("s","2"));for(var S=0,E=g.body.length;S<E;S++)b(g.body[S],c);for(u.footer&&g.footer&&(b(g.footer,c),e("row:last c",f).attr("s","2")),w.messageBottom&&(b([w.messageBottom],c),_(c,g.header.length-1)),b=o(f,"cols"),e("worksheet",f).prepend(b),_=0,S=g.header.length;_<S;_++)b.appendChild(o(f,"col",{attr:{min:_+1,max:_+1,width:a(g,_),customWidth:1}}));u.customize&&u.customize(l,u,n),s(l),t.setAction("excel"),t.setFileName(w.filename),t.setSheetData(l),d(t,""),this.processing(!1)},extension:".xlsx",createEmptyCells:!1}),l.ext.buttons.pdfFlash=e.extend({},p,{className:"buttons-pdf buttons-flash",text:function(e){return e.i18n("buttons.pdf","PDF")},action:function(e,t,n,i){this.processing(!0),e=i._flash,n=t.buttons.exportData(i.exportOptions);var r=t.buttons.exportInfo(i),o=t.table().node().offsetWidth,a=t.columns(i.columns).indexes().map((function(e){return t.column(e).header().offsetWidth/o}));e.setAction("pdf"),e.setFileName(r.filename),d(e,JSON.stringify({title:r.title||"",messageTop:r.messageTop||"",messageBottom:r.messageBottom||"",colWidth:a.toArray(),orientation:i.orientation,size:i.pageSize,header:i.header?n.header:null,footer:i.footer?n.footer:null,body:n.body})),this.processing(!1)},extension:".pdf",orientation:"portrait",pageSize:"A4",newline:"\n"}),l.Buttons})),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n,i,r){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),e(n,t,t.document,i,r)}:e(jQuery,window,document)}((function(e,t,n,i,r,o){function a(e){for(var t="";0<=e;)t=String.fromCharCode(e%26+65)+t,e=Math.floor(e/26)-1;return t}function s(n,i){g===o&&(g=-1===v.serializeToString((new t.DOMParser).parseFromString(y["xl/worksheets/sheet1.xml"],"text/xml")).indexOf("xmlns:r")),e.each(i,(function(t,i){if(e.isPlainObject(i))s(t=n.folder(t),i);else{if(g){var r,o=i.childNodes[0],a=[];for(r=o.attributes.length-1;0<=r;r--){var l=o.attributes[r].nodeName,u=o.attributes[r].nodeValue;-1!==l.indexOf(":")&&(a.push({name:l,value:u}),o.removeAttribute(l))}for(r=0,l=a.length;r<l;r++)(u=i.createAttribute(a[r].name.replace(":","_dt_b_namespace_token_"))).value=a[r].value,o.setAttributeNode(u)}i=v.serializeToString(i),g&&(-1===i.indexOf("<?xml")&&(i='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+i),i=(i=i.replace(/_dt_b_namespace_token_/g,":")).replace(/xmlns:NS[\d]+="" NS[\d]+:/g,"")),i=i.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),n.file(t,i)}}))}function l(t,n,i){var r=t.createElement(n);return i&&(i.attr&&e(r).attr(i.attr),i.children&&e.each(i.children,(function(e,t){r.appendChild(t)})),null!==i.text&&i.text!==o&&r.appendChild(t.createTextNode(i.text))),r}function u(e,t){var n=e.header[t].length;e.footer&&e.footer[t].length>n&&(n=e.footer[t].length);for(var i=0,r=e.body.length;i<r;i++){var a=e.body[i][t];if(-1!==(a=null!==a&&a!==o?a.toString():"").indexOf("\n")?((a=a.split("\n")).sort((function(e,t){return t.length-e.length})),a=a[0].length):a=a.length,a>n&&(n=a),40<n)return 54}return 6<(n*=1.35)?n:6}var c=e.fn.dataTable;c.Buttons.pdfMake=function(e){if(!e)return r||t.pdfMake;r=e},c.Buttons.jszip=function(e){if(!e)return i||t.JSZip;i=e};var d=function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in t,i=/constructor/i.test(e.HTMLElement)||e.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},a=function(t){setTimeout((function(){"string"==typeof t?(e.URL||e.webkitURL||e).revokeObjectURL(t):t.remove()}),4e4)},s=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},l=function(l,u,c){c||(l=s(l));var d=this,f="application/octet-stream"===l.type,h=function(){for(var e=["writestart","progress","write","writeend"],t=(e=[].concat(e)).length;t--;){var n=d["on"+e[t]];if("function"==typeof n)try{n.call(d,d)}catch(e){o(e)}}};if(d.readyState=d.INIT,n){var p=(e.URL||e.webkitURL||e).createObjectURL(l);setTimeout((function(){t.href=p,t.download=u;var e=new MouseEvent("click");t.dispatchEvent(e),h(),a(p),d.readyState=d.DONE}))}else!function(){if((r||f&&i)&&e.FileReader){var t=new FileReader;t.onloadend=function(){var n=r?t.result:t.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(n,"_blank")||(e.location.href=n),d.readyState=d.DONE,h()},t.readAsDataURL(l),d.readyState=d.INIT}else p||(p=(e.URL||e.webkitURL||e).createObjectURL(l)),f?e.location.href=p:e.open(p,"_blank")||(e.location.href=p),d.readyState=d.DONE,h(),a(p)}()},u=l.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=s(e)),navigator.msSaveOrOpenBlob(e,t)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(e,t,n){return new l(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||void 0!==t&&t||this.content);c.fileSave=d;var f=function(e){var t="Sheet1";return e.sheetName&&(t=e.sheetName.replace(/[\[\]\*\/\\\?:]/g,"")),t},h=function(e){return e.newline?e.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},p=function(e,t){var n=h(t);e=e.buttons.exportData(t.exportOptions);var i=t.fieldBoundary,r=t.fieldSeparator,a=new RegExp(i,"g"),s=t.escapeChar!==o?t.escapeChar:"\\",l=function(e){for(var t="",n=0,o=e.length;n<o;n++)0<n&&(t+=r),t+=i?i+(""+e[n]).replace(a,s+i)+i:e[n];return t},u=t.header?l(e.header)+n:"";t=t.footer&&e.footer?n+l(e.footer):"";for(var c=[],d=0,f=e.body.length;d<f;d++)c.push(l(e.body[d]));return{str:u+c.join(n)+t,rows:c.length}},m=function(){if(-1===navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Opera"))return!1;var e=navigator.userAgent.match(/AppleWebKit\/(\d+\.\d+)/);return!!(e&&1<e.length&&603.1>1*e[1])};try{var g,v=new XMLSerializer}catch(e){}var y={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><definedNames/></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;£&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$€-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="68"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="14" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},b=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(e){return e/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(e){return e/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?£[\d,]+.?\d*$/,style:58},{match:/^\-?€[\d,]+.?\d*$/,style:59},{match:/^\-?\d+$/,style:65},{match:/^\-?\d+\.\d{2}$/,style:66},{match:/^\([\d,]+\)$/,style:61,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^\-?[\d,]+$/,style:63},{match:/^\-?[\d,]+\.\d{2}$/,style:64},{match:/^[\d]{4}\-[\d]{2}\-[\d]{2}$/,style:67,fmt:function(e){return Math.round(25569+Date.parse(e)/864e5)}}];return c.ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(e){return e.i18n("buttons.copy","Copy")},action:function(t,i,r,o){this.processing(!0);var a=this;t=p(i,o);var s=i.buttons.exportInfo(o),l=h(o),u=t.str;if(r=e("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0}),s.title&&(u=s.title+l+l+u),s.messageTop&&(u=s.messageTop+l+l+u),s.messageBottom&&(u=u+l+l+s.messageBottom),o.customize&&(u=o.customize(u,o,i)),o=e("<textarea readonly/>").val(u).appendTo(r),n.queryCommandSupported("copy")){r.appendTo(i.table().container()),o[0].focus(),o[0].select();try{var c=n.execCommand("copy");if(r.remove(),c)return i.buttons.info(i.i18n("buttons.copyTitle","Copy to clipboard"),i.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},t.rows),2e3),void this.processing(!1)}catch(e){}}c=e("<span>"+i.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i>⌘</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(r),i.buttons.info(i.i18n("buttons.copyTitle","Copy to clipboard"),c,0),o[0].focus(),o[0].select();var d=e(c).closest(".dt-button-info"),f=function(){d.off("click.buttons-copy"),e(n).off(".buttons-copy"),i.buttons.info(!1)};d.on("click.buttons-copy",f),e(n).on("keydown.buttons-copy",(function(e){27===e.keyCode&&(f(),a.processing(!1))})).on("copy.buttons-copy cut.buttons-copy",(function(){f(),a.processing(!1)}))},exportOptions:{},fieldSeparator:"\t",fieldBoundary:"",header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*"},c.ext.buttons.csvHtml5={bom:!1,className:"buttons-csv buttons-html5",available:function(){return t.FileReader!==o&&t.Blob},text:function(e){return e.i18n("buttons.csv","CSV")},action:function(e,t,i,r){this.processing(!0),e=p(t,r).str,i=t.buttons.exportInfo(r);var o=r.charset;r.customize&&(e=r.customize(e,r,t)),!1!==o?(o||(o=n.characterSet||n.charset),o&&(o=";charset="+o)):o="",r.bom&&(e="\ufeff"+e),d(new Blob([e],{type:"text/csv"+o}),i.filename,!0),this.processing(!1)},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},c.ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return t.FileReader!==o&&(i||t.JSZip)!==o&&!m()&&v},text:function(e){return e.i18n("buttons.excel","Excel")},action:function(n,r,c,h){this.processing(!0);var p=this,m=0,g=(n=function(t){return e.parseXML(y[t])})("xl/worksheets/sheet1.xml"),v=g.getElementsByTagName("sheetData")[0];n={_rels:{".rels":n("_rels/.rels")},xl:{_rels:{"workbook.xml.rels":n("xl/_rels/workbook.xml.rels")},"workbook.xml":n("xl/workbook.xml"),"styles.xml":n("xl/styles.xml"),worksheets:{"sheet1.xml":g}},"[Content_Types].xml":n("[Content_Types].xml")};var _,w,S=r.buttons.exportData(h.exportOptions),E=function(e){w=l(g,"row",{attr:{r:_=m+1}});for(var t=0,n=e.length;t<n;t++){var i=a(t)+""+_,r=null;if(null===e[t]||e[t]===o||""===e[t]){if(!0!==h.createEmptyCells)continue;e[t]=""}var s=e[t];e[t]="function"==typeof e[t].trim?e[t].trim():e[t];for(var u=0,c=b.length;u<c;u++){var d=b[u];if(e[t].match&&!e[t].match(/^0\d+/)&&e[t].match(d.match)){r=e[t].replace(/[^\d\.\-]/g,""),d.fmt&&(r=d.fmt(r)),r=l(g,"c",{attr:{r:i,s:d.style},children:[l(g,"v",{text:r})]});break}}r||("number"==typeof e[t]||e[t].match&&e[t].match(/^-?\d+(\.\d+)?$/)&&!e[t].match(/^0\d+/)?r=l(g,"c",{attr:{t:"n",r:i},children:[l(g,"v",{text:e[t]})]}):(s=s.replace?s.replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):s,r=l(g,"c",{attr:{t:"inlineStr",r:i},children:{row:l(g,"is",{children:{row:l(g,"t",{text:s,attr:{"xml:space":"preserve"}})}})}}))),w.appendChild(r)}v.appendChild(w),m++};h.customizeData&&h.customizeData(S);var C=function(t,n){var i=e("mergeCells",g);i[0].appendChild(l(g,"mergeCell",{attr:{ref:"A"+t+":"+a(n)+t}})),i.attr("count",parseFloat(i.attr("count"))+1),e("row:eq("+(t-1)+") c",g).attr("s","51")},x=r.buttons.exportInfo(h);x.title&&(E([x.title],m),C(m,S.header.length-1)),x.messageTop&&(E([x.messageTop],m),C(m,S.header.length-1)),h.header&&(E(S.header,m),e("row:last c",g).attr("s","2")),c=m;for(var T=0,I=S.body.length;T<I;T++)E(S.body[T],m);for(T=m,h.footer&&S.footer&&(E(S.footer,m),e("row:last c",g).attr("s","2")),x.messageBottom&&(E([x.messageBottom],m),C(m,S.header.length-1)),E=l(g,"cols"),e("worksheet",g).prepend(E),C=0,I=S.header.length;C<I;C++)E.appendChild(l(g,"col",{attr:{min:C+1,max:C+1,width:u(S,C),customWidth:1}}));E=n.xl["workbook.xml"],e("sheets sheet",E).attr("name",f(h)),h.autoFilter&&(e("mergeCells",g).before(l(g,"autoFilter",{attr:{ref:"A"+c+":"+a(S.header.length-1)+T}})),e("definedNames",E).append(l(E,"definedName",{attr:{name:"_xlnm._FilterDatabase",localSheetId:"0",hidden:1},text:f(h)+"!$A$"+c+":"+a(S.header.length-1)+T}))),h.customize&&h.customize(n,h,r),0===e("mergeCells",g).children().length&&e("mergeCells",g).remove(),c={type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},s(r=new(i||t.JSZip),n),r.generateAsync?r.generateAsync(c).then((function(e){d(e,x.filename),p.processing(!1)})):(d(r.generate(c),x.filename),this.processing(!1))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*",createEmptyCells:!1,autoFilter:!1,sheetName:""},c.ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return t.FileReader!==o&&(r||t.pdfMake)},text:function(e){return e.i18n("buttons.pdf","PDF")},action:function(n,i,a,s){this.processing(!0),a=i.buttons.exportData(s.exportOptions),n=i.buttons.exportInfo(s);var l=[];s.header&&l.push(e.map(a.header,(function(e){return{text:"string"==typeof e?e:e+"",style:"tableHeader"}})));for(var u=0,c=a.body.length;u<c;u++)l.push(e.map(a.body[u],(function(e){return null!==e&&e!==o||(e=""),{text:"string"==typeof e?e:e+"",style:u%2?"tableBodyEven":"tableBodyOdd"}})));s.footer&&a.footer&&l.push(e.map(a.footer,(function(e){return{text:"string"==typeof e?e:e+"",style:"tableFooter"}}))),a={pageSize:s.pageSize,pageOrientation:s.orientation,content:[{table:{headerRows:1,body:l},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}},n.messageTop&&a.content.unshift({text:n.messageTop,style:"message",margin:[0,0,0,12]}),n.messageBottom&&a.content.push({text:n.messageBottom,style:"message",margin:[0,0,0,12]}),n.title&&a.content.unshift({text:n.title,style:"title",margin:[0,0,0,12]}),s.customize&&s.customize(a,s,i),i=(r||t.pdfMake).createPdf(a),"open"!==s.download||m()?i.download(n.filename):i.open(),this.processing(!1)},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,messageTop:"*",messageBottom:"*",customize:null,download:"download"},c.Buttons})),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n,i){var r=e.fn.dataTable,o=n.createElement("a"),a=function(e){return o.href=e,-1===(e=o.host).indexOf("/")&&0!==o.pathname.indexOf("/")&&(e+="/"),o.protocol+"//"+e+o.pathname+o.search};return r.ext.buttons.print={className:"buttons-print",text:function(e){return e.i18n("buttons.print","Print")},action:function(n,r,o,s){n=r.buttons.exportData(e.extend({decodeEntities:!1},s.exportOptions)),o=r.buttons.exportInfo(s);var l=r.columns(s.exportOptions.columns).flatten().map((function(e){return r.settings()[0].aoColumns[r.column(e).index()].sClass})).toArray(),u=function(e,t){for(var n="<tr>",r=0,o=e.length;r<o;r++)n+="<"+t+" "+(l[r]?'class="'+l[r]+'"':"")+">"+(null===e[r]||e[r]===i?"":e[r])+"</"+t+">";return n+"</tr>"},c='<table class="'+r.table().node().className+'">';s.header&&(c+="<thead>"+u(n.header,"th")+"</thead>"),c+="<tbody>";for(var d=0,f=n.body.length;d<f;d++)c+=u(n.body[d],"td");c+="</tbody>",s.footer&&n.footer&&(c+="<tfoot>"+u(n.footer,"th")+"</tfoot>"),c+="</table>";var h=t.open("","");h.document.close();var p="<title>"+o.title+"</title>";e("style, link").each((function(){var t=p,n=e(this).clone()[0];"link"===n.nodeName.toLowerCase()&&(n.href=a(n.href)),p=t+n.outerHTML}));try{h.document.head.innerHTML=p}catch(t){e(h.document.head).html(p)}h.document.body.innerHTML="<h1>"+o.title+"</h1><div>"+(o.messageTop||"")+"</div>"+c+"<div>"+(o.messageBottom||"")+"</div>",e(h.document.body).addClass("dt-print-view"),e("img",h.document.body).each((function(e,t){t.setAttribute("src",a(t.getAttribute("src")))})),s.customize&&s.customize(h,s,r),n=function(){s.autoPrint&&(h.print(),h.close())},navigator.userAgent.match(/Trident\/\d.\d/)?n():h.setTimeout(n,1e3)},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},r.Buttons})),function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):"object"==typeof window?window.Picker=e(jQuery):this.Picker=e(jQuery)}((function(e){function t(o,s,u,d){function f(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",S.component.nodes(v.open),b.box),b.wrap),b.frame),b.holder,'tabindex="-1"')}function h(){S.$holder.on({keydown:m,"focus.toOpen":p,blur:function(){_.removeClass(b.target)},focusin:function(e){S.$root.removeClass(b.focused),e.stopPropagation()},"mousedown click":function(t){var n=i(t,o);n!=S.$holder[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(n).is("input, select, textarea, button, option")||(t.preventDefault(),S.$holder.eq(0).focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",(function(){var t=e(this),n=t.data(),i=t.hasClass(b.navDisabled)||t.hasClass(b.disabled),r=a();r=r&&(r.type||r.href?r:null),(i||r&&!e.contains(S.$root[0],r))&&S.$holder.eq(0).focus(),!i&&n.nav?S.set("highlight",S.component.item.highlight,{nav:n.nav}):!i&&"pick"in n?(S.set("select",n.pick),y.closeOnSelect&&S.close(!0)):n.clear?(S.clear(),y.closeOnClear&&S.close(!0)):n.close&&S.close(!0)}))}function p(e){e.stopPropagation(),_.addClass(b.target),S.$root.addClass(b.focused),S.open()}function m(e){var t=e.keyCode,n=/^(8|46)$/.test(t);if(27==t)return S.close(!0),!1;(32==t||n||!v.open&&S.component.key[t])&&(e.preventDefault(),e.stopPropagation(),n?S.clear().close():S.open())}if(!o)return t;var g=!1,v={id:o.id||"P"+Math.abs(~~(Math.random()*new Date)),handlingOpen:!1},y=u?e.extend(!0,{},u.defaults,d):d||{},b=e.extend({},t.klasses(),y.klass),_=e(o),w=function(){return this.start()},S=w.prototype={constructor:w,$node:_,start:function(){return v&&v.start?S:(v.methods={},v.start=!0,v.open=!1,v.type=o.type,o.autofocus=o==a(),o.readOnly=!y.editable,o.id=o.id||v.id,"text"!=o.type&&(o.type="text"),S.component=new u(S,y),S.$root=e('<div class="'+b.picker+'" id="'+o.id+'_root" />'),r(S.$root[0],"hidden",!0),S.$holder=e(f()).appendTo(S.$root),h(),y.formatSubmit&&function(){var t;!0===y.hiddenName?(t=o.name,o.name=""):t=(t=["string"==typeof y.hiddenPrefix?y.hiddenPrefix:"","string"==typeof y.hiddenSuffix?y.hiddenSuffix:"_submit"])[0]+o.name+t[1],S._hidden=e('<input type=hidden name="'+t+'"'+(_.data("value")||o.value?' value="'+S.get("select",y.formatSubmit)+'"':"")+">")[0],_.on("change."+v.id,(function(){S._hidden.value=o.value?S.get("select",y.formatSubmit):""}))}(),_.data(s,S).addClass(b.input).val(_.data("value")?S.get("select",y.format):o.value).on("focus."+v.id+" click."+v.id,(function(e){e.preventDefault(),S.open()})).on("mousedown",(function(){v.handlingOpen=!0;var t=function(){setTimeout((function(){e(document).off("mouseup",t),v.handlingOpen=!1}),0)};e(document).on("mouseup",t)})),y.editable||_.on("keydown."+v.id,m),r(o,{haspopup:!0,expanded:!1,readonly:!1,owns:o.id+"_root"}),y.containerHidden?e(y.containerHidden).append(S._hidden):_.after(S._hidden),y.container?e(y.container).append(S.$root):_.after(S.$root),S.on({start:S.component.onStart,render:S.component.onRender,stop:S.component.onStop,open:S.component.onOpen,close:S.component.onClose,set:S.component.onSet}).on({start:y.onStart,render:y.onRender,stop:y.onStop,open:y.onOpen,close:y.onClose,set:y.onSet}),g=function(e){var t,n="position";return e.currentStyle?t=e.currentStyle[n]:window.getComputedStyle&&(t=getComputedStyle(e)[n]),"fixed"==t}(S.$holder[0]),o.autofocus&&S.open(),S.trigger("start").trigger("render"))},render:function(t){return t?(S.$holder=e(f()),h(),S.$root.html(S.$holder)):S.$root.find("."+b.box).html(S.component.nodes(v.open)),S.trigger("render")},stop:function(){return v.start?(S.close(),S._hidden&&S._hidden.parentNode.removeChild(S._hidden),S.$root.remove(),_.removeClass(b.input).removeData(s),setTimeout((function(){_.off("."+v.id)}),0),o.type=v.type,o.readOnly=!1,S.trigger("stop"),v.methods={},v.start=!1,S):S},open:function(a){return v.open?S:(_.addClass(b.active),r(o,"expanded",!0),setTimeout((function(){S.$root.addClass(b.opened),r(S.$root[0],"hidden",!1)}),0),!1!==a&&(v.open=!0,g&&e("body").css("overflow","hidden").css("padding-right","+="+n()),g&&c?S.$holder.find("."+b.frame).one("transitionend",(function(){S.$holder.eq(0).focus()})):setTimeout((function(){S.$holder.eq(0).focus()}),0),l.on("click."+v.id+" focusin."+v.id,(function(e){if(!v.handlingOpen){var t=i(e,o);e.isSimulated||t==o||t==document||3==e.which||S.close(t===S.$holder[0])}})).on("keydown."+v.id,(function(n){var r=n.keyCode,a=S.component.key[r],s=i(n,o);27==r?S.close(!0):s!=S.$holder[0]||!a&&13!=r?e.contains(S.$root[0],s)&&13==r&&(n.preventDefault(),s.click()):(n.preventDefault(),a?t._.trigger(S.component.key.go,S,[t._.trigger(a)]):S.$root.find("."+b.highlighted).hasClass(b.disabled)||(S.set("select",S.component.item.highlight),y.closeOnSelect&&S.close(!0)))}))),S.trigger("open"))},close:function(t){return t&&(y.editable?o.focus():(S.$holder.off("focus.toOpen").focus(),setTimeout((function(){S.$holder.on("focus.toOpen",p)}),0))),_.removeClass(b.active),r(o,"expanded",!1),setTimeout((function(){S.$root.removeClass(b.opened+" "+b.focused),r(S.$root[0],"hidden",!0)}),0),v.open?(v.open=!1,g&&e("body").css("overflow","").css("padding-right","-="+n()),l.off("."+v.id),S.trigger("close")):S},clear:function(e){return S.set("clear",null,e)},set:function(t,n,i){var r,o,a=e.isPlainObject(t),s=a?t:{};if(i=a&&e.isPlainObject(n)?n:i||{},t){for(r in a||(s[t]=n),s)o=s[r],r in S.component.item&&(void 0===o&&(o=null),S.component.set(r,o,i)),"select"!=r&&"clear"!=r||!y.updateInput||_.val("clear"==r?"":S.get(r,y.format)).trigger("change");S.render()}return i.muted?S:S.trigger("set",s)},get:function(e,n){if(null!=v[e=e||"value"])return v[e];if("valueSubmit"==e){if(S._hidden)return S._hidden.value;e="value"}if("value"==e)return o.value;if(e in S.component.item){if("string"==typeof n){var i=S.component.get(e);return i?t._.trigger(S.component.formats.toString,S.component,[n,i]):""}return S.component.get(e)}},on:function(t,n,i){var r,o,a=e.isPlainObject(t),s=a?t:{};if(t)for(r in a||(s[t]=n),s)o=s[r],i&&(r="_"+r),v.methods[r]=v.methods[r]||[],v.methods[r].push(o);return S},off:function(){var e,t,n=arguments;for(e=0,namesCount=n.length;e<namesCount;e+=1)(t=n[e])in v.methods&&delete v.methods[t];return S},trigger:function(e,n){var i=function(e){var i=v.methods[e];i&&i.map((function(e){t._.trigger(e,S,[n])}))};return i("_"+e),i(e),S}};return new w}function n(){if(u.height()<=s.height())return 0;var t=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),n=t[0].offsetWidth;t.css("overflow","scroll");var i=e('<div style="width:100%" />').appendTo(t)[0].offsetWidth;return t.remove(),n-i}function i(e,t){var n=[];return e.path&&(n=e.path),e.originalEvent&&e.originalEvent.path&&(n=e.originalEvent.path),n&&n.length>0?t&&n.indexOf(t)>=0?t:n[0]:e.target}function r(t,n,i){if(e.isPlainObject(n))for(var r in n)o(t,r,n[r]);else o(t,n,i)}function o(e,t,n){e.setAttribute(("role"==t?"":"aria-")+t,n)}function a(){try{return document.activeElement}catch(e){}}var s=e(window),l=e(document),u=e(document.documentElement),c=null!=document.documentElement.style.transition;return t.klasses=function(e){return{picker:e=e||"picker",opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var n,i="",r=t._.trigger(e.min,e);r<=t._.trigger(e.max,e,[r]);r+=e.i)n=t._.trigger(e.item,e,[r]),i+=t._.node(e.node,n[0],n[1],n[2]);return i},node:function(t,n,i,r){return n?"<"+t+(i=i?' class="'+i+'"':"")+(r=r?" "+r:"")+">"+(n=e.isArray(n)?n.join(""):n)+"</"+t+">":""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1==0},ariaAttr:function(t,n){for(var i in e.isPlainObject(t)||(t={attribute:n}),n="",t){var r=("role"==i?"":"aria-")+i;n+=null==t[i]?"":r+'="'+t[i]+'"'}return n}},t.extend=function(n,i){e.fn[n]=function(r,o){var a=this.data(n);return"picker"==r?a:a&&"string"==typeof r?t._.trigger(a[r],a,[o]):this.each((function(){e(this).data(n)||new t(this,n,i,r)}))},e.fn[n].defaults=i.defaults},t})),function(e){"function"==typeof define&&define.amd?define(["./picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}((function(e,t){function n(e,t){var n=this,i=e.$node[0],r=i.value,o=e.$node.data("value"),a=o||r,s=o?t.formatSubmit:t.format,l=function(){return i.currentStyle?"rtl"==i.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};n.settings=t,n.$node=e.$node,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.disable=(t.disable||[]).slice(0),n.item.enable=-function(e){return!0===e[0]?e.shift():-1}(n.item.disable),n.set("min",t.min).set("max",t.max).set("now"),a?n.set("select",a,{format:s,defaultValue:!0}):n.set("select",null).set("highlight",n.item.now),n.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(e){var t=n.item.highlight,i=new Date(t.year,t.month,t.date+e);n.set("highlight",i,{interval:e}),this.render()}},e.on("render",(function(){e.$root.find("."+t.klass.selectMonth).on("change",(function(){var n=this.value;n&&(e.set("highlight",[e.get("view").year,n,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))})),e.$root.find("."+t.klass.selectYear).on("change",(function(){var n=this.value;n&&(e.set("highlight",[n,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))}))}),1).on("open",(function(){var i="";n.disabled(n.get("now"))&&(i=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+i+", select").attr("disabled",!1)}),1).on("close",(function(){e.$root.find("button, select").attr("disabled",!0)}),1)}var i=e._;n.prototype.set=function(e,t,n){var i=this,r=i.item;return null===t?("clear"==e&&(e="select"),r[e]=t,i):(r["enable"==e?"disable":"flip"==e?"enable":e]=i.queue[e].split(" ").map((function(r){return t=i[r](e,t,n)})).pop(),"select"==e?i.set("highlight",r.select,n):"highlight"==e?i.set("view",r.highlight,n):e.match(/^(flip|min|max|disable|enable)$/)&&(r.select&&i.disabled(r.select)&&i.set("select",r.select,n),r.highlight&&i.disabled(r.highlight)&&i.set("highlight",r.highlight,n)),i)},n.prototype.get=function(e){return this.item[e]},n.prototype.create=function(e,n,r){var o,a=this;return(n=void 0===n?e:n)==-1/0||n==1/0?o=n:t.isPlainObject(n)&&i.isInteger(n.pick)?n=n.obj:t.isArray(n)?(n=new Date(n[0],n[1],n[2]),n=i.isDate(n)?n:a.create().obj):n=i.isInteger(n)||i.isDate(n)?a.normalize(new Date(n),r):a.now(e,n,r),{year:o||n.getFullYear(),month:o||n.getMonth(),date:o||n.getDate(),day:o||n.getDay(),obj:o||n,pick:o||n.getTime()}},n.prototype.createRange=function(e,n){var r=this,o=function(e){return!0===e||t.isArray(e)||i.isDate(e)?r.create(e):e};return i.isInteger(e)||(e=o(e)),i.isInteger(n)||(n=o(n)),i.isInteger(e)&&t.isPlainObject(n)?e=[n.year,n.month,n.date+e]:i.isInteger(n)&&t.isPlainObject(e)&&(n=[e.year,e.month,e.date+n]),{from:o(e),to:o(n)}},n.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},n.prototype.overlapRanges=function(e,t){var n=this;return e=n.createRange(e.from,e.to),t=n.createRange(t.from,t.to),n.withinRange(e,t.from)||n.withinRange(e,t.to)||n.withinRange(t,e.from)||n.withinRange(t,e.to)},n.prototype.now=function(e,t,n){return t=new Date,n&&n.rel&&t.setDate(t.getDate()+n.rel),this.normalize(t,n)},n.prototype.navigate=function(e,n,i){var r,o,a,s,l=t.isArray(n),u=t.isPlainObject(n),c=this.item.view;if(l||u){for(u?(o=n.year,a=n.month,s=n.date):(o=+n[0],a=+n[1],s=+n[2]),i&&i.nav&&c&&c.month!==a&&(o=c.year,a=c.month),o=(r=new Date(o,a+(i&&i.nav?i.nav:0),1)).getFullYear(),a=r.getMonth();new Date(o,a,s).getMonth()!==a;)s-=1;n=[o,a,s]}return n},n.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},n.prototype.measure=function(e,t){return i.isInteger(t)?t=this.now(e,t,{rel:t}):t?"string"==typeof t&&(t=this.parse(e,t)):t="min"==e?-1/0:1/0,t},n.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},n.prototype.validate=function(e,n,r){var o,a,s,l,u=this,c=n,d=r&&r.interval?r.interval:1,f=-1===u.item.enable,h=u.item.min,p=u.item.max,m=f&&u.item.disable.filter((function(e){if(t.isArray(e)){var r=u.create(e).pick;r<n.pick?o=!0:r>n.pick&&(a=!0)}return i.isInteger(e)})).length;if((!r||!r.nav&&!r.defaultValue)&&(!f&&u.disabled(n)||f&&u.disabled(n)&&(m||o||a)||!f&&(n.pick<=h.pick||n.pick>=p.pick)))for(f&&!m&&(!a&&d>0||!o&&d<0)&&(d*=-1);u.disabled(n)&&(Math.abs(d)>1&&(n.month<c.month||n.month>c.month)&&(n=c,d=d>0?1:-1),n.pick<=h.pick?(s=!0,d=1,n=u.create([h.year,h.month,h.date+(n.pick===h.pick?0:-1)])):n.pick>=p.pick&&(l=!0,d=-1,n=u.create([p.year,p.month,p.date+(n.pick===p.pick?0:1)])),!s||!l);)n=u.create([n.year,n.month,n.date+d]);return n},n.prototype.disabled=function(e){var n=this,r=n.item.disable.filter((function(r){return i.isInteger(r)?e.day===(n.settings.firstDay?r:r-1)%7:t.isArray(r)||i.isDate(r)?e.pick===n.create(r).pick:t.isPlainObject(r)?n.withinRange(r,e):void 0}));return r=r.length&&!r.filter((function(e){return t.isArray(e)&&"inverted"==e[3]||t.isPlainObject(e)&&e.inverted})).length,-1===n.item.enable?!r:r||e.pick<n.item.min.pick||e.pick>n.item.max.pick},n.prototype.parse=function(e,t,n){var r=this,o={};return t&&"string"==typeof t?(n&&n.format||((n=n||{}).format=r.settings.format),r.formats.toArray(n.format).map((function(e){var n=r.formats[e],a=n?i.trigger(n,r,[t,o]):e.replace(/^!/,"").length;n&&(o[e]=t.substr(0,a)),t=t.substr(a)})),[o.yyyy||o.yy,+(o.mm||o.m)-1,o.dd||o.d]):t},n.prototype.formats=function(){function e(e,t,n){var i=e.match(/[^\x00-\x7F]+|\w+/)[0];return n.mm||n.m||(n.m=t.indexOf(i)+1),i.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?i.digits(e):t.date},dd:function(e,t){return e?2:i.lead(t.date)},ddd:function(e,n){return e?t(e):this.settings.weekdaysShort[n.day]},dddd:function(e,n){return e?t(e):this.settings.weekdaysFull[n.day]},m:function(e,t){return e?i.digits(e):t.month+1},mm:function(e,t){return e?2:i.lead(t.month+1)},mmm:function(t,n){var i=this.settings.monthsShort;return t?e(t,i,n):i[n.month]},mmmm:function(t,n){var i=this.settings.monthsFull;return t?e(t,i,n):i[n.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map((function(e){return i.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")})).join("")}}}(),n.prototype.isDateExact=function(e,n){var r=this;return i.isInteger(e)&&i.isInteger(n)||"boolean"==typeof e&&"boolean"==typeof n?e===n:(i.isDate(e)||t.isArray(e))&&(i.isDate(n)||t.isArray(n))?r.create(e).pick===r.create(n).pick:!(!t.isPlainObject(e)||!t.isPlainObject(n))&&r.isDateExact(e.from,n.from)&&r.isDateExact(e.to,n.to)},n.prototype.isDateOverlap=function(e,n){var r=this,o=r.settings.firstDay?1:0;return i.isInteger(e)&&(i.isDate(n)||t.isArray(n))?(e=e%7+o)===r.create(n).day+1:i.isInteger(n)&&(i.isDate(e)||t.isArray(e))?(n=n%7+o)===r.create(e).day+1:!(!t.isPlainObject(e)||!t.isPlainObject(n))&&r.overlapRanges(e,n)},n.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},n.prototype.deactivate=function(e,n){var r=this,o=r.item.disable.slice(0);return"flip"==n?r.flipEnable():!1===n?(r.flipEnable(1),o=[]):!0===n?(r.flipEnable(-1),o=[]):n.map((function(e){for(var n,a=0;a<o.length;a+=1)if(r.isDateExact(e,o[a])){n=!0;break}n||(i.isInteger(e)||i.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&o.push(e)})),o},n.prototype.activate=function(e,n){var r=this,o=r.item.disable,a=o.length;return"flip"==n?r.flipEnable():!0===n?(r.flipEnable(1),o=[]):!1===n?(r.flipEnable(-1),o=[]):n.map((function(e){var n,s,l,u;for(l=0;l<a;l+=1){if(s=o[l],r.isDateExact(s,e)){n=o[l]=null,u=!0;break}if(r.isDateOverlap(s,e)){t.isPlainObject(e)?(e.inverted=!0,n=e):t.isArray(e)?(n=e)[3]||n.push("inverted"):i.isDate(e)&&(n=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(n)for(l=0;l<a;l+=1)if(r.isDateExact(o[l],e)){o[l]=null;break}if(u)for(l=0;l<a;l+=1)if(r.isDateOverlap(o[l],e)){o[l]=null;break}n&&o.push(n)})),o.filter((function(e){return null!=e}))},n.prototype.nodes=function(e){var t=this,n=t.settings,r=t.item,o=r.now,a=r.select,s=r.highlight,l=r.view,u=r.disable,c=r.min,d=r.max,f=function(e,t){return n.firstDay&&(e.push(e.shift()),t.push(t.shift())),i.node("thead",i.node("tr",i.group({min:0,max:6,i:1,node:"th",item:function(i){return[e[i],n.klass.weekdays,'scope=col title="'+t[i]+'"']}})))}((n.showWeekdaysFull?n.weekdaysFull:n.weekdaysShort).slice(0),n.weekdaysFull.slice(0)),h=function(e){return i.node("div"," ",n.klass["nav"+(e?"Next":"Prev")]+(e&&l.year>=d.year&&l.month>=d.month||!e&&l.year<=c.year&&l.month<=c.month?" "+n.klass.navDisabled:""),"data-nav="+(e||-1)+" "+i.ariaAttr({role:"button",controls:t.$node[0].id+"_table"})+' title="'+(e?n.labelMonthNext:n.labelMonthPrev)+'"')},p=function(){var r=n.showMonthsShort?n.monthsShort:n.monthsFull;return n.selectMonths?i.node("select",i.group({min:0,max:11,i:1,node:"option",item:function(e){return[r[e],0,"value="+e+(l.month==e?" selected":"")+(l.year==c.year&&e<c.month||l.year==d.year&&e>d.month?" disabled":"")]}}),n.klass.selectMonth,(e?"":"disabled")+" "+i.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+n.labelMonthSelect+'"'):i.node("div",r[l.month],n.klass.month)},m=function(){var r=l.year,o=!0===n.selectYears?5:~~(n.selectYears/2);if(o){var a=c.year,s=d.year,u=r-o,f=r+o;if(a>u&&(f+=a-u,u=a),s<f){var h=u-a,p=f-s;u-=h>p?p:h,f=s}return i.node("select",i.group({min:u,max:f,i:1,node:"option",item:function(e){return[e,0,"value="+e+(r==e?" selected":"")]}}),n.klass.selectYear,(e?"":"disabled")+" "+i.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+n.labelYearSelect+'"')}return i.node("div",r,n.klass.year)};return i.node("div",(n.selectYears?m()+p():p()+m())+h()+h(1),n.klass.header)+i.node("table",f+i.node("tbody",i.group({min:0,max:5,i:1,node:"tr",item:function(e){var r=n.firstDay&&0===t.create([l.year,l.month,1]).day?-7:0;return[i.group({min:7*e-l.day+r+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=t.create([l.year,l.month,e+(n.firstDay?1:0)]);var r=a&&a.pick==e.pick,f=s&&s.pick==e.pick,h=u&&t.disabled(e)||e.pick<c.pick||e.pick>d.pick,p=i.trigger(t.formats.toString,t,[n.format,e]);return[i.node("div",e.date,function(t){return t.push(l.month==e.month?n.klass.infocus:n.klass.outfocus),o.pick==e.pick&&t.push(n.klass.now),r&&t.push(n.klass.selected),f&&t.push(n.klass.highlighted),h&&t.push(n.klass.disabled),t.join(" ")}([n.klass.day]),"data-pick="+e.pick+" "+i.ariaAttr({role:"gridcell",label:p,selected:!(!r||t.$node.val()!==p)||null,activedescendant:!!f||null,disabled:!!h||null})),"",i.ariaAttr({role:"presentation"})]}})]}})),n.klass.table,'id="'+t.$node[0].id+'_table" '+i.ariaAttr({role:"grid",controls:t.$node[0].id,readonly:!0}))+i.node("div",i.node("button",n.today,n.klass.buttonToday,"type=button data-pick="+o.pick+(e&&!t.disabled(o)?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id}))+i.node("button",n.clear,n.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id}))+i.node("button",n.close,n.klass.buttonClose,"type=button data-close=true "+(e?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id})),n.klass.footer)},n.defaults=function(e){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,updateInput:!0,format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today",buttonClose:e+"button--close"}}}(e.klasses().picker+"__"),e.extend("pickadate",n)})),function(e){"function"==typeof define&&define.amd?define(["./picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}((function(e,t){function n(e,t){var n=this,i=e.$node[0].value,r=e.$node.data("value"),o=r||i,a=r?t.formatSubmit:t.format;n.settings=t,n.$node=e.$node,n.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.interval=t.interval||30,n.item.disable=(t.disable||[]).slice(0),n.item.enable=-function(e){return!0===e[0]?e.shift():-1}(n.item.disable),n.set("min",t.min).set("max",t.max).set("now"),o?n.set("select",o,{format:a}):n.set("select",null).set("highlight",n.item.now),n.key={40:1,38:-1,39:1,37:-1,go:function(e){n.set("highlight",n.item.highlight.pick+e*n.item.interval,{interval:e*n.item.interval}),this.render()}},e.on("render",(function(){var n=e.$root.children(),i=n.find("."+t.klass.viewset),r=function(e){return["webkit","moz","ms","o",""].map((function(t){return(t?"-"+t+"-":"")+e}))},o=function(e,t){r("transform").map((function(n){e.css(n,t)})),r("transition").map((function(n){e.css(n,t)}))};i.length&&(o(n,"none"),n[0].scrollTop=~~i.position().top-2*i[0].clientHeight,o(n,""))}),1).on("open",(function(){e.$root.find("button").attr("disabled",!1)}),1).on("close",(function(){e.$root.find("button").attr("disabled",!0)}),1)}var i=60,r=1440,o=e._;n.prototype.set=function(e,t,n){var i=this,r=i.item;return null===t?("clear"==e&&(e="select"),r[e]=t,i):(r["enable"==e?"disable":"flip"==e?"enable":e]=i.queue[e].split(" ").map((function(r){return t=i[r](e,t,n)})).pop(),"select"==e?i.set("highlight",r.select,n):"highlight"==e?i.set("view",r.highlight,n):"interval"==e?i.set("min",r.min,n).set("max",r.max,n):e.match(/^(flip|min|max|disable|enable)$/)&&(r.select&&i.disabled(r.select)&&i.set("select",t,n),r.highlight&&i.disabled(r.highlight)&&i.set("highlight",t,n),"min"==e&&i.set("max",r.max,n)),i)},n.prototype.get=function(e){return this.item[e]},n.prototype.create=function(e,n,a){var s=this;return n=void 0===n?e:n,o.isDate(n)&&(n=[n.getHours(),n.getMinutes()]),t.isPlainObject(n)&&o.isInteger(n.pick)?n=n.pick:t.isArray(n)?n=+n[0]*i+ +n[1]:o.isInteger(n)||(n=s.now(e,n,a)),"max"==e&&n<s.item.min.pick&&(n+=r),"min"!=e&&"max"!=e&&(n-s.item.min.pick)%s.item.interval!=0&&(n+=s.item.interval),{hour:~~(24+(n=s.normalize(e,n,a))/i)%24,mins:(i+n%i)%i,time:(r+n)%r,pick:n%r}},n.prototype.createRange=function(e,n){var i=this,r=function(e){return!0===e||t.isArray(e)||o.isDate(e)?i.create(e):e};return o.isInteger(e)||(e=r(e)),o.isInteger(n)||(n=r(n)),o.isInteger(e)&&t.isPlainObject(n)?e=[n.hour,n.mins+e*i.settings.interval]:o.isInteger(n)&&t.isPlainObject(e)&&(n=[e.hour,e.mins+n*i.settings.interval]),{from:r(e),to:r(n)}},n.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},n.prototype.overlapRanges=function(e,t){var n=this;return e=n.createRange(e.from,e.to),t=n.createRange(t.from,t.to),n.withinRange(e,t.from)||n.withinRange(e,t.to)||n.withinRange(t,e.from)||n.withinRange(t,e.to)},n.prototype.now=function(e,t){var n,r=this.item.interval,a=new Date,s=a.getHours()*i+a.getMinutes();return s-=s%r,n=t<0&&r*t+s<=-r,s+="min"==e&&n?0:r,o.isInteger(t)&&(s+=r*(n&&"max"!=e?t+1:t)),s},n.prototype.normalize=function(e,t){var n=this.item.interval,i=this.item.min&&this.item.min.pick||0;return t-("min"==e?0:(t-i)%n)},n.prototype.measure=function(e,n,i){var r=this;return n||(n="min"==e?[0,0]:[23,59]),"string"==typeof n?n=r.parse(e,n):!0===n||o.isInteger(n)?n=r.now(e,n,i):t.isPlainObject(n)&&o.isInteger(n.pick)&&(n=r.normalize(e,n.pick,i)),n},n.prototype.validate=function(e,t,n){var i=this,r=n&&n.interval?n.interval:i.item.interval;return i.disabled(t)&&(t=i.shift(t,r)),t=i.scope(t),i.disabled(t)&&(t=i.shift(t,-1*r)),t},n.prototype.disabled=function(e){var n=this,i=n.item.disable.filter((function(i){return o.isInteger(i)?e.hour==i:t.isArray(i)||o.isDate(i)?e.pick==n.create(i).pick:t.isPlainObject(i)?n.withinRange(i,e):void 0}));return i=i.length&&!i.filter((function(e){return t.isArray(e)&&"inverted"==e[2]||t.isPlainObject(e)&&e.inverted})).length,-1===n.item.enable?!i:i||e.pick<n.item.min.pick||e.pick>n.item.max.pick},n.prototype.shift=function(e,t){var n=this,i=n.item.min.pick,r=n.item.max.pick;for(t=t||n.item.interval;n.disabled(e)&&!((e=n.create(e.pick+=t)).pick<=i||e.pick>=r););return e},n.prototype.scope=function(e){var t=this.item.min.pick,n=this.item.max.pick;return this.create(e.pick>n?n:e.pick<t?t:e)},n.prototype.parse=function(e,t,n){var r,a,s,l,u,c=this,d={};if(!t||"string"!=typeof t)return t;for(l in n&&n.format||((n=n||{}).format=c.settings.format),c.formats.toArray(n.format).map((function(e){var n,i=c.formats[e],r=i?o.trigger(i,c,[t,d]):e.replace(/^!/,"").length;i&&(n=t.substr(0,r),d[e]=n.match(/^\d+$/)?+n:n),t=t.substr(r)})),d)u=d[l],o.isInteger(u)?l.match(/^(h|hh)$/i)?(r=u,"h"!=l&&"hh"!=l||(r%=12)):"i"==l&&(a=u):l.match(/^a$/i)&&u.match(/^p/i)&&("h"in d||"hh"in d)&&(s=!0);return(s?r+12:r)*i+a},n.prototype.formats={h:function(e,t){return e?o.digits(e):t.hour%12||12},hh:function(e,t){return e?2:o.lead(t.hour%12||12)},H:function(e,t){return e?o.digits(e):""+t.hour%24},HH:function(e,t){return e?o.digits(e):o.lead(t.hour%24)},i:function(e,t){return e?2:o.lead(t.mins)},a:function(e,t){return e?4:720>t.time%r?"a.m.":"p.m."},A:function(e,t){return e?2:720>t.time%r?"AM":"PM"},toArray:function(e){return e.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map((function(e){return o.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")})).join("")}},n.prototype.isTimeExact=function(e,n){var i=this;return o.isInteger(e)&&o.isInteger(n)||"boolean"==typeof e&&"boolean"==typeof n?e===n:(o.isDate(e)||t.isArray(e))&&(o.isDate(n)||t.isArray(n))?i.create(e).pick===i.create(n).pick:!(!t.isPlainObject(e)||!t.isPlainObject(n))&&i.isTimeExact(e.from,n.from)&&i.isTimeExact(e.to,n.to)},n.prototype.isTimeOverlap=function(e,n){var i=this;return o.isInteger(e)&&(o.isDate(n)||t.isArray(n))?e===i.create(n).hour:o.isInteger(n)&&(o.isDate(e)||t.isArray(e))?n===i.create(e).hour:!(!t.isPlainObject(e)||!t.isPlainObject(n))&&i.overlapRanges(e,n)},n.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},n.prototype.deactivate=function(e,n){var i=this,r=i.item.disable.slice(0);return"flip"==n?i.flipEnable():!1===n?(i.flipEnable(1),r=[]):!0===n?(i.flipEnable(-1),r=[]):n.map((function(e){for(var n,a=0;a<r.length;a+=1)if(i.isTimeExact(e,r[a])){n=!0;break}n||(o.isInteger(e)||o.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&r.push(e)})),r},n.prototype.activate=function(e,n){var i=this,r=i.item.disable,a=r.length;return"flip"==n?i.flipEnable():!0===n?(i.flipEnable(1),r=[]):!1===n?(i.flipEnable(-1),r=[]):n.map((function(e){var n,s,l,u;for(l=0;l<a;l+=1){if(s=r[l],i.isTimeExact(s,e)){n=r[l]=null,u=!0;break}if(i.isTimeOverlap(s,e)){t.isPlainObject(e)?(e.inverted=!0,n=e):t.isArray(e)?(n=e)[2]||n.push("inverted"):o.isDate(e)&&(n=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(n)for(l=0;l<a;l+=1)if(i.isTimeExact(r[l],e)){r[l]=null;break}if(u)for(l=0;l<a;l+=1)if(i.isTimeOverlap(r[l],e)){r[l]=null;break}n&&r.push(n)})),r.filter((function(e){return null!=e}))},n.prototype.i=function(e,t){return o.isInteger(t)&&t>0?t:this.item.interval},n.prototype.nodes=function(e){var t=this,n=t.settings,i=t.item.select,r=t.item.highlight,a=t.item.view,s=t.item.disable;return o.node("ul",o.group({min:t.item.min.pick,max:t.item.max.pick,i:t.item.interval,node:"li",item:function(e){var l=(e=t.create(e)).pick,u=i&&i.pick==l,c=r&&r.pick==l,d=s&&t.disabled(e),f=o.trigger(t.formats.toString,t,[n.format,e]);return[o.trigger(t.formats.toString,t,[o.trigger(n.formatLabel,t,[e])||n.format,e]),function(e){return u&&e.push(n.klass.selected),c&&e.push(n.klass.highlighted),a&&a.pick==l&&e.push(n.klass.viewset),d&&e.push(n.klass.disabled),e.join(" ")}([n.klass.listItem]),"data-pick="+e.pick+" "+o.ariaAttr({role:"option",label:f,selected:!(!u||t.$node.val()!==f)||null,activedescendant:!!c||null,disabled:!!d||null})]}}),n.klass.list,o.ariaAttr({role:"listbox",controls:t.$node[0].id}))+o.node("div",o.node("button",n.clear,n.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+o.ariaAttr({controls:t.$node[0].id})),"",o.ariaAttr({role:"presentation"}))},n.defaults=function(e){return{clear:"Clear",format:"h:i A",interval:30,closeOnSelect:!0,closeOnClear:!0,updateInput:!0,klass:{picker:e+" "+e+"--time",holder:e+"__holder",list:e+"__list",listItem:e+"__list-item",disabled:e+"__list-item--disabled",selected:e+"__list-item--selected",highlighted:e+"__list-item--highlighted",viewset:e+"__list-item--viewset",now:e+"__list-item--now",buttonClear:e+"__button--clear"}}}(e.klasses().picker),e.extend("pickatime",n)})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(o(e,t))return;return 1}function s(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){for(var n=[],i=0;i<e.length;++i)n.push(t(e[i],i));return n}function d(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,i){return Tt(e,t,n,i,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var n=h(e),i=t.call(n.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidEra&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&i);if(e._strict&&(r=r&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=f(NaN);return null!=e?d(h(t),e):h(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var g=n.momentProperties=[],v=!1;function y(e,t){var n,i,r;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=h(t)),s(t._locale)||(e._locale=t._locale),0<g.length)for(n=0;n<g.length;n++)s(r=t[i=g[n]])||(e[i]=r);return e}function b(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function _(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function w(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var i=!0;return d((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),i){for(var r,a,s=[],l=0;l<arguments.length;l++){if(r="","object"==typeof arguments[l]){for(a in r+="\n["+l+"] ",arguments[0])o(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[l];s.push(r)}w(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)}),t)}var E,C={};function x(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),C[e]||(w(t),C[e]=!0)}function T(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e,t){var n,i=d({},e);for(n in t)o(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},d(i[n],e[n]),d(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)o(e,n)&&!o(t,n)&&r(e[n])&&(i[n]=d({},i[n]));return i}function k(e){null!=e&&this.set(e)}function O(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};var A=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,D=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,P={},N={};function R(e,t,n,i){var r="string"==typeof i?function(){return this[i]()}:i;e&&(N[e]=r),t&&(N[t[0]]=function(){return O(r.apply(this,arguments),t[1],t[2])}),n&&(N[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function L(e,t){return e.isValid()?(t=F(t,e.localeData()),P[t]=P[t]||function(e){for(var t,n=e.match(A),i=0,r=n.length;i<r;i++)N[n[i]]?n[i]=N[n[i]]:n[i]=(t=n[i]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){for(var i="",o=0;o<r;o++)i+=T(n[o])?n[o].call(t,e):n[o];return i}}(t),P[t](e)):e.localeData().invalidDate()}function F(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(D.lastIndex=0;0<=n&&D.test(e);)e=e.replace(D,i),D.lastIndex=0,--n;return e}var M={};function B(e,t){var n=e.toLowerCase();M[n]=M[n+"s"]=M[t]=e}function V(e){return"string"==typeof e?M[e]||M[e.toLowerCase()]:void 0}function $(e){var t,n,i={};for(n in e)o(e,n)&&(t=V(n))&&(i[t]=e[n]);return i}var j={};function U(e,t){j[e]=t}function z(e){return e%4==0&&e%100!=0||e%400==0}function q(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function H(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=q(t)),n}function G(e,t){return function(i){return null!=i?(Y(this,e,i),n.updateOffset(this,t),this):W(this,e)}}function W(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Y(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&z(e.year())&&1===e.month()&&29===e.date()?(n=H(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ke(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var K,X=/\d/,Z=/\d\d/,Q=/\d{3}/,J=/\d{4}/,ee=/[+-]?\d{6}/,te=/\d\d?/,ne=/\d\d\d\d?/,ie=/\d\d\d\d\d\d?/,re=/\d{1,3}/,oe=/\d{1,4}/,ae=/[+-]?\d{1,6}/,se=/\d+/,le=/[+-]?\d+/,ue=/Z|[+-]\d\d:?\d\d/gi,ce=/Z|[+-]\d\d(?::?\d\d)?/gi,de=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function fe(e,t,n){K[e]=T(t)?t:function(e,i){return e&&n?n:t}}function he(e,t){return o(K,e)?K[e](t._strict,t._locale):new RegExp(pe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r}))))}function pe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}K={};var me={};function ge(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=H(e)}),n=0;n<e.length;n++)me[e[n]]=i}function ve(e,t){ge(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}var ye,be=0,_e=1,we=2,Se=3,Ee=4,Ce=5,xe=6,Te=7,Ie=8;function ke(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1==n?z(e)?29:28:31-n%7%2}ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},R("M",["MM",2],"Mo",(function(){return this.month()+1})),R("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),R("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),B("month","M"),U("month",8),fe("M",te),fe("MM",te,Z),fe("MMM",(function(e,t){return t.monthsShortRegex(e)})),fe("MMMM",(function(e,t){return t.monthsRegex(e)})),ge(["M","MM"],(function(e,t){t[_e]=H(e)-1})),ge(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[_e]=r:h(n).invalidMonth=e}));var Oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ae="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),De=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pe=de,Ne=de;function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=H(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),ke(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Le(e){return null!=e?(Re(this,e),n.updateOffset(this,!0),this):W(this,"Month")}function Fe(){function e(e,t){return t.length-e.length}for(var t,n=[],i=[],r=[],o=0;o<12;o++)t=f([2e3,o]),n.push(this.monthsShort(t,"")),i.push(this.months(t,"")),r.push(this.months(t,"")),r.push(this.monthsShort(t,""));for(n.sort(e),i.sort(e),r.sort(e),o=0;o<12;o++)n[o]=pe(n[o]),i[o]=pe(i[o]);for(o=0;o<24;o++)r[o]=pe(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Me(e){return z(e)?366:365}R("Y",0,0,(function(){var e=this.year();return e<=9999?O(e,4):"+"+e})),R(0,["YY",2],0,(function(){return this.year()%100})),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),B("year","y"),U("year",1),fe("Y",le),fe("YY",te,Z),fe("YYYY",oe,J),fe("YYYYY",ae,ee),fe("YYYYYY",ae,ee),ge(["YYYYY","YYYYYY"],be),ge("YYYY",(function(e,t){t[be]=2===e.length?n.parseTwoDigitYear(e):H(e)})),ge("YY",(function(e,t){t[be]=n.parseTwoDigitYear(e)})),ge("Y",(function(e,t){t[be]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return H(e)+(68<H(e)?1900:2e3)};var Be=G("FullYear",!0);function Ve(e){var t,n;return e<100&&0<=e?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function $e(e,t,n){var i=7+t-n;return i-(7+Ve(e,0,i).getUTCDay()-t)%7-1}function je(e,t,n,i,r){var o,a=1+7*(t-1)+(7+n-i)%7+$e(e,i,r),s=a<=0?Me(o=e-1)+a:a>Me(e)?(o=e+1,a-Me(e)):(o=e,a);return{year:o,dayOfYear:s}}function Ue(e,t,n){var i,r,o=$e(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?i=a+ze(r=e.year()-1,t,n):a>ze(e.year(),t,n)?(i=a-ze(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function ze(e,t,n){var i=$e(e,t,n),r=$e(e+1,t,n);return(Me(e)-i+r)/7}function qe(e,t){return e.slice(t,7).concat(e.slice(0,t))}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),U("week",5),U("isoWeek",5),fe("w",te),fe("ww",te,Z),fe("W",te),fe("WW",te,Z),ve(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=H(e)})),R("d",0,"do","day"),R("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),R("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),R("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),fe("d",te),fe("e",te),fe("E",te),fe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),fe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),fe("dddd",(function(e,t){return t.weekdaysRegex(e)})),ve(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:h(n).invalidWeekday=e})),ve(["d","e","E"],(function(e,t,n,i){t[i]=H(e)}));var He="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ge="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),We="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ye=de,Ke=de,Xe=de;function Ze(){function e(e,t){return t.length-e.length}for(var t,n,i,r,o=[],a=[],s=[],l=[],u=0;u<7;u++)t=f([2e3,1]).day(u),n=pe(this.weekdaysMin(t,"")),i=pe(this.weekdaysShort(t,"")),r=pe(this.weekdays(t,"")),o.push(n),a.push(i),s.push(r),l.push(n),l.push(i),l.push(r);o.sort(e),a.sort(e),s.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Je(e,t){R(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function et(e,t){return t._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Qe),R("k",["kk",2],0,(function(){return this.hours()||24})),R("hmm",0,0,(function(){return""+Qe.apply(this)+O(this.minutes(),2)})),R("hmmss",0,0,(function(){return""+Qe.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),R("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),R("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Je("a",!0),Je("A",!1),B("hour","h"),U("hour",13),fe("a",et),fe("A",et),fe("H",te),fe("h",te),fe("k",te),fe("HH",te,Z),fe("hh",te,Z),fe("kk",te,Z),fe("hmm",ne),fe("hmmss",ie),fe("Hmm",ne),fe("Hmmss",ie),ge(["H","HH"],Se),ge(["k","kk"],(function(e,t,n){var i=H(e);t[Se]=24===i?0:i})),ge(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ge(["h","hh"],(function(e,t,n){t[Se]=H(e),h(n).bigHour=!0})),ge("hmm",(function(e,t,n){var i=e.length-2;t[Se]=H(e.substr(0,i)),t[Ee]=H(e.substr(i)),h(n).bigHour=!0})),ge("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[Se]=H(e.substr(0,i)),t[Ee]=H(e.substr(i,2)),t[Ce]=H(e.substr(r)),h(n).bigHour=!0})),ge("Hmm",(function(e,t,n){var i=e.length-2;t[Se]=H(e.substr(0,i)),t[Ee]=H(e.substr(i))})),ge("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[Se]=H(e.substr(0,i)),t[Ee]=H(e.substr(i,2)),t[Ce]=H(e.substr(r))}));var tt,nt=G("Hours",!0),it={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Oe,monthsShort:Ae,week:{dow:0,doy:6},weekdays:He,weekdaysMin:We,weekdaysShort:Ge,meridiemParse:/[ap]\.?m?\.?/i},rt={},ot={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function st(e){var t;if(void 0===rt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=tt._abbr,require("./locale/"+e),lt(t)}catch(t){rt[e]=null}return rt[e]}function lt(e,t){var n;return e&&((n=s(t)?ct(e):ut(e,t))?tt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),tt._abbr}function ut(e,t){if(null===t)return delete rt[e],null;var n,i=it;if(t.abbr=e,null!=rt[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=rt[e]._config;else if(null!=t.parentLocale)if(null!=rt[t.parentLocale])i=rt[t.parentLocale]._config;else{if(null==(n=st(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;i=n._config}return rt[e]=new k(I(i,t)),ot[e]&&ot[e].forEach((function(e){ut(e.name,e.config)})),lt(e),rt[e]}function ct(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return tt;if(!i(e)){if(t=st(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=at(e[o]).split("-")).length,n=(n=at(e[o+1]))?n.split("-"):null;0<t;){if(i=st(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}(r,n)>=t-1)break;t--}o++}return tt}(e)}function dt(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[_e]<0||11<n[_e]?_e:n[we]<1||n[we]>ke(n[be],n[_e])?we:n[Se]<0||24<n[Se]||24===n[Se]&&(0!==n[Ee]||0!==n[Ce]||0!==n[xe])?Se:n[Ee]<0||59<n[Ee]?Ee:n[Ce]<0||59<n[Ce]?Ce:n[xe]<0||999<n[xe]?xe:-1,h(e)._overflowDayOfYear&&(t<be||we<t)&&(t=we),h(e)._overflowWeeks&&-1===t&&(t=Te),h(e)._overflowWeekday&&-1===t&&(t=Ie),h(e).overflow=t),e}var ft=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/Z|[+-]\d\d(?::?\d\d)?/,mt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vt=/^\/?Date\((-?\d+)/i,yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,bt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function _t(e){var t,n,i,r,o,a,s=e._i,l=ft.exec(s)||ht.exec(s);if(l){for(h(e).iso=!0,t=0,n=mt.length;t<n;t++)if(mt[t][1].exec(l[1])){r=mt[t][0],i=!1!==mt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(l[3])){o=(l[2]||" ")+gt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!pt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),Ct(e)}else e._isValid=!1}function wt(e){var t,n,i,r,o=yt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(o){if(t=function(e,t,n,i,r,o){var a=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Ae.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}(o[4],o[3],o[2],o[5],o[6],o[7]),i=t,r=e,(n=o[1])&&Ge.indexOf(n)!==new Date(i[0],i[1],i[2]).getDay()&&(h(r).weekdayMismatch=!0,!void(r._isValid=!1)))return;e._a=t,e._tzm=function(e,t,n){if(e)return bt[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(o[8],o[9],o[10]),e._d=Ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function St(e,t,n){return null!=e?e:null!=t?t:n}function Et(e){var t,i,r,o,a,s,l,u=[];if(!e._d){for(s=e,l=new Date(n.now()),r=s._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],e._w&&null==e._a[we]&&null==e._a[_e]&&function(e){var t,n,i,r,o,a,s,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=St(t.GG,e._a[be],Ue(It(),1,4).year),i=St(t.W,1),((r=St(t.E,1))<1||7<r)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,u=Ue(It(),o,a),n=St(t.gg,e._a[be],u.year),i=St(t.w,u.week),null!=t.d?((r=t.d)<0||6<r)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||6<t.e)&&(l=!0)):r=o),i<1||i>ze(n,o,a)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=je(n,i,r,o,a),e._a[be]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=St(e._a[be],r[be]),(e._dayOfYear>Me(a)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),i=Ve(a,0,e._dayOfYear),e._a[_e]=i.getUTCMonth(),e._a[we]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=u[t]=r[t];for(;t<7;t++)e._a[t]=u[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Se]&&0===e._a[Ee]&&0===e._a[Ce]&&0===e._a[xe]&&(e._nextDay=!0,e._a[Se]=0),e._d=(e._useUTC?Ve:function(e,t,n,i,r,o,a){var s;return e<100&&0<=e?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}).apply(null,u),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Se]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(h(e).weekdayMismatch=!0)}}function Ct(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],h(e).empty=!0;for(var t,i,r,a,s,l,u,c=""+e._i,d=c.length,f=0,p=F(e._f,e._locale).match(A)||[],m=0;m<p.length;m++)i=p[m],(t=(c.match(he(i,e))||[])[0])&&(0<(r=c.substr(0,c.indexOf(t))).length&&h(e).unusedInput.push(r),c=c.slice(c.indexOf(t)+t.length),f+=t.length),N[i]?(t?h(e).empty=!1:h(e).unusedTokens.push(i),s=i,u=e,null!=(l=t)&&o(me,s)&&me[s](l,u._a,u,s)):e._strict&&!t&&h(e).unusedTokens.push(i);h(e).charsLeftOver=d-f,0<c.length&&h(e).unusedInput.push(c),e._a[Se]<=12&&!0===h(e).bigHour&&0<e._a[Se]&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[Se]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0)),t)}(e._locale,e._a[Se],e._meridiem),null!==(a=h(e).era)&&(e._a[be]=e._locale.erasConvertYear(a,e._a[be])),Et(e),dt(e)}else wt(e);else _t(e)}function xt(e){var t,o,a=e._i,f=e._f;return e._locale=e._locale||ct(e._l),null===a||void 0===f&&""===a?m({nullInput:!0}):("string"==typeof a&&(e._i=a=e._locale.preparse(a)),_(a)?new b(dt(a)):(u(a)?e._d=a:i(f)?function(e){var t,n,i,r,o,a,s=!1;if(0===e._f.length)return h(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)o=0,a=!1,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Ct(t),p(t)&&(a=!0),o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,s?o<i&&(i=o,n=t):(null==i||o<i||a)&&(i=o,n=t,a&&(s=!0));d(e,n||t)}(e):f?Ct(e):s(o=(t=e)._i)?t._d=new Date(n.now()):u(o)?t._d=new Date(o.valueOf()):"string"==typeof o?function(e){var t=vt.exec(e._i);null===t?(_t(e),!1===e._isValid&&(delete e._isValid,wt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(t):i(o)?(t._a=c(o.slice(0),(function(e){return parseInt(e,10)})),Et(t)):r(o)?function(e){var t,n;e._d||(n=void 0===(t=$(e._i)).day?t.date:t.day,e._a=c([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Et(e))}(t):l(o)?t._d=new Date(o):n.createFromInputFallback(t),p(e)||(e._d=null),e))}function Tt(e,t,n,o,s){var l,u={};return!0!==t&&!1!==t||(o=t,t=void 0),!0!==n&&!1!==n||(o=n,n=void 0),(r(e)&&a(e)||i(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=n,u._i=e,u._f=t,u._strict=o,(l=new b(dt(xt(u))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function It(e,t,n,i){return Tt(e,t,n,i,!1)}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var kt=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Ot=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:m()}));function At(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return It();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pt(e){var t=$(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,s=t.day||0,l=t.hour||0,u=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,i=!1;for(t in e)if(o(e,t)&&(-1===ye.call(Dt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Dt.length;++n)if(e[Dt[n]]){if(i)return!1;parseFloat(e[Dt[n]])!==H(e[Dt[n]])&&(i=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*u+1e3*l*60*60,this._days=+s+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=ct(),this._bubble()}function Nt(e){return e instanceof Pt}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Lt(e,t){R(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)}))}Lt("Z",":"),Lt("ZZ",""),fe("Z",ce),fe("ZZ",ce),ge(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Mt(ce,e)}));var Ft=/([\+\-]|\d\d)/gi;function Mt(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(Ft)||["-",0,0])[1]+H(n[2]))?0:"+"===n[0]?i:-i}function Bt(e,t){var i,r;return t._isUTC?(i=t.clone(),r=(_(e)||u(e)?e.valueOf():It(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):It(e).local()}function Vt(e){return-Math.round(e._d.getTimezoneOffset())}function $t(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var jt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ut=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zt(e,t){var n,i,r,a=e,s=null;return Nt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(s=jt.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:H(s[we])*n,h:H(s[Se])*n,m:H(s[Ee])*n,s:H(s[Ce])*n,ms:H(Rt(1e3*s[xe]))*n}):(s=Ut.exec(e))?(n="-"===s[1]?-1:1,a={y:qt(s[2],n),M:qt(s[3],n),w:qt(s[4],n),d:qt(s[5],n),h:qt(s[6],n),m:qt(s[7],n),s:qt(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Bt(t,e),e.isBefore(t)?n=Ht(e,t):((n=Ht(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(It(a.from),It(a.to)),(a={}).ms=r.milliseconds,a.M=r.months),i=new Pt(a),Nt(e)&&o(e,"_locale")&&(i._locale=e._locale),Nt(e)&&o(e,"_isValid")&&(i._isValid=e._isValid),i}function qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ht(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=t-e.clone().add(n.months,"M"),n}function Gt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Wt(this,zt(n,i),e),this}}function Wt(e,t,i,r){var o=t._milliseconds,a=Rt(t._days),s=Rt(t._months);e.isValid()&&(r=null==r||r,s&&Re(e,W(e,"Month")+s*i),a&&Y(e,"Date",W(e,"Date")+a*i),o&&e._d.setTime(e._d.valueOf()+o*i),r&&n.updateOffset(e,a||s))}zt.fn=Pt.prototype,zt.invalid=function(){return zt(NaN)};var Yt=Gt(1,"add"),Kt=Gt(-1,"subtract");function Xt(e){return"string"==typeof e||e instanceof String}function Zt(e,t){if(e.date()<t.date())return-Zt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(1+n,"months")-i)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ct(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Jt=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function en(){return this._locale}var tn=126227808e5;function nn(e,t){return(e%t+t)%t}function rn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-tn:new Date(e,t,n).valueOf()}function on(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-tn:Date.UTC(e,t,n)}function an(e,t){return t.erasAbbrRegex(e)}function sn(){for(var e=[],t=[],n=[],i=[],r=this.eras(),o=0,a=r.length;o<a;++o)t.push(pe(r[o].name)),e.push(pe(r[o].abbr)),n.push(pe(r[o].narrow)),i.push(pe(r[o].name)),i.push(pe(r[o].abbr)),i.push(pe(r[o].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function ln(e,t){R(0,[e,e.length],0,t)}function un(e,t,n,i,r){var o;return null==e?Ue(this,i,r).year:((o=ze(e,i,r))<t&&(t=o),function(e,t,n,i,r){var o=je(e,t,n,i,r),a=Ve(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,i,r))}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),fe("N",an),fe("NN",an),fe("NNN",an),fe("NNNN",(function(e,t){return t.erasNameRegex(e)})),fe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ge(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?h(n).era=r:h(n).invalidEra=e})),fe("y",se),fe("yy",se),fe("yyy",se),fe("yyyy",se),fe("yo",(function(e,t){return t._eraYearOrdinalRegex||se})),ge(["y","yy","yyy","yyyy"],be),ge(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[be]=n._locale.eraYearOrdinalParse(e,r):t[be]=parseInt(e,10)})),R(0,["gg",2],0,(function(){return this.weekYear()%100})),R(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ln("gggg","weekYear"),ln("ggggg","weekYear"),ln("GGGG","isoWeekYear"),ln("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),fe("G",le),fe("g",le),fe("GG",te,Z),fe("gg",te,Z),fe("GGGG",oe,J),fe("gggg",oe,J),fe("GGGGG",ae,ee),fe("ggggg",ae,ee),ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=H(e)})),ve(["gg","GG"],(function(e,t,i,r){t[r]=n.parseTwoDigitYear(e)})),R("Q",0,"Qo","quarter"),B("quarter","Q"),U("quarter",7),fe("Q",X),ge("Q",(function(e,t){t[_e]=3*(H(e)-1)})),R("D",["DD",2],"Do","date"),B("date","D"),U("date",9),fe("D",te),fe("DD",te,Z),fe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ge(["D","DD"],we),ge("Do",(function(e,t){t[we]=H(e.match(te)[0])}));var cn=G("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),U("dayOfYear",4),fe("DDD",re),fe("DDDD",Q),ge(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=H(e)})),R("m",["mm",2],0,"minute"),B("minute","m"),U("minute",14),fe("m",te),fe("mm",te,Z),ge(["m","mm"],Ee);var dn=G("Minutes",!1);R("s",["ss",2],0,"second"),B("second","s"),U("second",15),fe("s",te),fe("ss",te,Z),ge(["s","ss"],Ce);var fn,hn,pn=G("Seconds",!1);for(R("S",0,0,(function(){return~~(this.millisecond()/100)})),R(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),R(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),R(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),R(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),R(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),R(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),B("millisecond","ms"),U("millisecond",16),fe("S",re,X),fe("SS",re,Z),fe("SSS",re,Q),fn="SSSS";fn.length<=9;fn+="S")fe(fn,se);function mn(e,t){t[xe]=H(1e3*("0."+e))}for(fn="S";fn.length<=9;fn+="S")ge(fn,mn);hn=G("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var gn=b.prototype;function vn(e){return e}gn.add=Yt,gn.calendar=function(e,t){1===arguments.length&&(arguments[0]?function(e){return _(e)||u(e)||Xt(e)||l(e)||function(e){var t=i(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Xt(e)})).length),t&&n}(e)||function(e){var t,n=r(e)&&!a(e),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<s.length;t+=1)i=i||o(e,s[t]);return n&&i}(e)||null==e}(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=r(e)&&!a(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s=0;s<i.length;s+=1)n=n||o(e,i[s]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var s=e||It(),c=Bt(s,this).startOf("day"),d=n.calendarFormat(this,c)||"sameElse",f=t&&(T(t[d])?t[d].call(this,s):t[d]);return this.format(f||this.localeData().calendar(d,this,It(s)))},gn.clone=function(){return new b(this)},gn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Bt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=V(t)){case"year":o=Zt(this,i)/12;break;case"month":o=Zt(this,i);break;case"quarter":o=Zt(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:q(o)},gn.endOf=function(e){var t,i;if(void 0===(e=V(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?on:rn,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-nn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-nn(t,1e3)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},gn.format=function(e){var t=L(this,e=e||(this.isUtc()?n.defaultFormatUtc:n.defaultFormat));return this.localeData().postformat(t)},gn.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||It(e).isValid())?zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},gn.fromNow=function(e){return this.from(It(),e)},gn.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||It(e).isValid())?zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},gn.toNow=function(e){return this.to(It(),e)},gn.get=function(e){return T(this[e=V(e)])?this[e]():this},gn.invalidAt=function(){return h(this).overflow},gn.isAfter=function(e,t){var n=_(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},gn.isBefore=function(e,t){var n=_(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},gn.isBetween=function(e,t,n,i){var r=_(e)?e:It(e),o=_(t)?t:It(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},gn.isSame=function(e,t){var n,i=_(e)?e:It(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},gn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},gn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},gn.isValid=function(){return p(this)},gn.lang=Jt,gn.locale=Qt,gn.localeData=en,gn.max=Ot,gn.min=kt,gn.parsingFlags=function(){return d({},h(this))},gn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)o(e,t)&&n.push({unit:t,priority:j[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=$(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(T(this[e=V(e)]))return this[e](t);return this},gn.startOf=function(e){var t,i;if(void 0===(e=V(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?on:rn,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=nn(t,6e4);break;case"second":t=this._d.valueOf(),t-=nn(t,1e3)}return this._d.setTime(t),n.updateOffset(this,!0),this},gn.subtract=Kt,gn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},gn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},gn.toDate=function(){return new Date(this.valueOf())},gn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?L(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",L(n,"Z")):L(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},gn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(gn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),gn.toJSON=function(){return this.isValid()?this.toISOString():null},gn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},gn.unix=function(){return Math.floor(this.valueOf()/1e3)},gn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},gn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},gn.eraName=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},gn.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},gn.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},gn.eraYear=function(){for(var e,t,i=this.localeData().eras(),r=0,o=i.length;r<o;++r)if(e=i[r].since<=i[r].until?1:-1,t=this.clone().startOf("day").valueOf(),i[r].since<=t&&t<=i[r].until||i[r].until<=t&&t<=i[r].since)return(this.year()-n(i[r].since).year())*e+i[r].offset;return this.year()},gn.year=Be,gn.isLeapYear=function(){return z(this.year())},gn.weekYear=function(e){return un.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},gn.isoWeekYear=function(e){return un.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},gn.quarter=gn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},gn.month=Le,gn.daysInMonth=function(){return ke(this.year(),this.month())},gn.week=gn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},gn.isoWeek=gn.isoWeeks=function(e){var t=Ue(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},gn.weeksInYear=function(){var e=this.localeData()._week;return ze(this.year(),e.dow,e.doy)},gn.weeksInWeekYear=function(){var e=this.localeData()._week;return ze(this.weekYear(),e.dow,e.doy)},gn.isoWeeksInYear=function(){return ze(this.year(),1,4)},gn.isoWeeksInISOWeekYear=function(){return ze(this.isoWeekYear(),1,4)},gn.date=cn,gn.day=gn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},gn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},gn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,i=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?i:i-7)},gn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},gn.hour=gn.hours=nt,gn.minute=gn.minutes=dn,gn.second=gn.seconds=pn,gn.millisecond=gn.milliseconds=hn,gn.utcOffset=function(e,t,i){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?o:Vt(this);if("string"==typeof e){if(null===(e=Mt(ce,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(r=Vt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Wt(this,zt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this},gn.utc=function(e){return this.utcOffset(0,e)},gn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),"m")),this},gn.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Mt(ue,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},gn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?It(e).utcOffset():0,(this.utcOffset()-e)%60==0)},gn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},gn.isLocal=function(){return!!this.isValid()&&!this._isUTC},gn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},gn.isUtc=$t,gn.isUTC=$t,gn.zoneAbbr=function(){return this._isUTC?"UTC":""},gn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},gn.dates=S("dates accessor is deprecated. Use date instead.",cn),gn.months=S("months accessor is deprecated. Use month instead",Le),gn.years=S("years accessor is deprecated. Use year instead",Be),gn.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),gn.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e,t={};return y(t,this),(t=xt(t))._a?(e=(t._isUTC?f:It)(t._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0,a=0;a<i;a++)H(e[a])!==H(t[a])&&o++;return o+r}(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted}));var yn=k.prototype;function bn(e,t,n,i){var r=ct(),o=f().set(i,t);return r[n](o,e)}function _n(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return bn(e,t,n,"month");for(var i=[],r=0;r<12;r++)i[r]=bn(e,r,n,"month");return i}function wn(e,t,n,i){"boolean"==typeof e?l(t)&&(n=t,t=void 0):(t=e,e=!1,l(n=t)&&(n=t,t=void 0)),t=t||"";var r,o=ct(),a=e?o._week.dow:0,s=[];if(null!=n)return bn(t,(n+a)%7,i,"day");for(r=0;r<7;r++)s[r]=bn(t,(r+a)%7,i,"day");return s}yn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return T(i)?i.call(t,n):i},yn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(A).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(e){return this._ordinal.replace("%d",e)},yn.preparse=vn,yn.postformat=vn,yn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return T(r)?r(e,t,n,i):r.replace(/%d/i,e)},yn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},yn.set=function(e){var t,n;for(n in e)o(e,n)&&(T(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.eras=function(e,t){for(var i,r=this._eras||ct("en")._eras,o=0,a=r.length;o<a;++o){if("string"==typeof r[o].since)i=n(r[o].since).startOf("day"),r[o].since=i.valueOf();switch(typeof r[o].until){case"undefined":r[o].until=1/0;break;case"string":i=n(r[o].until).startOf("day").valueOf(),r[o].until=i.valueOf()}}return r},yn.erasParse=function(e,t,n){var i,r,o,a,s,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(o=l[i].name.toUpperCase(),a=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[i];break;case"NNNN":if(o===e)return l[i];break;case"NNNNN":if(s===e)return l[i]}else if(0<=[o,a,s].indexOf(e))return l[i]},yn.erasConvertYear=function(e,t){var i=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*i},yn.erasAbbrRegex=function(e){return o(this,"_erasAbbrRegex")||sn.call(this),e?this._erasAbbrRegex:this._erasRegex},yn.erasNameRegex=function(e){return o(this,"_erasNameRegex")||sn.call(this),e?this._erasNameRegex:this._erasRegex},yn.erasNarrowRegex=function(e){return o(this,"_erasNarrowRegex")||sn.call(this),e?this._erasNarrowRegex:this._erasRegex},yn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||De).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},yn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[De.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=ye.call(this._shortMonthsParse,a))?r:null:-1!==(r=ye.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=ye.call(this._shortMonthsParse,a))||-1!==(r=ye.call(this._longMonthsParse,a))?r:null:-1!==(r=ye.call(this._longMonthsParse,a))||-1!==(r=ye.call(this._shortMonthsParse,a))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},yn.monthsRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||Fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Ne),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||Fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Pe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(e){return Ue(e,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?qe(n,this._week.dow):e?n[e.day()]:n},yn.weekdaysMin=function(e){return!0===e?qe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},yn.weekdaysShort=function(e){return!0===e?qe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},yn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=ye.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=ye.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=ye.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=ye.call(this._weekdaysParse,a))||-1!==(r=ye.call(this._shortWeekdaysParse,a))||-1!==(r=ye.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=ye.call(this._shortWeekdaysParse,a))||-1!==(r=ye.call(this._weekdaysParse,a))||-1!==(r=ye.call(this._minWeekdaysParse,a))?r:null:-1!==(r=ye.call(this._minWeekdaysParse,a))||-1!==(r=ye.call(this._weekdaysParse,a))||-1!==(r=ye.call(this._shortWeekdaysParse,a))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},yn.weekdaysRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Ye),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ke),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},yn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},lt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===H(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",lt),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ct);var Sn=Math.abs;function En(e,t,n,i){var r=zt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Cn(e){return e<0?Math.floor(e):Math.ceil(e)}function xn(e){return 4800*e/146097}function Tn(e){return 146097*e/4800}function In(e){return function(){return this.as(e)}}var kn=In("ms"),On=In("s"),An=In("m"),Dn=In("h"),Pn=In("d"),Nn=In("w"),Rn=In("M"),Ln=In("Q"),Fn=In("y");function Mn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bn=Mn("milliseconds"),Vn=Mn("seconds"),$n=Mn("minutes"),jn=Mn("hours"),Un=Mn("days"),zn=Mn("months"),qn=Mn("years"),Hn=Math.round,Gn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};var Wn=Math.abs;function Yn(e){return(0<e)-(e<0)||+e}function Kn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,o,a,s,l=Wn(this._milliseconds)/1e3,u=Wn(this._days),c=Wn(this._months),d=this.asSeconds();return d?(e=q(l/60),t=q(e/60),l%=60,e%=60,n=q(c/12),c%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",o=Yn(this._months)!==Yn(d)?"-":"",a=Yn(this._days)!==Yn(d)?"-":"",s=Yn(this._milliseconds)!==Yn(d)?"-":"",r+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(u?a+u+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+i+"S":"")):"P0D"}var Xn=Pt.prototype;return Xn.isValid=function(){return this._isValid},Xn.abs=function(){var e=this._data;return this._milliseconds=Sn(this._milliseconds),this._days=Sn(this._days),this._months=Sn(this._months),e.milliseconds=Sn(e.milliseconds),e.seconds=Sn(e.seconds),e.minutes=Sn(e.minutes),e.hours=Sn(e.hours),e.months=Sn(e.months),e.years=Sn(e.years),this},Xn.add=function(e,t){return En(this,e,t,1)},Xn.subtract=function(e,t){return En(this,e,t,-1)},Xn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=V(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+xn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Tn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Xn.asMilliseconds=kn,Xn.asSeconds=On,Xn.asMinutes=An,Xn.asHours=Dn,Xn.asDays=Pn,Xn.asWeeks=Nn,Xn.asMonths=Rn,Xn.asQuarters=Ln,Xn.asYears=Fn,Xn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*H(this._months/12):NaN},Xn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*Cn(Tn(s)+a),s=a=0),l.milliseconds=o%1e3,e=q(o/1e3),l.seconds=e%60,t=q(e/60),l.minutes=t%60,n=q(t/60),l.hours=n%24,a+=q(n/24),s+=r=q(xn(a)),a-=Cn(Tn(r)),i=q(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Xn.clone=function(){return zt(this)},Xn.get=function(e){return e=V(e),this.isValid()?this[e+"s"]():NaN},Xn.milliseconds=Bn,Xn.seconds=Vn,Xn.minutes=$n,Xn.hours=jn,Xn.days=Un,Xn.weeks=function(){return q(this.days()/7)},Xn.months=zn,Xn.years=qn,Xn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=Gn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(o=Object.assign({},Gn,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),i=function(e,t,n,i){var r=zt(e).abs(),o=Hn(r.as("s")),a=Hn(r.as("m")),s=Hn(r.as("h")),l=Hn(r.as("d")),u=Hn(r.as("M")),c=Hn(r.as("w")),d=Hn(r.as("y")),f=(o<=n.ss?["s",o]:o<n.s&&["ss",o])||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(f=f||c<=1&&["w"]||c<n.w&&["ww",c]),(f=f||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=t,f[3]=0<+e,f[4]=i,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,f)}(this,!r,o,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},Xn.toISOString=Kn,Xn.toString=Kn,Xn.toJSON=Kn,Xn.locale=Qt,Xn.localeData=en,Xn.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kn),Xn.lang=Jt,R("X",0,0,"unix"),R("x",0,0,"valueOf"),fe("x",le),fe("X",/[+-]?\d+(\.\d{1,3})?/),ge("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ge("x",(function(e,t,n){n._d=new Date(H(e))})),n.version="2.29.1",e=It,n.fn=gn,n.min=function(){return At("isBefore",[].slice.call(arguments,0))},n.max=function(){return At("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=f,n.unix=function(e){return It(1e3*e)},n.months=function(e,t){return _n(e,t,"months")},n.isDate=u,n.locale=lt,n.invalid=m,n.duration=zt,n.isMoment=_,n.weekdays=function(e,t,n){return wn(e,t,n,"weekdays")},n.parseZone=function(){return It.apply(null,arguments).parseZone()},n.localeData=ct,n.isDuration=Nt,n.monthsShort=function(e,t){return _n(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return wn(e,t,n,"weekdaysMin")},n.defineLocale=ut,n.updateLocale=function(e,t){var n,i,r;return null!=t?(r=it,null!=rt[e]&&null!=rt[e].parentLocale?rt[e].set(I(rt[e]._config,t)):(null!=(i=st(e))&&(r=i._config),t=I(r,t),null==i&&(t.abbr=e),(n=new k(t)).parentLocale=rt[e],rt[e]=n),lt(e)):null!=rt[e]&&(null!=rt[e].parentLocale?(rt[e]=rt[e].parentLocale,e===lt()&&lt(e)):null!=rt[e]&&delete rt[e]),rt[e]},n.locales=function(){return E(rt)},n.weekdaysShort=function(e,t,n){return wn(e,t,n,"weekdaysShort")},n.normalizeUnits=V,n.relativeTimeRounding=function(e){return void 0===e?Hn:"function"==typeof e&&(Hn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Gn[e]&&(void 0===t?Gn[e]:(Gn[e]=t,"s"===e&&(Gn.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=gn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}((function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var n,i,r,o,a,s,l,u,c,d,f,h,p,m,g,v;function y(e,t){return p.call(e,t)}function b(e,t){var n,i,r,o,a,s,l,u,c,d,h,p=t&&t.split("/"),m=f.map,v=m&&m["*"]||{};if(e){for(a=(e=e.split("/")).length-1,f.nodeIdCompat&&g.test(e[a])&&(e[a]=e[a].replace(g,"")),"."===e[0].charAt(0)&&p&&(e=p.slice(0,p.length-1).concat(e)),c=0;c<e.length;c++)if("."===(h=e[c]))e.splice(c,1),c-=1;else if(".."===h){if(0===c||1===c&&".."===e[2]||".."===e[c-1])continue;0<c&&(e.splice(c-1,2),c-=2)}e=e.join("/")}if((p||v)&&m){for(c=(n=e.split("/")).length;0<c;c-=1){if(i=n.slice(0,c).join("/"),p)for(d=p.length;0<d;d-=1)if(r=(r=m[p.slice(0,d).join("/")])&&r[i]){o=r,s=c;break}if(o)break;!l&&v&&v[i]&&(l=v[i],u=c)}!o&&l&&(o=l,s=u),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function _(e,t){return function(){var n=m.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),s.apply(o,n.concat([e,t]))}}function w(e){return function(t){c[e]=t}}function S(e){if(y(d,e)){var t=d[e];delete d[e],h[e]=!0,a.apply(o,t)}if(!y(c,e)&&!y(h,e))throw new Error("No "+e);return c[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function C(e){return e?E(e):[]}return t&&t.requirejs||(t?i=t:t={},c={},d={},f={},h={},p=Object.prototype.hasOwnProperty,m=[].slice,g=/\.js$/,l=function(e,t){var n,i=E(e),r=i[0],o=t[1];return e=i[1],r&&(n=S(r=b(r,o))),r?e=n&&n.normalize?n.normalize(e,function(e){return function(t){return b(t,e)}}(o)):b(e,o):(r=(i=E(e=b(e,o)))[0],e=i[1],r&&(n=S(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},u={require:function(e){return _(e)},exports:function(e){var t=c[e];return void 0!==t?t:c[e]={}},module:function(e){return{id:e,uri:"",exports:c[e],config:function(e){return function(){return f&&f.config&&f.config[e]||{}}}(e)}}},a=function(e,t,n,i){var r,a,s,f,p,m,g,v=[],b=typeof n;if(m=C(i=i||e),"undefined"==b||"function"==b){for(t=!t.length&&n.length?["require","exports","module"]:t,p=0;p<t.length;p+=1)if("require"===(a=(f=l(t[p],m)).f))v[p]=u.require(e);else if("exports"===a)v[p]=u.exports(e),g=!0;else if("module"===a)r=v[p]=u.module(e);else if(y(c,a)||y(d,a)||y(h,a))v[p]=S(a);else{if(!f.p)throw new Error(e+" missing "+a);f.p.load(f.n,_(i,!0),w(a),{}),v[p]=c[a]}s=n?n.apply(c[e],v):void 0,e&&(r&&r.exports!==o&&r.exports!==c[e]?c[e]=r.exports:s===o&&g||(c[e]=s))}else e&&(c[e]=n)},n=i=s=function(e,t,n,i,r){if("string"==typeof e)return u[e]?u[e](t):S(l(e,C(t)).f);if(!e.splice){if((f=e).deps&&s(f.deps,f.callback),!t)return;t.splice?(e=t,t=n,n=null):e=o}return t=t||function(){},"function"==typeof n&&(n=i,i=r),i?a(o,e,t,n):setTimeout((function(){a(o,e,t,n)}),4),s},s.config=function(e){return s(e)},n._defined=c,(r=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),y(c,e)||y(d,e)||(d[e]=[e,t,n])}).amd={jQuery:!0},t.requirejs=n,t.require=i,t.define=r),t.define("almond",(function(){})),t.define("jquery",[],(function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t})),t.define("select2/utils",["jquery"],(function(e){var t={};function n(e){var t=e.prototype,n=[];for(var i in t)"function"==typeof t[i]&&"constructor"!==i&&n.push(i);return n}function i(){this.listeners={}}t.Extend=function(e,t){var n={}.hasOwnProperty;function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},t.Decorate=function(e,t){var i=n(t),r=n(e);function o(){var n=Array.prototype.unshift,i=t.prototype.constructor.length,r=e.prototype.constructor;0<i&&(n.call(arguments,e.prototype.constructor),r=t.prototype.constructor),r.apply(this,arguments)}t.displayName=e.displayName,o.prototype=new function(){this.constructor=o};for(var a=0;a<r.length;a++){var s=r[a];o.prototype[s]=e.prototype[s]}function l(e){var n=function(){};e in o.prototype&&(n=o.prototype[e]);var i=t.prototype[e];return function(){return Array.prototype.unshift.call(arguments,n),i.apply(this,arguments)}}for(var u=0;u<i.length;u++){var c=i[u];o.prototype[c]=l(c)}return o},i.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},i.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},t.Observable=i,t.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=e[t]),i=i[o]}delete e[t]}}return e},t.hasScroll=function(t,n){var i=e(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth)},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,(function(e){return t[e]}))},t.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var i=e();e.map(n,(function(e){i=i.add(e)})),n=i}t.append(n)},t.__cache={};var r=0;return t.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++r),t=r.toString())),t},t.StoreData=function(e,n,i){var r=t.GetUniqueElementId(e);t.__cache[r]||(t.__cache[r]={}),t.__cache[r][n]=i},t.GetData=function(n,i){var r=t.GetUniqueElementId(n);return i?t.__cache[r]&&null!=t.__cache[r][i]?t.__cache[r][i]:e(n).data(i):t.__cache[r]},t.RemoveData=function(e){var n=t.GetUniqueElementId(e);null!=t.__cache[n]&&delete t.__cache[n],e.removeAttribute("data-select2-id")},t})),t.define("select2/results",["jquery","./utils"],(function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);i.append(n(r(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],r=this.option(i);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current((function(i){var r=e.map(i,(function(e){return e.id.toString()}));n.$results.find(".select2-results__option[aria-selected]").each((function(){var n=e(this),i=t.GetData(this,"data"),o=""+i.id;null!=i.element&&i.element.selected||null==i.element&&-1<e.inArray(o,r)?n.attr("aria-selected","true"):n.attr("aria-selected","false")}))}))},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var i=document.createElement("li");i.className="select2-results__option";var r={role:"option","aria-selected":"false"},o=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var a in(null!=n.element&&o.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==n.id&&delete r["aria-selected"],null!=n._resultId&&(i.id=n._resultId),n.title&&(i.title=n.title),n.children&&(r.role="group",r["aria-label"]=n.text,delete r["aria-selected"]),r){var s=r[a];i.setAttribute(a,s)}if(n.children){var l=e(i),u=document.createElement("strong");u.className="select2-results__group",e(u),this.template(n,u);for(var c=[],d=0;d<n.children.length;d++){var f=n.children[d],h=this.option(f);c.push(h)}var p=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});p.append(c),l.append(u),l.append(p)}else this.template(n,i);return t.StoreData(i,"data",n),i},n.prototype.bind=function(n,i){var r=this,o=n.id+"-results";this.$results.attr("id",o),n.on("results:all",(function(e){r.clear(),r.append(e.data),n.isOpen()&&(r.setClasses(),r.highlightFirstItem())})),n.on("results:append",(function(e){r.append(e.data),n.isOpen()&&r.setClasses()})),n.on("query",(function(e){r.hideMessages(),r.showLoading(e)})),n.on("select",(function(){n.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())})),n.on("unselect",(function(){n.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())})),n.on("open",(function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()})),n.on("close",(function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")})),n.on("results:toggle",(function(){var e=r.getHighlightedResults();0!==e.length&&e.trigger("mouseup")})),n.on("results:select",(function(){var e=r.getHighlightedResults();if(0!==e.length){var n=t.GetData(e[0],"data");"true"==e.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:n})}})),n.on("results:previous",(function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),n=t.index(e);if(!(n<=0)){var i=n-1;0===e.length&&(i=0);var o=t.eq(i);o.trigger("mouseenter");var a=r.$results.offset().top,s=o.offset().top,l=r.$results.scrollTop()+(s-a);0===i?r.$results.scrollTop(0):s-a<0&&r.$results.scrollTop(l)}})),n.on("results:next",(function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var i=t.eq(n);i.trigger("mouseenter");var o=r.$results.offset().top+r.$results.outerHeight(!1),a=i.offset().top+i.outerHeight(!1),s=r.$results.scrollTop()+a-o;0===n?r.$results.scrollTop(0):o<a&&r.$results.scrollTop(s)}})),n.on("results:focus",(function(e){e.element.addClass("select2-results__option--highlighted")})),n.on("results:message",(function(e){r.displayMessage(e)})),e.fn.mousewheel&&this.$results.on("mousewheel",(function(e){var t=r.$results.scrollTop(),n=r.$results.get(0).scrollHeight-t+e.deltaY,i=0<e.deltaY&&t-e.deltaY<=0,o=e.deltaY<0&&n<=r.$results.height();i?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())})),this.$results.on("mouseup",".select2-results__option[aria-selected]",(function(n){var i=e(this),o=t.GetData(this,"data");"true"!==i.attr("aria-selected")?r.trigger("select",{originalEvent:n,data:o}):r.options.get("multiple")?r.trigger("unselect",{originalEvent:n,data:o}):r.trigger("close",{})})),this.$results.on("mouseenter",".select2-results__option[aria-selected]",(function(n){var i=t.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:i,element:e(this)})}))},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,i=e.offset().top,r=this.$results.scrollTop()+(i-n),o=i-n;r-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(r)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(t,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):e(n).append(o)},n})),t.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),t.define("select2/selection/base",["jquery","../utils","../keys"],(function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var n=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n},i.prototype.bind=function(e,t){var i=this,r=e.id+"-results";this.container=e,this.$selection.on("focus",(function(e){i.trigger("focus",e)})),this.$selection.on("blur",(function(e){i._handleBlur(e)})),this.$selection.on("keydown",(function(e){i.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()})),e.on("results:focus",(function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)})),e.on("selection:update",(function(e){i.update(e.data)})),e.on("open",(function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",r),i._attachCloseHandler(e)})),e.on("close",(function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(e)})),e.on("enable",(function(){i.$selection.attr("tabindex",i._tabindex),i.$selection.attr("aria-disabled","false")})),e.on("disable",(function(){i.$selection.attr("tabindex","-1"),i.$selection.attr("aria-disabled","true")}))},i.prototype._handleBlur=function(t){var n=this;window.setTimeout((function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)}),1)},i.prototype._attachCloseHandler=function(n){e(document.body).on("mousedown.select2."+n.id,(function(n){var i=e(n.target).closest(".select2");e(".select2.select2-container--open").each((function(){this!=i[0]&&t.GetData(this,"element").select2("close")}))}))},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){t.find(".selection").append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i.prototype.isEnabled=function(){return!this.isDisabled()},i.prototype.isDisabled=function(){return this.options.get("disabled")},i})),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(e,t,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var n=this;r.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",(function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})})),this.$selection.on("focus",(function(e){})),this.$selection.on("blur",(function(e){})),e.on("focus",(function(t){e.isOpen()||n.$selection.trigger("focus")}))},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i);var r=t.title||t.text;r?n.attr("title",r):n.removeAttr("title")}else this.clear()},r})),t.define("select2/selection/multiple",["jquery","./base","../utils"],(function(e,t,n){function i(e,t){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(t,r){var o=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",(function(e){o.trigger("toggle",{originalEvent:e})})),this.$selection.on("click",".select2-selection__choice__remove",(function(t){if(!o.isDisabled()){var i=e(this).parent(),r=n.GetData(i[0],"data");o.trigger("unselect",{originalEvent:t,data:r})}}))},i.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var r=e[i],o=this.selectionContainer(),a=this.display(r,o);o.append(a);var s=r.title||r.text;s&&o.attr("title",s),n.StoreData(o[0],"data",r),t.push(o)}var l=this.$selection.find(".select2-selection__rendered");n.appendMany(l,t)}},i})),t.define("select2/selection/placeholder",["../utils"],(function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t})),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],(function(e,t,n){function i(){}return i.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(e){i._handleClear(e)})),t.on("keypress",(function(e){i._handleKeyboardClear(e,t)}))},i.prototype._handleClear=function(e,t){if(!this.isDisabled()){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){t.stopPropagation();var r=n.GetData(i[0],"data"),o=this.$element.val();this.$element.val(this.placeholder.id);var a={data:r};if(this.trigger("clear",a),a.prevented)this.$element.val(o);else{for(var s=0;s<r.length;s++)if(a={data:r[s]},this.trigger("unselect",a),a.prevented)return void this.$element.val(o);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},i.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},i.prototype.update=function(t,i){if(t.call(this,i),!(0<this.$selection.find(".select2-selection__placeholder").length||0===i.length)){var r=this.options.get("translations").get("removeAllItems"),o=e('<span class="select2-selection__clear" title="'+r()+'">&times;</span>');n.StoreData(o[0],"data",i),this.$selection.find(".select2-selection__rendered").prepend(o)}},i})),t.define("select2/selection/search",["jquery","../utils","../keys"],(function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=t.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(e,i,r){var o=this,a=i.id+"-results";e.call(this,i,r),i.on("open",(function(){o.$search.attr("aria-controls",a),o.$search.trigger("focus")})),i.on("close",(function(){o.$search.val(""),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")})),i.on("enable",(function(){o.$search.prop("disabled",!1),o._transferTabIndex()})),i.on("disable",(function(){o.$search.prop("disabled",!0)})),i.on("focus",(function(e){o.$search.trigger("focus")})),i.on("results:focus",(function(e){e.data._resultId?o.$search.attr("aria-activedescendant",e.data._resultId):o.$search.removeAttr("aria-activedescendant")})),this.$selection.on("focusin",".select2-search--inline",(function(e){o.trigger("focus",e)})),this.$selection.on("focusout",".select2-search--inline",(function(e){o._handleBlur(e)})),this.$selection.on("keydown",".select2-search--inline",(function(e){if(e.stopPropagation(),o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===o.$search.val()){var i=o.$searchContainer.prev(".select2-selection__choice");if(0<i.length){var r=t.GetData(i[0],"data");o.searchRemoveChoice(r),e.preventDefault()}}})),this.$selection.on("click",".select2-search--inline",(function(e){o.$search.val()&&e.stopPropagation()}));var s=document.documentMode,l=s&&s<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(e){l?o.$selection.off("input.search input.searchcheck"):o.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(e){if(l&&"input"===e.type)o.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&o.handleSearch(e)}}))},i.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},i})),t.define("select2/selection/eventRelay",["jquery"],(function(e){function t(){}return t.prototype.bind=function(t,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];t.call(this,n,i),n.on("*",(function(t,n){if(-1!==e.inArray(t,o)){n=n||{};var i=e.Event("select2:"+t,{params:n});r.$element.trigger(i),-1!==e.inArray(t,a)&&(n.prevented=i.isDefaultPrevented())}}))},t})),t.define("select2/translation",["jquery","require"],(function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n})),t.define("select2/diacritics",[],(function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}})),t.define("select2/data/base",["../utils"],(function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return i+=e.generateChars(4),null!=n.id?i+="-"+n.id.toString():i+="-"+e.generateChars(4),i},t})),t.define("select2/data/select",["./base","../utils","jquery"],(function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each((function(){var e=n(this),r=i.item(e);t.push(r)})),e(t)},i.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current((function(i){var r=[];(e=[e]).push.apply(e,i);for(var o=0;o<e.length;o++){var a=e[o].id;-1===n.inArray(a,r)&&r.push(a)}t.$element.val(r),t.$element.trigger("input").trigger("change")}));else{var i=e.id;this.$element.val(i),this.$element.trigger("input").trigger("change")}},i.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,n(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current((function(i){for(var r=[],o=0;o<i.length;o++){var a=i[o].id;a!==e.id&&-1===n.inArray(a,r)&&r.push(a)}t.$element.val(r),t.$element.trigger("input").trigger("change")}))}},i.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",(function(e){n.select(e.data)})),e.on("unselect",(function(e){n.unselect(e.data)}))},i.prototype.destroy=function(){this.$element.find("*").each((function(){t.RemoveData(this)}))},i.prototype.query=function(e,t){var i=[],r=this;this.$element.children().each((function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var o=r.item(t),a=r.matches(e,o);null!==a&&i.push(a)}})),t({results:i})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var i;e.children?(i=document.createElement("optgroup")).label=e.text:void 0!==(i=document.createElement("option")).textContent?i.textContent=e.text:i.innerText=e.text,void 0!==e.id&&(i.value=e.id),e.disabled&&(i.disabled=!0),e.selected&&(i.selected=!0),e.title&&(i.title=e.title);var r=n(i),o=this._normalizeItem(e);return o.element=i,t.StoreData(i,"data",o),r},i.prototype.item=function(e){var i={};if(null!=(i=t.GetData(e[0],"data")))return i;if(e.is("option"))i={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){i={text:e.prop("label"),children:[],title:e.prop("title")};for(var r=e.children("option"),o=[],a=0;a<r.length;a++){var s=n(r[a]),l=this.item(s);o.push(l)}i.children=o}return(i=this._normalizeItem(i)).element=e[0],t.StoreData(e[0],"data",i),i},i.prototype._normalizeItem=function(e){return e!==Object(e)&&(e={id:e,text:e}),null!=(e=n.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},{selected:!1,disabled:!1},e)},i.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},i})),t.define("select2/data/array",["./select","../utils","jquery"],(function(e,t,n){function i(e,t){this._dataToConvert=t.get("data")||[],i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype.bind=function(e,t){i.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(e){var t=this.$element.find("option").filter((function(t,n){return n.value==e.id.toString()}));0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){var i=this,r=this.$element.find("option"),o=r.map((function(){return i.item(n(this)).id})).get(),a=[];function s(e){return function(){return n(this).val()==e.id}}for(var l=0;l<e.length;l++){var u=this._normalizeItem(e[l]);if(0<=n.inArray(u.id,o)){var c=r.filter(s(u)),d=this.item(c),f=n.extend(!0,{},u,d),h=this.option(f);c.replaceWith(h)}else{var p=this.option(u);if(u.children){var m=this.convertToOptions(u.children);t.appendMany(p,m)}a.push(p)}}return a},i})),t.define("select2/data/ajax",["./array","../utils","jquery"],(function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var r=n.ajax(e);return r.then(t),r.fail(i),r}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){var i=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);function o(){var o=r.transport(r,(function(r){var o=i.processResults(r,e);i.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(o)}),(function(){"status"in o&&(0===o.status||"0"===o.status)||i.trigger("results:message",{message:"errorLoading"})}));i._request=o}"function"==typeof r.url&&(r.url=r.url.call(this.$element,e)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(o,this.ajaxOptions.delay)):o()},i})),t.define("select2/data/tags",["jquery"],(function(e){function t(t,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var a=i.get("insertTag");if(void 0!==a&&(this.insertTag=a),t.call(this,n,i),e.isArray(r))for(var s=0;s<r.length;s++){var l=r[s],u=this._normalizeItem(l),c=this.option(u);this.$element.append(c)}}return t.prototype.query=function(e,t,n){var i=this;this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,(function e(r,o){for(var a=r.results,s=0;s<a.length;s++){var l=a[s],u=null!=l.children&&!e({results:l.children},!0);if((l.text||"").toUpperCase()===(t.term||"").toUpperCase()||u)return!o&&(r.data=a,void n(r))}if(o)return!0;var c=i.createTag(t);if(null!=c){var d=i.option(c);d.attr("data-select2-tag",!0),i.addOptions([d]),i.insertTag(a,c)}r.results=a,n(r)})):e.call(this,t,n)},t.prototype.createTag=function(t,n){var i=e.trim(n.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each((function(){this.selected||e(this).remove()}))},t})),t.define("select2/data/tokenizer",["jquery"],(function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,i){var r=this;n.term=n.term||"";var o=this.tokenizer(n,this.options,(function(t){var n=r._normalizeItem(t);if(!r.$element.find("option").filter((function(){return e(this).val()===n.id})).length){var i=r.option(n);i.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([i])}!function(e){r.trigger("select",{data:e})}(n)}));o.term!==n.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.trigger("focus")),n.term=o.term),t.call(this,n,i)},t.prototype.tokenizer=function(t,n,i,r){for(var o=i.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};s<a.length;){var u=a[s];if(-1!==e.inArray(u,o)){var c=a.substr(0,s),d=l(e.extend({},n,{term:c}));null!=d?(r(d),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},t})),t.define("select2/data/minimumInputLength",[],(function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e})),t.define("select2/data/maximumInputLength",[],(function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e})),t.define("select2/data/maximumSelectionLength",[],(function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",(function(){i._checkIfMaximumSelected()}))},e.prototype.query=function(e,t,n){var i=this;this._checkIfMaximumSelected((function(){e.call(i,t,n)}))},e.prototype._checkIfMaximumSelected=function(e,t){var n=this;this.current((function(e){var i=null!=e?e.length:0;0<n.maximumSelectionLength&&i>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):t&&t()}))},e})),t.define("select2/dropdown",["jquery","./utils"],(function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n})),t.define("select2/dropdown/search",["jquery","../utils"],(function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(t,n,i){var r=this,o=n.id+"-results";t.call(this,n,i),this.$search.on("keydown",(function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()})),this.$search.on("input",(function(t){e(this).off("keyup")})),this.$search.on("keyup input",(function(e){r.handleSearch(e)})),n.on("open",(function(){r.$search.attr("tabindex",0),r.$search.attr("aria-controls",o),r.$search.trigger("focus"),window.setTimeout((function(){r.$search.trigger("focus")}),0)})),n.on("close",(function(){r.$search.attr("tabindex",-1),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.val(""),r.$search.trigger("blur")})),n.on("focus",(function(){n.isOpen()||r.$search.trigger("focus")})),n.on("results:all",(function(e){null!=e.query.term&&""!==e.query.term||(r.showSearch(e)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))})),n.on("results:focus",(function(e){e.data._resultId?r.$search.attr("aria-activedescendant",e.data._resultId):r.$search.removeAttr("aria-activedescendant")}))},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n})),t.define("select2/dropdown/hidePlaceholder",[],(function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;0<=i;i--){var r=t[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},e})),t.define("select2/dropdown/infiniteScroll",["jquery"],(function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",(function(e){i.lastParams=e,i.loading=!0})),t.on("query:append",(function(e){i.lastParams=e,i.loading=!0})),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&t){var n=this.$results.offset().top+this.$results.outerHeight(!1);this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=n+50&&this.loadMore()}},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t})),t.define("select2/dropdown/attachBody",["jquery","../utils"],(function(e,t){function n(t,n,i){this.$dropdownParent=e(i.get("dropdownParent")||document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("open",(function(){i._showDropdown(),i._attachPositioningHandler(t),i._bindContainerResultHandlers(t)})),t.on("close",(function(){i._hideDropdown(),i._detachPositioningHandler(t)})),this.$dropdownContainer.on("mousedown",(function(e){e.stopPropagation()}))},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var n=this;t.on("results:all",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("results:append",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("results:message",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("select",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("unselect",(function(){n._positionDropdown(),n._resizeDropdown()})),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each((function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})})),l.on(o,(function(n){var i=t.GetData(this,"select2-scroll-position");e(this).scrollTop(i.y)})),e(window).on(o+" "+a+" "+s,(function(e){r._positionDropdown(),r._resizeDropdown()}))},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,a="orientationchange.select2."+i.id;this.$container.parents().filter(t.hasScroll).off(r),e(window).off(r+" "+o+" "+a)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=o.top,a.bottom=o.top+a.height;var s=this.$dropdown.outerHeight(!1),l=t.scrollTop(),u=t.scrollTop()+t.height(),c=l<o.top-s,d=u>o.bottom+s,f={left:o.left,top:a.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p={top:0,left:0};(e.contains(document.body,h[0])||h[0].isConnected)&&(p=h.offset()),f.top-=p.top,f.left-=p.left,n||i||(r="below"),d||!c||n?!c&&d&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(f.top=a.top-p.top-s),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(f)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n})),t.define("select2/dropdown/minimumResultsForSearch",[],(function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,i=0;i<t.length;i++){var r=t[i];r.children?n+=e(r.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e})),t.define("select2/dropdown/selectOnClose",["../utils"],(function(e){function t(){}return t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",(function(e){i._handleSelectOnClose(e)}))},t.prototype._handleSelectOnClose=function(t,n){if(n&&null!=n.originalSelect2Event){var i=n.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var r=this.getHighlightedResults();if(!(r.length<1)){var o=e.GetData(r[0],"data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t})),t.define("select2/dropdown/closeOnSelect",[],(function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",(function(e){i._selectTriggered(e)})),t.on("unselect",(function(e){i._selectTriggered(e)}))},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e})),t.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}})),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],(function(e,t,n,i,r,o,a,s,l,u,c,d,f,h,p,m,g,v,y,b,_,w,S,E,C,x,T,I,k){function O(){this.reset()}return O.prototype.apply=function(c){if(null==(c=e.extend(!0,{},this.defaults,c)).dataAdapter){if(null!=c.ajax?c.dataAdapter=p:null!=c.data?c.dataAdapter=h:c.dataAdapter=f,0<c.minimumInputLength&&(c.dataAdapter=u.Decorate(c.dataAdapter,v)),0<c.maximumInputLength&&(c.dataAdapter=u.Decorate(c.dataAdapter,y)),0<c.maximumSelectionLength&&(c.dataAdapter=u.Decorate(c.dataAdapter,b)),c.tags&&(c.dataAdapter=u.Decorate(c.dataAdapter,m)),null==c.tokenSeparators&&null==c.tokenizer||(c.dataAdapter=u.Decorate(c.dataAdapter,g)),null!=c.query){var d=t(c.amdBase+"compat/query");c.dataAdapter=u.Decorate(c.dataAdapter,d)}if(null!=c.initSelection){var k=t(c.amdBase+"compat/initSelection");c.dataAdapter=u.Decorate(c.dataAdapter,k)}}if(null==c.resultsAdapter&&(c.resultsAdapter=n,null!=c.ajax&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,E)),null!=c.placeholder&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,S)),c.selectOnClose&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,T))),null==c.dropdownAdapter){if(c.multiple)c.dropdownAdapter=_;else{var O=u.Decorate(_,w);c.dropdownAdapter=O}if(0!==c.minimumResultsForSearch&&(c.dropdownAdapter=u.Decorate(c.dropdownAdapter,x)),c.closeOnSelect&&(c.dropdownAdapter=u.Decorate(c.dropdownAdapter,I)),null!=c.dropdownCssClass||null!=c.dropdownCss||null!=c.adaptDropdownCssClass){var A=t(c.amdBase+"compat/dropdownCss");c.dropdownAdapter=u.Decorate(c.dropdownAdapter,A)}c.dropdownAdapter=u.Decorate(c.dropdownAdapter,C)}if(null==c.selectionAdapter){if(c.multiple?c.selectionAdapter=r:c.selectionAdapter=i,null!=c.placeholder&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,o)),c.allowClear&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,a)),c.multiple&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,s)),null!=c.containerCssClass||null!=c.containerCss||null!=c.adaptContainerCssClass){var D=t(c.amdBase+"compat/containerCss");c.selectionAdapter=u.Decorate(c.selectionAdapter,D)}c.selectionAdapter=u.Decorate(c.selectionAdapter,l)}c.language=this._resolveLanguage(c.language),c.language.push("en");for(var P=[],N=0;N<c.language.length;N++){var R=c.language[N];-1===P.indexOf(R)&&P.push(R)}return c.language=P,c.translations=this._processTranslations(c.language,c.debug),c},O.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,(function(e){return d[e]||e}))}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:{},matcher:function n(i,r){if(""===e.trim(i.term))return r;if(r.children&&0<r.children.length){for(var o=e.extend(!0,{},r),a=r.children.length-1;0<=a;a--)null==n(i,r.children[a])&&o.children.splice(a,1);return 0<o.children.length?o:n(i,o)}var s=t(r.text).toUpperCase(),l=t(i.term).toUpperCase();return-1<s.indexOf(l)?r:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"100%"}},O.prototype.applyFromElement=function(e,t){var n=e.language,i=this.defaults.language,r=t.prop("lang"),o=t.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(r),this._resolveLanguage(n),this._resolveLanguage(i),this._resolveLanguage(o));return e.language=a,e},O.prototype._resolveLanguage=function(t){if(!t)return[];if(e.isEmptyObject(t))return[];if(e.isPlainObject(t))return[t];var n;n=e.isArray(t)?t:[t];for(var i=[],r=0;r<n.length;r++)if(i.push(n[r]),"string"==typeof n[r]&&0<n[r].indexOf("-")){var o=n[r].split("-")[0];i.push(o)}return i},O.prototype._processTranslations=function(t,n){for(var i=new c,r=0;r<t.length;r++){var o=new c,a=t[r];if("string"==typeof a)try{o=c.loadPath(a)}catch(t){try{a=this.defaults.amdLanguageBase+a,o=c.loadPath(a)}catch(t){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+a+'" could not be automatically loaded. A fallback will be used instead.')}}else o=e.isPlainObject(a)?new c(a):a;i.extend(o)}return i},O.prototype.set=function(t,n){var i={};i[e.camelCase(t)]=n;var r=u._convertData(i);e.extend(!0,this.defaults,r)},new O})),t.define("select2/options",["require","jquery","./defaults","./utils"],(function(e,t,n,i){function r(t,r){if(this.options=t,null!=r&&this.fromElement(r),null!=r&&(this.options=n.applyFromElement(this.options,r)),this.options=n.apply(this.options),r&&r.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),i.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),i.StoreData(e[0],"data",i.GetData(e[0],"select2Tags")),i.StoreData(e[0],"tags",!0)),i.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",i.GetData(e[0],"ajaxUrl")),i.StoreData(e[0],"ajax-Url",i.GetData(e[0],"ajaxUrl")));var r={};function o(e,t){return t.toUpperCase()}for(var a=0;a<e[0].attributes.length;a++){var s=e[0].attributes[a].name,l="data-";if(s.substr(0,5)==l){var u=s.substring(5),c=i.GetData(e[0],u);r[u.replace(/-([a-z])/g,o)]=c}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(r=t.extend(!0,{},e[0].dataset,r));var d=t.extend(!0,{},i.GetData(e[0]),r);for(var f in d=i._convertData(d))-1<t.inArray(f,n)||(t.isPlainObject(this.options[f])?t.extend(this.options[f],d[f]):this.options[f]=d[f]);return this},r.prototype.get=function(e){return this.options[e]},r.prototype.set=function(e,t){this.options[e]=t},r})),t.define("select2/core",["jquery","./options","./utils","./keys"],(function(e,t,n,i){var r=function(e,i){null!=n.GetData(e[0],"select2")&&n.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),i=i||{},this.options=new t(i,e),r.__super__.constructor.call(this);var o=e.attr("tabindex")||0;n.StoreData(e[0],"old-tabindex",o),e.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(e,this.options);var s=this.render();this._placeContainer(s);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var u=this.options.get("dropdownAdapter");this.dropdown=new u(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(e){d.trigger("selection:update",{data:e})})),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(e[0],"select2",this),e.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"!=t)return"computedstyle"!=t?t:window.getComputedStyle(e[0]).width;var o=e.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,l=a.length;s<l;s+=1){var u=a[s].replace(/\s/g,"").match(n);if(null!==u&&1<=u.length)return u[1]}return null},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",(function(){e.dataAdapter.current((function(t){e.trigger("selection:update",{data:t})}))})),this.$element.on("focus.select2",(function(t){e.trigger("focus",t)})),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t((function(t){e._syncA(),e._syncS(null,t)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",(function(t,n){e.trigger(t,n)}))},r.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",(function(){t.toggleDropdown()})),this.selection.on("focus",(function(e){t.focus(e)})),this.selection.on("*",(function(i,r){-1===e.inArray(i,n)&&t.trigger(i,r)}))},r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",(function(t,n){e.trigger(t,n)}))},r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",(function(t,n){e.trigger(t,n)}))},r.prototype._registerEvents=function(){var e=this;this.on("open",(function(){e.$container.addClass("select2-container--open")})),this.on("close",(function(){e.$container.removeClass("select2-container--open")})),this.on("enable",(function(){e.$container.removeClass("select2-container--disabled")})),this.on("disable",(function(){e.$container.addClass("select2-container--disabled")})),this.on("blur",(function(){e.$container.removeClass("select2-container--focus")})),this.on("query",(function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,(function(n){e.trigger("results:all",{data:n,query:t})}))})),this.on("query:append",(function(t){this.dataAdapter.query(t,(function(n){e.trigger("results:append",{data:n,query:t})}))})),this.on("keypress",(function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&t.altKey?(e.close(t),t.preventDefault()):n===i.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())}))},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._isChangeMutation=function(t,n){var i=!1,r=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(n)if(n.addedNodes&&0<n.addedNodes.length)for(var o=0;o<n.addedNodes.length;o++)n.addedNodes[o].selected&&(i=!0);else n.removedNodes&&0<n.removedNodes.length?i=!0:e.isArray(n)&&e.each(n,(function(e,t){if(r._isChangeMutation(e,t))return!(i=!0)}));else i=!0;return i}},r.prototype._syncSubtree=function(e,t){var n=this._isChangeMutation(e,t),i=this;n&&this.dataAdapter.current((function(e){i.trigger("selection:update",{data:e})}))},r.prototype.trigger=function(e,t){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in i){var o=i[e],a={prevented:!1,name:e,args:t};if(n.call(this,o,a),a.prevented)return void(t.prevented=!0)}n.call(this,e,t)},r.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},r.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},r.prototype.isEnabled=function(){return!this.isDisabled()},r.prototype.isDisabled=function(){return this.options.get("disabled")},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},r.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current((function(t){e=t})),e},r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,(function(e){return e.toString()}))),this.$element.val(n).trigger("input").trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(t[0],"element",this.$element),t},r})),t.define("select2/compat/utils",["jquery"],(function(e){return{syncCssClasses:function(t,n,i){var r,o,a=[];(r=e.trim(t.attr("class")))&&e((r=""+r).split(/\s+/)).each((function(){0===this.indexOf("select2-")&&a.push(this)})),(r=e.trim(n.attr("class")))&&e((r=""+r).split(/\s+/)).each((function(){0!==this.indexOf("select2-")&&null!=(o=i(this))&&a.push(o)})),t.attr("class",a.join(" "))}}})),t.define("select2/compat/containerCss",["jquery","./utils"],(function(e,t){function n(e){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("containerCssClass")||"";e.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptContainerCssClass");if(a=a||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(r,this.$element,a),r.css(l),r.addClass(o),r},i})),t.define("select2/compat/dropdownCss",["jquery","./utils"],(function(e,t){function n(e){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("dropdownCssClass")||"";e.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptDropdownCssClass");if(a=a||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(r,this.$element,a),r.css(l),r.addClass(o),r},i})),t.define("select2/compat/initSelection",["jquery"],(function(e){function t(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return t.prototype.current=function(t,n){var i=this;this._isInitialized?t.call(this,n):this.initSelection.call(null,this.$element,(function(t){i._isInitialized=!0,e.isArray(t)||(t=[t]),n(t)}))},t})),t.define("select2/compat/inputData",["jquery","../utils"],(function(e,t){function n(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return n.prototype.current=function(t,n){function i(t,n){var r=[];return t.selected||-1!==e.inArray(t.id,n)?(t.selected=!0,r.push(t)):t.selected=!1,t.children&&r.push.apply(r,i(t.children,n)),r}for(var r=[],o=0;o<this._currentData.length;o++){var a=this._currentData[o];r.push.apply(r,i(a,this.$element.val().split(this._valueSeparator)))}n(r)},n.prototype.select=function(t,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("input").trigger("change")}else this.current((function(t){e.map(t,(function(e){e.selected=!1}))})),this.$element.val(n.id),this.$element.trigger("input").trigger("change")},n.prototype.unselect=function(e,t){var n=this;t.selected=!1,this.current((function(e){for(var i=[],r=0;r<e.length;r++){var o=e[r];t.id!=o.id&&i.push(o.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("input").trigger("change")}))},n.prototype.query=function(e,t,n){for(var i=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r],a=this.matches(t,o);null!==a&&i.push(a)}n({results:i})},n.prototype.addOptions=function(n,i){var r=e.map(i,(function(e){return t.GetData(e[0],"data")}));this._currentData.push.apply(this._currentData,r)},n})),t.define("select2/compat/matcher",["jquery"],(function(e){return function(t){return function(n,i){var r=e.extend(!0,{},i);if(null==n.term||""===e.trim(n.term))return r;if(i.children){for(var o=i.children.length-1;0<=o;o--){var a=i.children[o];t(n.term,a.text,a)||r.children.splice(o,1)}if(0<r.children.length)return r}return t(n.term,i.text,i)?r:null}}})),t.define("select2/compat/query",[],(function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n,this.options.get("query").call(null,t)},e})),t.define("select2/dropdown/attachContainer",[],(function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){n.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e})),t.define("select2/dropdown/stopPropagation",[],(function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),(function(e){e.stopPropagation()}))},e})),t.define("select2/selection/stopPropagation",[],(function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),(function(e){e.stopPropagation()}))},e})),v=function(e){var t,n,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(e.event.fixHooks)for(var a=i.length;a;)e.event.fixHooks[i[--a]]=e.event.mouseHooks;var s=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",s.getLineHeight(this)),e.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(i){var r,a=i||window.event,l=o.call(arguments,1),d=0,f=0,h=0,p=0,m=0;if((i=e.event.fix(a)).type="mousewheel","detail"in a&&(h=-1*a.detail),"wheelDelta"in a&&(h=a.wheelDelta),"wheelDeltaY"in a&&(h=a.wheelDeltaY),"wheelDeltaX"in a&&(f=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(f=-1*h,h=0),d=0===h?f:h,"deltaY"in a&&(d=h=-1*a.deltaY),"deltaX"in a&&(f=a.deltaX,0===h&&(d=-1*f)),0!==h||0!==f){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");d*=g,h*=g,f*=g}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");d*=v,h*=v,f*=v}if(r=Math.max(Math.abs(h),Math.abs(f)),(!n||r<n)&&c(a,n=r)&&(n/=40),c(a,r)&&(d/=40,f/=40,h/=40),d=Math[1<=d?"floor":"ceil"](d/n),f=Math[1<=f?"floor":"ceil"](f/n),h=Math[1<=h?"floor":"ceil"](h/n),s.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=i.clientX-y.left,m=i.clientY-y.top}return i.deltaX=f,i.deltaY=h,i.deltaFactor=n,i.offsetX=p,i.offsetY=m,i.deltaMode=0,l.unshift(i,d,f,h),t&&clearTimeout(t),t=setTimeout(u,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function u(){n=null}function c(e,t){return s.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],v):"object"==typeof exports?module.exports=v:v(e),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],(function(e,t,n,i,r){if(null==e.fn.select2){var o=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each((function(){var i=e.extend(!0,{},t);new n(e(this),i)})),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);var i,a=Array.prototype.slice.call(arguments,1);return this.each((function(){var e=r.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),i=e[t].apply(e,a)})),-1<e.inArray(t,o)?this:i}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n})),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n})),function(e,t){"function"==typeof define&&define.amd?define("pnotify",["jquery"],(function(n){return t(n,e)})):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),global||e):e.PNotify=t(e.jQuery,e)}("undefined"!=typeof window?window:this,(function(e,t){var n=function(t){var i,r,o={dir1:"down",dir2:"left",push:"bottom",spacing1:36,spacing2:36,context:e("body"),modal:!1},a=e(t),s=function(){r=e("body"),u.prototype.options.stack.context=r,(a=e(t)).bind("resize",(function(){i&&clearTimeout(i),i=setTimeout((function(){u.positionAll(!0)}),10)}))},l=function(t){var n=e("<div />",{class:"ui-pnotify-modal-overlay"});return n.prependTo(t.context),t.overlay_close&&n.click((function(){u.removeStack(t)})),n},u=function(e){this.state="initializing",this.timer=null,this.animTimer=null,this.styles=null,this.elem=null,this.container=null,this.title_container=null,this.text_container=null,this.animating=!1,this.timerHide=!1,this.parseOptions(e),this.init()};return e.extend(u.prototype,{version:"3.2.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"normal",shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:o},modules:{},runModules:function(e,t){var n;for(var i in this.modules)n="object"==typeof t&&i in t?t[i]:t,"function"==typeof this.modules[i][e]&&(this.modules[i].notice=this,this.modules[i].options="object"==typeof this.options[i]?this.options[i]:{},this.modules[i][e](this,"object"==typeof this.options[i]?this.options[i]:{},n))},init:function(){var t=this;return this.modules={},e.extend(!0,this.modules,u.prototype.modules),"object"==typeof this.options.styling?this.styles=this.options.styling:this.styles=u.styling[this.options.styling],this.elem=e("<div />",{class:"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive","aria-role":"alertdialog",mouseenter:function(e){if(t.options.mouse_reset&&"out"===t.animating){if(!t.timerHide)return;t.cancelRemove()}t.options.hide&&t.options.mouse_reset&&t.cancelRemove()},mouseleave:function(e){t.options.hide&&t.options.mouse_reset&&"out"!==t.animating&&t.queueRemove(),u.positionAll()}}),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.container=e("<div />",{class:this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),role:"alert"}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),!1!==this.options.icon&&e("<div />",{class:"ui-pnotify-icon"}).append(e("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container),this.title_container=e("<h4 />",{class:"ui-pnotify-title"}).appendTo(this.container),!1===this.options.title?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=e("<div />",{class:"ui-pnotify-text","aria-role":"alert"}).appendTo(this.container),!1===this.options.text?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.width&&this.elem.css("width",this.options.width),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),"top"===this.options.stack.push?u.notices=e.merge([this],u.notices):u.notices=e.merge(u.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.state="closed",this.options.auto_display&&this.open(),this},update:function(t){var n=this.options;return this.parseOptions(n,t),this.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.options.cornerclass!==n.cornerclass&&this.container.removeClass("ui-corner-all "+n.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==n.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),!1===this.options.addclass?this.elem.removeClass(n.addclass):this.options.addclass!==n.addclass&&this.elem.removeClass(n.addclass).addClass(this.options.addclass),!1===this.options.title?this.title_container.slideUp("fast"):this.options.title!==n.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),!1===n.title&&this.title_container.slideDown(200)),!1===this.options.text?this.text_container.slideUp("fast"):this.options.text!==n.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),!1===n.text&&this.text_container.slideDown(200)),this.options.type!==n.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),(this.options.icon!==n.icon||!0===this.options.icon&&this.options.type!==n.type)&&(this.container.find("div.ui-pnotify-icon").remove(),!1!==this.options.icon&&e("<div />",{class:"ui-pnotify-icon"}).append(e("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)),this.options.width!==n.width&&this.elem.animate({width:this.options.width}),this.options.min_height!==n.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.hide?n.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",n),this},open:function(){this.state="opening",this.runModules("beforeOpen");var e=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:r),"top"!==this.options.stack.push&&this.position(!0),this.animateIn((function(){e.queuePosition(!0),e.options.hide&&e.queueRemove(),e.state="open",e.runModules("afterOpen")})),this},remove:function(n){this.state="closing",this.timerHide=!!n,this.runModules("beforeClose");var i=this;return this.timer&&(t.clearTimeout(this.timer),this.timer=null),this.animateOut((function(){if(i.state="closed",i.runModules("afterClose"),i.queuePosition(!0),i.options.remove&&i.elem.detach(),i.runModules("beforeDestroy"),i.options.destroy&&null!==u.notices){var t=e.inArray(i,u.notices);-1!==t&&u.notices.splice(t,1)}i.runModules("afterDestroy")})),this},get:function(){return this.elem},parseOptions:function(t,n){this.options=e.extend(!0,{},u.prototype.options),this.options.stack=u.prototype.options.stack;for(var i,r=[t,n],o=0;o<r.length&&void 0!==(i=r[o]);o++)if("object"!=typeof i)this.options.text=i;else for(var a in i)this.modules[a]?e.extend(!0,this.options[a],i[a]):this.options[a]=i[a]},animateIn:function(e){this.animating="in";var t=this,n=function(){t.animTimer&&clearTimeout(t.animTimer),"in"===t.animating&&(t.elem.is(":visible")?(e&&e.call(),t.animating=!1):t.animTimer=setTimeout(n,40))};"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",n).addClass("ui-pnotify-in"),this.elem.css("opacity"),this.elem.addClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(n,650)):(this.elem.addClass("ui-pnotify-in"),n())},animateOut:function(t){this.animating="out";var n=this,i=function(){if(n.animTimer&&clearTimeout(n.animTimer),"out"===n.animating)if("0"!=n.elem.css("opacity")&&n.elem.is(":visible"))n.animTimer=setTimeout(i,40);else{if(n.elem.removeClass("ui-pnotify-in"),n.options.stack.overlay){var r=!1;e.each(u.notices,(function(e,t){t!=n&&t.options.stack===n.options.stack&&"closed"!=t.state&&(r=!0)})),r||n.options.stack.overlay.hide()}t&&t.call(),n.animating=!1}};"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",i).removeClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(i,650)):(this.elem.removeClass("ui-pnotify-in"),i())},position:function(e){var t=this.options.stack,n=this.elem;if(void 0===t.context&&(t.context=r),t){"number"!=typeof t.nextpos1&&(t.nextpos1=t.firstpos1),"number"!=typeof t.nextpos2&&(t.nextpos2=t.firstpos2),"number"!=typeof t.addpos2&&(t.addpos2=0);var i=!n.hasClass("ui-pnotify-in");if(!i||e){var o,s,u,c;switch(t.modal&&(t.overlay?t.overlay.show():t.overlay=l(t)),n.addClass("ui-pnotify-move"),t.dir1){case"down":u="top";break;case"up":u="bottom";break;case"left":u="right";break;case"right":u="left"}switch(o=parseInt(n.css(u).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(o)&&(o=0),void 0!==t.firstpos1||i||(t.firstpos1=o,t.nextpos1=t.firstpos1),t.dir2){case"down":c="top";break;case"up":c="bottom";break;case"left":c="right";break;case"right":c="left"}switch(s=parseInt(n.css(c).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(s)&&(s=0),void 0!==t.firstpos2||i||(t.firstpos2=s,t.nextpos2=t.firstpos2),("down"===t.dir1&&t.nextpos1+n.height()>(t.context.is(r)?a.height():t.context.prop("scrollHeight"))||"up"===t.dir1&&t.nextpos1+n.height()>(t.context.is(r)?a.height():t.context.prop("scrollHeight"))||"left"===t.dir1&&t.nextpos1+n.width()>(t.context.is(r)?a.width():t.context.prop("scrollWidth"))||"right"===t.dir1&&t.nextpos1+n.width()>(t.context.is(r)?a.width():t.context.prop("scrollWidth")))&&(t.nextpos1=t.firstpos1,t.nextpos2+=t.addpos2+(void 0===t.spacing2?25:t.spacing2),t.addpos2=0),"number"==typeof t.nextpos2&&(t.animation?n.css(c,t.nextpos2+"px"):(n.removeClass("ui-pnotify-move"),n.css(c,t.nextpos2+"px"),n.css(c),n.addClass("ui-pnotify-move"))),t.dir2){case"down":case"up":n.outerHeight(!0)>t.addpos2&&(t.addpos2=n.height());break;case"left":case"right":n.outerWidth(!0)>t.addpos2&&(t.addpos2=n.width())}switch("number"==typeof t.nextpos1&&(t.animation?n.css(u,t.nextpos1+"px"):(n.removeClass("ui-pnotify-move"),n.css(u,t.nextpos1+"px"),n.css(u),n.addClass("ui-pnotify-move"))),t.dir1){case"down":case"up":t.nextpos1+=n.height()+(void 0===t.spacing1?25:t.spacing1);break;case"left":case"right":t.nextpos1+=n.width()+(void 0===t.spacing1?25:t.spacing1)}}return this}},queuePosition:function(e,t){return i&&clearTimeout(i),t||(t=10),i=setTimeout((function(){u.positionAll(e)}),t),this},cancelRemove:function(){return this.timer&&t.clearTimeout(this.timer),this.animTimer&&t.clearTimeout(this.animTimer),"closing"===this.state&&(this.state="open",this.animating=!1,this.elem.addClass("ui-pnotify-in"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-in")),this},queueRemove:function(){var e=this;return this.cancelRemove(),this.timer=t.setTimeout((function(){e.remove(!0)}),isNaN(this.options.delay)?0:this.options.delay),this}}),e.extend(u,{notices:[],reload:n,removeAll:function(){e.each(u.notices,(function(e,t){t.remove&&t.remove(!1)}))},removeStack:function(t){e.each(u.notices,(function(e,n){n.remove&&n.options.stack===t&&n.remove(!1)}))},positionAll:function(t){if(i&&clearTimeout(i),i=null,u.notices&&u.notices.length)e.each(u.notices,(function(e,n){var i=n.options.stack;i&&(i.overlay&&i.overlay.hide(),i.nextpos1=i.firstpos1,i.nextpos2=i.firstpos2,i.addpos2=0,i.animation=t)})),e.each(u.notices,(function(e,t){t.position()}));else{var n=u.prototype.options.stack;n&&(delete n.nextpos1,delete n.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),u.styling.fontawesome=e.extend({},u.styling.bootstrap3),e.extend(u.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),t.document.body?s():e(s),u};return n(t)})),function(e,t){"function"==typeof define&&define.amd?define("pnotify.animate",["jquery","pnotify"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:this,(function(e,t){return t.prototype.options.animate={animate:!1,in_class:"",out_class:""},t.prototype.modules.animate={init:function(e,t){this.setUpAnimations(e,t),e.attention=function(t,n){e.elem.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){e.elem.removeClass(t),n&&n.call(e)})).addClass("animated "+t)}},update:function(e,t,n){t.animate!=n.animate&&this.setUpAnimations(e,t)},setUpAnimations:function(e,t){if(t.animate){e.options.animation="none",e.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast"),e._animateIn||(e._animateIn=e.animateIn),e._animateOut||(e._animateOut=e.animateOut),e.animateIn=this.animateIn.bind(this),e.animateOut=this.animateOut.bind(this);var n=400;"slow"===e.options.animate_speed?n=600:"fast"===e.options.animate_speed?n=200:e.options.animate_speed>0&&(n=e.options.animate_speed),n/=1e3,e.elem.addClass("animated").css({"-webkit-animation-duration":n+"s","-moz-animation-duration":n+"s","animation-duration":n+"s"})}else e._animateIn&&e._animateOut&&(e.animateIn=e._animateIn,delete e._animateIn,e.animateOut=e._animateOut,delete e._animateOut,e.elem.addClass("animated"))},animateIn:function(e){this.notice.animating="in";var t=this;e=function(){t.notice.elem.removeClass(t.options.in_class),this&&this.call(),t.notice.animating=!1}.bind(e),this.notice.elem.show().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",e).removeClass(this.options.out_class).addClass("ui-pnotify-in").addClass(this.options.in_class)},animateOut:function(e){this.notice.animating="out";var t=this;e=function(){t.notice.elem.removeClass("ui-pnotify-in "+t.options.out_class),this&&this.call(),t.notice.animating=!1}.bind(e),this.notice.elem.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",e).removeClass(this.options.in_class).addClass(this.options.out_class)}},t})),function(e,t){"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:this,(function(e,t){return t.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick",unstick:"Unstick"},classes:{closer:null,pin_up:null,pin_down:null}},t.prototype.modules.buttons={init:function(t,n){var i=this;t.elem.on({mouseenter:function(e){!i.options.sticker||t.options.nonblock&&t.options.nonblock.nonblock&&!i.options.show_on_nonblock||i.sticker.trigger("pnotify:buttons:toggleStick").css("visibility","visible"),!i.options.closer||t.options.nonblock&&t.options.nonblock.nonblock&&!i.options.show_on_nonblock||i.closer.css("visibility","visible")},mouseleave:function(e){i.options.sticker_hover&&i.sticker.css("visibility","hidden"),i.options.closer_hover&&i.closer.css("visibility","hidden")}}),this.sticker=e("<div />",{class:"ui-pnotify-sticker","aria-role":"button","aria-pressed":t.options.hide?"false":"true",tabindex:"0",title:t.options.hide?n.labels.stick:n.labels.unstick,css:{cursor:"pointer",visibility:n.sticker_hover?"hidden":"visible"},click:function(){t.options.hide=!t.options.hide,t.options.hide?t.queueRemove():t.cancelRemove(),e(this).trigger("pnotify:buttons:toggleStick")}}).bind("pnotify:buttons:toggleStick",(function(){var n=null===i.options.classes.pin_up?t.styles.pin_up:i.options.classes.pin_up,r=null===i.options.classes.pin_down?t.styles.pin_down:i.options.classes.pin_down;e(this).attr("title",t.options.hide?i.options.labels.stick:i.options.labels.unstick).children().attr("class","").addClass(t.options.hide?n:r).attr("aria-pressed",t.options.hide?"false":"true")})).append("<span />").trigger("pnotify:buttons:toggleStick").prependTo(t.container),(!n.sticker||t.options.nonblock&&t.options.nonblock.nonblock&&!n.show_on_nonblock)&&this.sticker.css("display","none"),this.closer=e("<div />",{class:"ui-pnotify-closer","aria-role":"button",tabindex:"0",title:n.labels.close,css:{cursor:"pointer",visibility:n.closer_hover?"hidden":"visible"},click:function(){t.remove(!1),i.sticker.css("visibility","hidden"),i.closer.css("visibility","hidden")}}).append(e("<span />",{class:null===n.classes.closer?t.styles.closer:n.classes.closer})).prependTo(t.container),(!n.closer||t.options.nonblock&&t.options.nonblock.nonblock&&!n.show_on_nonblock)&&this.closer.css("display","none")},update:function(e,t){!t.closer||e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock?this.closer.css("display","none"):t.closer&&this.closer.css("display","block"),!t.sticker||e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock?this.sticker.css("display","none"):t.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify:buttons:toggleStick"),this.closer.find("span").attr("class","").addClass(null===t.classes.closer?e.styles.closer:t.classes.closer),t.sticker_hover?this.sticker.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock||this.sticker.css("visibility","visible"),t.closer_hover?this.closer.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock||this.closer.css("visibility","visible")}},e.extend(t.styling.brighttheme,{closer:"brighttheme-icon-closer",pin_up:"brighttheme-icon-sticker",pin_down:"brighttheme-icon-sticker brighttheme-icon-stuck"}),e.extend(t.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),e.extend(t.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"}),t})),function(e,t){"function"==typeof define&&define.amd?define("pnotify.callbacks",["jquery","pnotify"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:this,(function(e,t){var n=t.prototype.init,i=t.prototype.open,r=t.prototype.remove;return t.prototype.init=function(){this.options.before_init&&this.options.before_init(this.options),n.apply(this,arguments),this.options.after_init&&this.options.after_init(this)},t.prototype.open=function(){var e;this.options.before_open&&(e=this.options.before_open(this)),!1!==e&&(i.apply(this,arguments),this.options.after_open&&this.options.after_open(this))},t.prototype.remove=function(e){var t;this.options.before_close&&(t=this.options.before_close(this,e)),!1!==t&&(r.apply(this,arguments),this.options.after_close&&this.options.after_close(this,e))},t})),function(e,t){"function"==typeof define&&define.amd?define("pnotify.confirm",["jquery","pnotify"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:this,(function(e,t){return t.prototype.options.confirm={confirm:!1,prompt:!1,prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(e,t){e.remove(),e.get().trigger("pnotify.confirm",[e,t])}},{text:"Cancel",addClass:"",click:function(e){e.remove(),e.get().trigger("pnotify.cancel",e)}}]},t.prototype.modules.confirm={init:function(t,n){this.container=e('<div class="ui-pnotify-action-bar" style="margin-top:5px;clear:both;" />').css("text-align",n.align).appendTo(t.container),n.confirm||n.prompt?this.makeDialog(t,n):this.container.hide()},update:function(e,t){t.confirm?(this.makeDialog(e,t),this.container.show()):this.container.hide().empty()},afterOpen:function(e,t){t.prompt&&this.prompt.focus()},makeDialog:function(n,i){var r,o,a=!1,s=this;this.container.empty(),i.prompt&&(this.prompt=e("<"+(i.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:5px;clear:both;" />').addClass((void 0===n.styles.input?"":n.styles.input)+" "+(void 0===i.prompt_class?"":i.prompt_class)).val(i.prompt_default).appendTo(this.container));for(var l=i.buttons[0]&&i.buttons[0]!==t.prototype.options.confirm.buttons[0],u=0;u<i.buttons.length;u++)null===i.buttons[u]||l&&t.prototype.options.confirm.buttons[u]&&t.prototype.options.confirm.buttons[u]===i.buttons[u]||(r=i.buttons[u],a?this.container.append(" "):a=!0,o=e('<button type="button" class="ui-pnotify-action-button" />').addClass((void 0===n.styles.btn?"":n.styles.btn)+" "+(void 0===r.addClass?"":r.addClass)).text(r.text).appendTo(this.container).on("click",function(e){return function(){"function"==typeof e.click&&e.click(n,i.prompt?s.prompt.val():null)}}(r)),i.prompt&&!i.prompt_multi_line&&r.promptTrigger&&this.prompt.keypress(function(e){return function(t){13==t.keyCode&&e.click()}}(o)),n.styles.text&&o.wrapInner('<span class="'+n.styles.text+'"></span>'),n.styles.btnhover&&o.hover(function(e){return function(){e.addClass(n.styles.btnhover)}}(o),function(e){return function(){e.removeClass(n.styles.btnhover)}}(o)),n.styles.btnactive&&o.on("mousedown",function(e){return function(){e.addClass(n.styles.btnactive)}}(o)).on("mouseup",function(e){return function(){e.removeClass(n.styles.btnactive)}}(o)),n.styles.btnfocus&&o.on("focus",function(e){return function(){e.addClass(n.styles.btnfocus)}}(o)).on("blur",function(e){return function(){e.removeClass(n.styles.btnfocus)}}(o)))}},e.extend(t.styling.bootstrap3,{btn:"btn btn-default",input:"form-control"}),e.extend(t.styling.fontawesome,{btn:"btn btn-default",input:"form-control"}),t})),function(e,t){"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:this,(function(e,t){var n,i=function(e,t){return(i="Notification"in window?function(e,t){return new Notification(e,t)}:"mozNotification"in navigator?function(e,t){return navigator.mozNotification.createNotification(e,t.body,t.icon).show()}:"webkitNotifications"in window?function(e,t){return window.webkitNotifications.createNotification(t.icon,e,t.body)}:function(e,t){return null})(e,t)};return t.prototype.options.desktop={desktop:!1,fallback:!0,icon:null,tag:null,title:null,text:null},t.prototype.modules.desktop={genNotice:function(e,t){null===t.icon?this.icon="http://sciactive.com/pnotify/includes/desktop/"+e.options.type+".png":!1===t.icon?this.icon=null:this.icon=t.icon,null!==this.tag&&null===t.tag||(this.tag=null===t.tag?"PNotify-"+Math.round(1e6*Math.random()):t.tag),e.desktop=i(t.title||e.options.title,{icon:this.icon,body:t.text||e.options.text,tag:this.tag}),!("close"in e.desktop)&&"cancel"in e.desktop&&(e.desktop.close=function(){e.desktop.cancel()}),e.desktop.onclick=function(){e.elem.trigger("click")},e.desktop.onclose=function(){"closing"!==e.state&&"closed"!==e.state&&e.remove()}},init:function(e,i){if(i.desktop){if(0!==(n=t.desktop.checkPermission()))return void(i.fallback||(e.options.auto_display=!1));this.genNotice(e,i)}},update:function(e,t,i){0!==n&&t.fallback||!t.desktop||this.genNotice(e,t)},beforeOpen:function(e,t){0!==n&&t.fallback||!t.desktop||e.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterOpen:function(e,t){0!==n&&t.fallback||!t.desktop||(e.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"show"in e.desktop&&e.desktop.show())},beforeClose:function(e,t){0!==n&&t.fallback||!t.desktop||e.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterClose:function(e,t){0!==n&&t.fallback||!t.desktop||(e.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"close"in e.desktop&&e.desktop.close())}},t.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"===Notification.permission?0:1:"webkitNotifications"in window&&0==window.webkitNotifications.checkPermission()?0:1}},n=t.desktop.checkPermission(),t})),function(e,t){"function"==typeof define&&define.amd?define("pnotify.history",["jquery","pnotify"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:this,(function(e,t){var n,i;return e((function(){e("body").on("pnotify.history-all",(function(){e.each(t.notices,(function(){this.modules.history.inHistory&&(this.elem.is(":visible")?this.options.hide&&this.queueRemove():this.open&&this.open())}))})).on("pnotify.history-last",(function(){var e,n="top"===t.prototype.options.stack.push,i=n?0:-1;do{if(!(e=-1===i?t.notices.slice(i):t.notices.slice(i,i+1))[0])return!1;i=n?i+1:i-1}while(!e[0].modules.history.inHistory||e[0].elem.is(":visible"));e[0].open&&e[0].open()}))})),t.prototype.options.history={history:!0,menu:!1,fixed:!0,maxonscreen:1/0,labels:{redisplay:"Redisplay",all:"All",last:"Last"}},t.prototype.modules.history={init:function(t,r){if(t.options.destroy=!1,this.inHistory=r.history,r.menu&&void 0===n){n=e("<div />",{class:"ui-pnotify-history-container "+t.styles.hi_menu,mouseleave:function(){n.css("top","-"+i+"px")}}).append(e("<div />",{class:"ui-pnotify-history-header",text:r.labels.redisplay})).append(e("<button />",{class:"ui-pnotify-history-all "+t.styles.hi_btn,text:r.labels.all,mouseenter:function(){e(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){e(this).removeClass(t.styles.hi_btnhov)},click:function(){return e(this).trigger("pnotify.history-all"),!1}})).append(e("<button />",{class:"ui-pnotify-history-last "+t.styles.hi_btn,text:r.labels.last,mouseenter:function(){e(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){e(this).removeClass(t.styles.hi_btnhov)},click:function(){return e(this).trigger("pnotify.history-last"),!1}})).appendTo("body");var o=e("<span />",{class:"ui-pnotify-history-pulldown "+t.styles.hi_hnd,mouseenter:function(){n.css("top","0")}}).appendTo(n);i=o.offset().top+2,n.css("top","-"+i+"px"),r.fixed&&n.addClass("ui-pnotify-history-fixed")}},update:function(e,t){this.inHistory=t.history,t.fixed&&n?n.addClass("ui-pnotify-history-fixed"):n&&n.removeClass("ui-pnotify-history-fixed")},beforeOpen:function(n,i){var r;t.notices&&t.notices.length>i.maxonscreen&&(r="top"!==n.options.stack.push?t.notices.slice(0,t.notices.length-i.maxonscreen):t.notices.slice(i.maxonscreen,t.notices.length),e.each(r,(function(){this.remove&&this.remove()})))}},e.extend(t.styling.brighttheme,{hi_menu:"ui-pnotify-history-brighttheme",hi_btn:"",hi_btnhov:"",hi_hnd:""}),e.extend(t.styling.bootstrap3,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"}),e.extend(t.styling.fontawesome,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"}),t})),function(e,t){"function"==typeof define&&define.amd?define("pnotify.mobile",["jquery","pnotify"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:this,(function(e,t){return t.prototype.options.mobile={swipe_dismiss:!0,styling:!0},t.prototype.modules.mobile={init:function(e,t){var n=this,i=null,r=null,o=null;this.swipe_dismiss=t.swipe_dismiss,this.doMobileStyling(e,t),e.elem.on({touchstart:function(t){n.swipe_dismiss&&(i=t.originalEvent.touches[0].screenX,o=e.elem.width(),e.container.css("left","0"))},touchmove:function(t){if(i&&n.swipe_dismiss){var a=t.originalEvent.touches[0].screenX;r=a-i;var s=(1-Math.abs(r)/o)*e.options.opacity;e.elem.css("opacity",s),e.container.css("left",r)}},touchend:function(){if(i&&n.swipe_dismiss){if(Math.abs(r)>40){var t=r<0?-2*o:2*o;e.elem.animate({opacity:0},100),e.container.animate({left:t},100),e.remove()}else e.elem.animate({opacity:e.options.opacity},100),e.container.animate({left:0},100);i=null,r=null,o=null}},touchcancel:function(){i&&n.swipe_dismiss&&(e.elem.animate({opacity:e.options.opacity},100),e.container.animate({left:0},100),i=null,r=null,o=null)}})},update:function(e,t){this.swipe_dismiss=t.swipe_dismiss,this.doMobileStyling(e,t)},doMobileStyling:function(t,n){n.styling?(t.elem.addClass("ui-pnotify-mobile-able"),e(window).width()<=480?(t.options.stack.mobileOrigSpacing1||(t.options.stack.mobileOrigSpacing1=t.options.stack.spacing1,t.options.stack.mobileOrigSpacing2=t.options.stack.spacing2),t.options.stack.spacing1=0,t.options.stack.spacing2=0):(t.options.stack.mobileOrigSpacing1||t.options.stack.mobileOrigSpacing2)&&(t.options.stack.spacing1=t.options.stack.mobileOrigSpacing1,delete t.options.stack.mobileOrigSpacing1,t.options.stack.spacing2=t.options.stack.mobileOrigSpacing2,delete t.options.stack.mobileOrigSpacing2)):(t.elem.removeClass("ui-pnotify-mobile-able"),t.options.stack.mobileOrigSpacing1&&(t.options.stack.spacing1=t.options.stack.mobileOrigSpacing1,delete t.options.stack.mobileOrigSpacing1),t.options.stack.mobileOrigSpacing2&&(t.options.stack.spacing2=t.options.stack.mobileOrigSpacing2,delete t.options.stack.mobileOrigSpacing2))}},t})),function(e,t){"function"==typeof define&&define.amd?define("pnotify.nonblock",["jquery","pnotify"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:this,(function(e,t){var n,i=function(t,n){var i;if(t=t.toLowerCase(),document.createEvent&&this.dispatchEvent){if((t=t.replace(/^on/,"")).match(/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/)?(e(this).offset(),(i=document.createEvent("MouseEvents")).initMouseEvent(t,n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)):t.match(/^(focus|blur|select|change|reset)$|^key(press|down|up)$/)?(i=document.createEvent("UIEvents")).initUIEvent(t,n.bubbles,n.cancelable,n.view,n.detail):t.match(/^(scroll|resize|(un)?load|abort|error)$/)&&(i=document.createEvent("HTMLEvents")).initEvent(t,n.bubbles,n.cancelable),!i)return;this.dispatchEvent(i)}else t.match(/^on/)||(t="on"+t),i=document.createEventObject(n),this.fireEvent(t,i)},r=function(t,r,o){t.elem.addClass("ui-pnotify-nonblock-hide");var a=document.elementFromPoint(r.clientX,r.clientY);t.elem.removeClass("ui-pnotify-nonblock-hide");var s=e(a),l=s.css("cursor");"auto"===l&&"A"===a.tagName&&(l="pointer"),t.elem.css("cursor","auto"!==l?l:"default"),n&&n.get(0)==a||(n&&(i.call(n.get(0),"mouseleave",r.originalEvent),i.call(n.get(0),"mouseout",r.originalEvent)),i.call(a,"mouseenter",r.originalEvent),i.call(a,"mouseover",r.originalEvent)),i.call(a,o,r.originalEvent),n=s};return t.prototype.options.nonblock={nonblock:!1},t.prototype.modules.nonblock={init:function(e,t){var i=this;e.elem.on({mouseenter:function(t){i.options.nonblock&&t.stopPropagation(),i.options.nonblock&&e.elem.addClass("ui-pnotify-nonblock-fade")},mouseleave:function(t){i.options.nonblock&&t.stopPropagation(),n=null,e.elem.css("cursor","auto"),i.options.nonblock&&"out"!==e.animating&&e.elem.removeClass("ui-pnotify-nonblock-fade")},mouseover:function(e){i.options.nonblock&&e.stopPropagation()},mouseout:function(e){i.options.nonblock&&e.stopPropagation()},mousemove:function(t){i.options.nonblock&&(t.stopPropagation(),r(e,t,"onmousemove"))},mousedown:function(t){i.options.nonblock&&(t.stopPropagation(),t.preventDefault(),r(e,t,"onmousedown"))},mouseup:function(t){i.options.nonblock&&(t.stopPropagation(),t.preventDefault(),r(e,t,"onmouseup"))},click:function(t){i.options.nonblock&&(t.stopPropagation(),r(e,t,"onclick"))},dblclick:function(t){i.options.nonblock&&(t.stopPropagation(),r(e,t,"ondblclick"))}})}},t})),function(e,t){"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified("knockout")?define(["jquery","knockout"],t):t(e.jQuery,e.ko)}(this,(function(e,t){"use strict";function n(t,n){this.$select=e(t),this.options=this.mergeOptions(e.extend({},n,this.$select.data())),this.$select.attr("data-placeholder")&&(this.options.nonSelectedText=this.$select.data("placeholder")),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=e.proxy(this.options.onChange,this),this.options.onSelectAll=e.proxy(this.options.onSelectAll,this),this.options.onDeselectAll=e.proxy(this.options.onDeselectAll,this),this.options.onDropdownShow=e.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=e.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=e.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=e.proxy(this.options.onDropdownHidden,this),this.options.onInitialized=e.proxy(this.options.onInitialized,this),this.options.onFiltering=e.proxy(this.options.onFiltering,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildReset(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.wasDisabled=this.$select.prop("disabled"),this.options.disableIfEmpty&&e("option",this.$select).length<=0&&this.disable(),this.options.onInitialized(this.$select,this.$container)}void 0!==t&&t.bindingHandlers&&!t.bindingHandlers.multiselect&&(t.bindingHandlers.multiselect={after:["options","value","selectedOptions","enable","disable"],init:function(n,i,r,o,a){var s=e(n),l=t.toJS(i());if(s.multiselect(l),r.has("options")){var u=r.get("options");t.isObservable(u)&&t.computed({read:function(){u(),setTimeout((function(){var e=s.data("multiselect");e&&e.updateOriginalOptions(),s.multiselect("rebuild")}),1)},disposeWhenNodeIsRemoved:n})}if(r.has("value")){var c=r.get("value");t.isObservable(c)&&t.computed({read:function(){c(),setTimeout((function(){s.multiselect("refresh")}),1)},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(r.has("selectedOptions")){var d=r.get("selectedOptions");t.isObservable(d)&&t.computed({read:function(){d(),setTimeout((function(){s.multiselect("refresh")}),1)},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0})}var f=function(e){setTimeout((function(){e?s.multiselect("enable"):s.multiselect("disable")}))};if(r.has("enable")){var h=r.get("enable");t.isObservable(h)?t.computed({read:function(){f(h())},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0}):f(h)}if(r.has("disable")){var p=r.get("disable");t.isObservable(p)?t.computed({read:function(){f(!p())},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0}):f(!p)}t.utils.domNodeDisposal.addDisposeCallback(n,(function(){s.multiselect("destroy")}))},update:function(n,i,r,o,a){var s=e(n),l=t.toJS(i());s.multiselect("setOptions",l),s.multiselect("rebuild")}}),n.prototype={defaults:{buttonText:function(t,n){if(this.disabledText.length>0&&n.prop("disabled"))return this.disabledText;if(0===t.length)return this.nonSelectedText;if(this.allSelectedText&&t.length===e("option",e(n)).length&&1!==e("option",e(n)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+t.length+")":this.allSelectedText;if(0!=this.numberDisplayed&&t.length>this.numberDisplayed)return t.length+" "+this.nSelectedText;var i="",r=this.delimiterText;return t.each((function(){var t=void 0!==e(this).attr("label")?e(this).attr("label"):e(this).text();i+=t+r})),i.substr(0,i.length-this.delimiterText.length)},buttonTitle:function(t,n){if(0===t.length)return this.nonSelectedText;var i="",r=this.delimiterText;return t.each((function(){var t=void 0!==e(this).attr("label")?e(this).attr("label"):e(this).text();i+=t+r})),i.substr(0,i.length-this.delimiterText.length)},checkboxName:function(e){return!1},optionLabel:function(t){return e(t).attr("label")||e(t).text()},optionClass:function(t){return e(t).attr("class")||""},onChange:function(e,t){},onDropdownShow:function(e){},onDropdownHide:function(e){},onDropdownShown:function(e){},onDropdownHidden:function(e){},onSelectAll:function(){},onDeselectAll:function(){},onInitialized:function(e,t){},onFiltering:function(e){},enableHTML:!1,buttonClass:"btn",inheritClass:!1,buttonWidth:"100%",buttonContainer:'<div class="dropdown"></div>',dropRight:!1,dropUp:!1,selectedClass:"",maxHeight:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibleOptGroups:!1,collapseOptGroupsByDefault:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,disabledText:"",delimiterText:", ",includeResetOption:!1,includeResetDivider:!1,resetText:"Reset",indentGroupOptions:!0,templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span></button>',popupContainer:'<div class="multiselect-container dropdown-menu"></div>',filter:'<div class="multiselect-filter"><div class="input-group"><div class="form-group-feedback form-group-feedback-left"><input type="text" class="multiselect-search form-control"><div class="form-control-feedback"><i class="icon-search4 text-muted"></i></div></div><div class="input-group-append multiselect-clear-filter"><button type="button" class="btn btn-light btn-icon"><i class="icon-cross"></i></button></div></div></div>',option:'<div class="multiselect-item"></div>',divider:'<div class="dropdown-divider"></div>',optionGroup:'<div class="multiselect-item multiselect-group"></div>',resetButton:'<div class="multiselect-reset text-center p-2"><button class="btn btn-sm btn-block btn-outline-secondary"></button></div>'}},constructor:n,buildContainer:function(){this.$container=e(this.options.buttonContainer),this.$select.wrap('<span class="multiselect-native-select"></span>').after(this.$container),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=e(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),"100%"==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth})),"100%"!==this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$container.wrap('<div class="d-inline-block position-relative"></div>'),this.$button.css({width:"100%"}),this.$container.parent().css({width:this.options.buttonWidth})),"auto"==this.options.buttonWidth&&this.$container.wrap('<div class="d-inline-block position-relative"></div>');var t=this.$select.attr("tabindex");t&&this.$button.attr("tabindex",t),this.$container.prepend(this.$button)},buildDropdown:function(){this.$popupContainer=e(this.options.templates.popupContainer),this.options.dropRight?this.$container.addClass("dropright"):this.options.dropUp&&this.$container.addClass("dropup"),this.options.maxHeight&&this.$popupContainer.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$popupContainer.on("touchstart click",(function(e){e.stopPropagation()})),this.$container.append(this.$popupContainer)},buildDropdownOptions:function(){this.$select.children().each(e.proxy((function(t,n){var i=e(n),r=i.prop("tagName").toLowerCase();i.prop("value")!==this.options.selectAllValue&&("optgroup"===r?this.createOptgroup(n):"option"===r&&("divider"===i.data("role")?this.createDivider():this.createOptionValue(n,!1)))}),this)),e(this.$popupContainer).off("change",'> *:not(.multiselect-group) input[type="checkbox"], > *:not(.multiselect-group) input[type="radio"]'),e(this.$popupContainer).on("change",'> *:not(.multiselect-group) input[type="checkbox"], > *:not(.multiselect-group) input[type="radio"]',e.proxy((function(t){var n=e(t.target),i=n.prop("checked")||!1,r=n.val()===this.options.selectAllValue;this.options.selectedClass&&(i?n.closest(".multiselect-item").addClass(this.options.selectedClass):n.closest(".multiselect-item").removeClass(this.options.selectedClass));var o=n.val(),a=this.getOptionByValue(o),s=e("option",this.$select).not(a),l=e("input",this.$container).not(n);if(r?i?this.selectAll(this.options.selectAllJustVisible,!0):this.deselectAll(this.options.selectAllJustVisible,!0):(i?(a.prop("selected",!0),this.options.multiple?a.prop("selected",!0):(this.options.selectedClass&&e(l).closest(".dropdown-item").removeClass(this.options.selectedClass),e(l).prop("checked",!1),s.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&s.closest(".dropdown-item").css("outline","")):a.prop("selected",!1),this.options.onChange(a,i),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()),this.$select.change(),this.updateButtonText(),this.options.preventInputChangeEvent)return!1}),this)),e(".multiselect-item",this.$popupContainer).off("mousedown"),e(".multiselect-item",this.$popupContainer).on("mousedown",(function(e){if(e.shiftKey)return!1})),e(this.$popupContainer).off("touchstart click",".multiselect-item .dropdown-item, .multiselect-all, .multiselect-group"),e(this.$popupContainer).on("touchstart click",".multiselect-item .dropdown-item, .multiselect-all, .multiselect-group",e.proxy((function(t){t.stopPropagation();var n=e(t.target);if(t.shiftKey&&this.options.multiple){n.is("input")||(t.preventDefault(),(n=n.closest(".multiselect-item").find("input")).prop("checked",!n.prop("checked")));var i=n.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==n){var r=this.$popupContainer.find(".multiselect-item:visible").index(n.closest(".multiselect-item")),o=this.$popupContainer.find(".multiselect-item:visible").index(this.lastToggledInput.closest(".multiselect-item"));if(r>o){var a=o;o=r,r=a}++o;var s=this.$popupContainer.find(".multiselect-item:not(.multiselect-filter-hidden)").slice(r,o).find("input");s.prop("checked",i),this.options.selectedClass&&s.closest(".multiselect-item").toggleClass(this.options.selectedClass,i);for(var l=0,u=s.length;l<u;l++){var c=e(s[l]);this.getOptionByValue(c.val()).prop("selected",i)}}n.trigger("change")}else if(!n.is("input")){if((c=n.closest(".multiselect-item, .multiselect-all").find(".custom-control-input")).length>0)c.prop("checked",!c.prop("checked")),c.change();else if(this.options.enableClickableOptGroups&&this.options.multiple&&!n.hasClass("caret-container")){var d=n;d.hasClass("multiselect-group")||(d=n.closest(".multiselect-group")),(c=d.find(".custom-control-input")).length>0&&(c.prop("checked",!c.prop("checked")),c.change())}t.preventDefault()}n.closest(".multiselect-item").find("input[type='checkbox'], input[type='radio']").length>0?this.lastToggledInput=n:this.lastToggledInput=null,n.blur()}),this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",e.proxy((function(t){if(!e("input.multiselect-search",this.$container).is(":focus"))if(9===t.keyCode&&this.$container.hasClass("show"))this.$button.click();else{var n=e(this.$container).find(".multiselect-item:not(.disabled), .multiselect-group:not(.disabled), .multiselect-all").filter(":visible");if(!n.length)return;var i=n.index(n.filter(":focus")),r=n.eq(i);if(32===t.keyCode){var o=r.find("input");o.prop("checked",!o.prop("checked")),o.change(),t.preventDefault()}13===t.keyCode&&setTimeout((function(){r.focus()}),0)}}),this)),this.options.enableClickableOptGroups&&this.options.multiple&&(e(".multiselect-group input",this.$popupContainer).off("change"),e(".multiselect-group input",this.$popupContainer).on("change",e.proxy((function(t){t.stopPropagation();var n=e(t.target).prop("checked")||!1,i=e(t.target).closest(".multiselect-group"),r=i.nextUntil(".multiselect-group").not(".multiselect-filter-hidden").not(".disabled").find("input"),o=[];this.options.selectedClass&&(n?i.addClass(this.options.selectedClass):i.removeClass(this.options.selectedClass)),e.each(r,e.proxy((function(t,i){var r=e(i),a=r.val(),s=this.getOptionByValue(a);n?(r.prop("checked",!0),r.closest(".dropdown-item").addClass(this.options.selectedClass),s.prop("selected",!0)):(r.prop("checked",!1),r.closest(".dropdown-item").removeClass(this.options.selectedClass),s.prop("selected",!1)),o.push(this.getOptionByValue(a))}),this)),this.options.onChange(o,n),this.$select.change(),this.updateButtonText(),this.updateSelectAll()}),this))),this.options.enableCollapsibleOptGroups&&this.options.multiple&&(e(".multiselect-group .caret-container",this.$popupContainer).off("click"),e(".multiselect-group .caret-container",this.$popupContainer).on("click",e.proxy((function(t){var n=e(t.target).closest(".multiselect-group").nextUntil(".multiselect-group").not(".multiselect-filter-hidden"),i=!0;n.each((function(){i=i&&!e(this).hasClass("multiselect-collapsible-hidden")})),i?n.hide().addClass("multiselect-collapsible-hidden"):n.show().removeClass("multiselect-collapsible-hidden")}),this)))},createCheckbox:function(t,n,i,r,o,a){var s=e("<label />");if(s.addClass("dropdown-item custom-control flex-1"),"radio"===a?s.addClass("custom-radio"):s.addClass("custom-checkbox"),this.options.enableHTML&&e(n).length>0)s.append(e(n));else{var l=e('<span class="custom-control-label w-100" />');l.text(n),s.append(l)}var u=e('<input class="custom-control-input"/>').attr("type",a);return u.val(r),s.prepend(u),i&&u.attr("name",i),t.prepend(s),t.attr("title",o||n),u},createOptionValue:function(t,n){var i=e(t);i.is(":selected")&&i.prop("selected",!0);var r=this.options.optionLabel(t),o=this.options.optionClass(t),a=i.val(),s=this.options.multiple?"checkbox":"radio",l=i.attr("title"),u=e(this.options.templates.option);u.addClass(o),n&&this.options.indentGroupOptions&&u.addClass("multiselect-group-option-indented"),this.options.collapseOptGroupsByDefault&&"optgroup"===e(t).parent().prop("tagName").toLowerCase()&&(u.addClass("multiselect-collapsible-hidden"),u.hide());var c=this.options.checkboxName(i),d=this.createCheckbox(u,r,c,a,l,s),f=i.prop("selected")||!1;a===this.options.selectAllValue&&(u.addClass("multiselect-all"),u.removeClass("multiselect-item"),d.parent().parent().addClass("multiselect-all")),this.$popupContainer.append(u),i.is(":disabled")&&d.attr("disabled","disabled").prop("disabled",!0).closest(".dropdown-item").addClass("disabled"),d.prop("checked",f),f&&this.options.selectedClass&&d.closest(".dropdown-item").addClass(this.options.selectedClass)},createDivider:function(t){var n=e(this.options.templates.divider);this.$popupContainer.append(n)},createOptgroup:function(t){var n=e(t),i=n.attr("label"),r=n.attr("value"),o=n.attr("title"),a=e("<span class='multiselect-item multiselect-group dropdown-item-text'></span>");if(this.options.enableClickableOptGroups&&this.options.multiple){a=e(this.options.templates.optionGroup);this.createCheckbox(a,i,null,r,o,"checkbox")}else this.options.enableHTML?a.html(" "+i):a.text(" "+i);var s=this.options.optionClass(t);a.addClass(s),this.options.enableCollapsibleOptGroups&&this.options.multiple&&(a.find(".custom-control").addClass("d-inline-block"),a.append('<span class="caret-container dropdown-toggle pl-1"></span>')),n.is(":disabled")&&a.addClass("disabled"),this.$popupContainer.append(a),e("option",t).each(e.proxy((function(e,t){this.createOptionValue(t,!0)}),this))},buildReset:function(){if(this.options.includeResetOption){if(this.options.includeResetDivider){var t=e(this.options.templates.divider);t.addClass("mt-0"),this.$popupContainer.prepend(t)}var n=e(this.options.templates.resetButton);this.options.enableHTML?e("button",n).html(this.options.resetText):e("button",n).text(this.options.resetText),e("button",n).click(e.proxy((function(){this.clearSelection()}),this)),this.$popupContainer.prepend(n)}},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&e("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$popupContainer.prepend(e(this.options.templates.divider));var t=e(this.options.templates.li||this.options.templates.option),n=this.createCheckbox(t,this.options.selectAllText,this.options.selectAllName,this.options.selectAllValue,this.options.selectAllText,"checkbox");t.addClass("multiselect-all"),t.removeClass("multiselect-item"),t.find(".custom-control-label").addClass("font-weight-bold"),this.$popupContainer.prepend(t),n.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var t=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);this.$select.find("option").length>=t&&(this.$filter=e(this.options.templates.filter),e("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn?(this.isFirefox()&&0===this.$filter.find(".multiselect-clear-filter").length&&this.$filter.append("<i class='icon-cross text-muted multiselect-clear-filter multiselect-moz-clear-filter'></i>"),this.$filter.find(".multiselect-clear-filter").on("click",e.proxy((function(t){clearTimeout(this.searchTimeout),this.query="",this.$filter.find(".multiselect-search").val(""),e(".dropdown-item",this.$popupContainer).show().removeClass("multiselect-filter-hidden"),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()}),this))):(this.$filter.find(".multiselect-search").attr("type","text"),this.$filter.find(".multiselect-clear-filter").remove()),this.$popupContainer.prepend(this.$filter),this.$filter.val(this.query).on("click",(function(e){e.stopPropagation()})).on("input keydown",e.proxy((function(t){13===t.which&&t.preventDefault(),this.isFirefox()&&this.options.includeFilterClearBtn&&(t.target.value?this.$filter.find(".multiselect-moz-clear-filter").show():this.$filter.find(".multiselect-moz-clear-filter").hide()),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(e.proxy((function(){var n,i;this.query!==t.target.value&&(this.query=t.target.value,e.each(e(".multiselect-item, .multiselect-group",this.$popupContainer),e.proxy((function(t,r){var o=e("input",r).length>0?e("input",r).val():"",a=e(".custom-control-label",r).text(),s="";if("text"===this.options.filterBehavior?s=a:"value"===this.options.filterBehavior?s=o:"both"===this.options.filterBehavior&&(s=a+"\n"+o),o!==this.options.selectAllValue&&a){var l=!1;if(this.options.enableCaseInsensitiveFiltering&&(s=s.toLowerCase(),this.query=this.query.toLowerCase()),this.options.enableFullValueFiltering&&"both"!==this.options.filterBehavior){var u=s.trim().substring(0,this.query.length);this.query.indexOf(u)>-1&&(l=!0)}else s.indexOf(this.query)>-1&&(l=!0);l||(e(r).css("display","none"),e(r).addClass("multiselect-filter-hidden")),l&&(e(r).css("display","block"),e(r).removeClass("multiselect-filter-hidden")),e(r).hasClass("multiselect-group")?(n=r,i=l):(l&&e(n).show().removeClass("multiselect-filter-hidden"),!l&&i&&e(r).show().removeClass("multiselect-filter-hidden"))}}),this)));this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.onFiltering(t.target)}),this),300,this)}),this)))}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.prop("disabled",this.options.wasDisabled),this.$select.data("multiselect",null)},refresh:function(){var t={};e(".multiselect-item input",this.$popupContainer).each((function(){t[e(this).val()]=e(this)})),e("option",this.$select).each(e.proxy((function(n,i){var r=e(i),o=t[e(i).val()];r.is(":selected")?(o.prop("checked",!0),this.options.selectedClass&&o.closest(".multiselect-item").addClass(this.options.selectedClass)):(o.prop("checked",!1),this.options.selectedClass&&o.closest(".multiselect-item").removeClass(this.options.selectedClass)),r.is(":disabled")?o.attr("disabled","disabled").prop("disabled",!0).closest(".multiselect-item").addClass("disabled"):o.prop("disabled",!1).closest(".multiselect-item").removeClass("disabled")}),this)),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},select:function(t,n){e.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];if(null!=r){var o=this.getOptionByValue(r),a=this.getInputByValue(r);void 0!==o&&void 0!==a&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&a.closest(".dropdown-item").addClass(this.options.selectedClass),a.prop("checked",!0),o.prop("selected",!0),n&&this.options.onChange(o,!0))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},deselect:function(t,n){e.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];if(null!=r){var o=this.getOptionByValue(r),a=this.getInputByValue(r);void 0!==o&&void 0!==a&&(this.options.selectedClass&&a.closest(".dropdown-item").removeClass(this.options.selectedClass),a.prop("checked",!1),o.prop("selected",!1),n&&this.options.onChange(o,!1))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},selectAll:function(t,n){t=void 0===t||t;var i=e(".multiselect-item:not(.disabled)",this.$popupContainer),r=e(".multiselect-item:not(.disabled):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$popupContainer).filter(":visible");t?(e("input:enabled",r).prop("checked",!0),r.addClass(this.options.selectedClass),e("input:enabled",r).each(e.proxy((function(t,n){var i=e(n).val(),r=this.getOptionByValue(i);e(r).prop("selected",!0)}),this))):(e("input:enabled",i).prop("checked",!0),i.addClass(this.options.selectedClass),e("input:enabled",i).each(e.proxy((function(t,n){var i=e(n).val(),r=this.getOptionByValue(i);e(r).prop("selected",!0)}),this))),e('.multiselect-item input[value="'+this.options.selectAllValue+'"]',this.$popupContainer).prop("checked",!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.updateButtonText(),this.updateSelectAll(),n&&this.options.onSelectAll()},deselectAll:function(t,n){t=void 0===t||t;var i=e(".multiselect-item:not(.disabled):not(.multiselect-group)",this.$popupContainer),r=e(".multiselect-item:not(.disabled):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$popupContainer).filter(":visible");t?(e('input[type="checkbox"]:enabled',r).prop("checked",!1),r.removeClass(this.options.selectedClass),e('input[type="checkbox"]:enabled',r).each(e.proxy((function(t,n){var i=e(n).val(),r=this.getOptionByValue(i);e(r).prop("selected",!1)}),this))):(e('input[type="checkbox"]:enabled',i).prop("checked",!1),i.removeClass(this.options.selectedClass),e('input[type="checkbox"]:enabled',i).each(e.proxy((function(t,n){var i=e(n).val(),r=this.getOptionByValue(i);e(r).prop("selected",!1)}),this))),e('.multiselect-all input[value="'+this.options.selectAllValue+'"]',this.$popupContainer).prop("checked",!1),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.updateButtonText(),this.updateSelectAll(),n&&this.options.onDeselectAll()},rebuild:function(){this.$popupContainer.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.disableIfEmpty&&e("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight?this.$container.addClass("dropright"):this.options.dropUp&&this.$container.addClass("dropup")},dataprovider:function(t){var n=0,i=this.$select.empty();e.each(t,(function(t,r){var o;if(e.isArray(r.children))n++,o=e("<optgroup/>").attr({label:r.label||"Group "+n,disabled:!!r.disabled,value:r.value}),function(e,t){for(var n=0;n<e.length;++n)t(e[n],n)}(r.children,(function(t){var n={value:t.value,label:t.label||t.value,title:t.title,selected:!!t.selected,disabled:!!t.disabled};for(var i in t.attributes)n["data-"+i]=t.attributes[i];o.append(e("<option/>").attr(n))}));else{var a={value:r.value,label:r.label||r.value,title:r.title,class:r.class,selected:!!r.selected,disabled:!!r.disabled};for(var s in r.attributes)a["data-"+s]=r.attributes[s];(o=e("<option/>").attr(a)).text(r.label||r.value)}i.append(o)})),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled"),this.updateButtonText()},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled"),this.updateButtonText()},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(t){return e.extend(!0,{},this.defaults,this.options,t)},hasSelectAll:function(){return e(".multiselect-all",this.$popupContainer).length>0},updateOptGroups:function(){var t=e(".multiselect-group",this.$popupContainer),n=this.options.selectedClass;t.each((function(){var t=e(this).nextUntil(".multiselect-group").not(".multiselect-filter-hidden").not(".disabled"),i=!0;t.each((function(){e("input",this).prop("checked")||(i=!1)})),n&&(i?e(this).addClass(n):e(this).removeClass(n)),e("input",this).prop("checked",i)}))},updateSelectAll:function(t){if(this.hasSelectAll()){var n=e(".multiselect-item:not(.multiselect-filter-hidden):not(.multiselect-group):not(.disabled) input:enabled",this.$popupContainer),i=n.length,r=n.filter(":checked").length,o=e(".multiselect-all",this.$popupContainer),a=o.find("input");r>0&&r===i?(a.prop("checked",!0),o.addClass(this.options.selectedClass)):(a.prop("checked",!1),o.removeClass(this.options.selectedClass))}},updateButtonText:function(){var t=this.getSelected();this.options.enableHTML?e(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(t,this.$select)):e(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(t,this.$select)),e(".multiselect",this.$container).attr("title",this.options.buttonTitle(t,this.$select))},getSelected:function(){return e("option",this.$select).filter(":selected")},getOptionByValue:function(t){for(var n=e("option",this.$select),i=t.toString(),r=0;r<n.length;r+=1){var o=n[r];if(o.value===i)return e(o)}},getInputByValue:function(t){for(var n=e(".multiselect-item input:not(.multiselect-search)",this.$popupContainer),i=t.toString(),r=0;r<n.length;r+=1){var o=n[r];if(o.value===i)return e(o)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(e,t,n){var i=Array.prototype.slice.call(arguments,3);return setTimeout((function(){e.apply(n||window,i)}),t)},setAllSelectedText:function(e){this.options.allSelectedText=e,this.updateButtonText()},isFirefox:function(){return!(!navigator||!navigator.userAgent)&&navigator.userAgent.toLocaleLowerCase().indexOf("firefox")>-1}},e.fn.multiselect=function(t,i,r){return this.each((function(){var o=e(this).data("multiselect");o||(o=new n(this,"object"==typeof t&&t),e(this).data("multiselect",o)),"string"==typeof t&&(o[t](i,r),"destroy"===t&&e(this).data("multiselect",!1))}))},e.fn.multiselect.Constructor=n,e((function(){e("select[data-role=multiselect]").multiselect()}))})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){"use strict";e.fn.priceFormat=function(t){t=e.extend(!0,{},e.fn.priceFormat.defaults,t);window.ctrl_down=!1;var n=!1;return e(window).bind("keyup keydown",(function(e){return window.ctrl_down=e.ctrlKey,!0})),e(this).bind("keyup keydown",(function(e){return n=e.metaKey,!0})),this.each((function(){function i(e){u.is("input")?u.val(e):u.html(e),u.trigger("pricechange")}function r(){return c=u.is("input")?u.val():u.html()}function o(t,n){if(!n&&(""===t||t==o("0",!0))&&S)return"";var i=function(e){for(;e.length<v+1;)e="0"+e;return e}(function(e){for(var t="",n=0;n<e.length;n++){var i=e.charAt(n);0==t.length&&0==i&&(i=!1),i&&i.match(d)&&(g?t.length<g&&(t+=i):t+=i)}return t}(t)),r="",a=0;0==v&&(p="",s="");var s=i.substr(i.length-v,v),l=i.substr(0,i.length-v);if(i=E||"0"!==l?l+p+s:p+s,m||""!=e.trim(m)){for(var u=l.length;u>0;u--){var c=l.substr(u-1,1);++a%3==0&&(c=m+c),r=c+r}r.substr(0,1)==m&&(r=r.substring(1,r.length)),i=0==v?r:r+p+s}return!_||0==l&&0==s||(i=-1!=t.indexOf("-")&&t.indexOf("+")<t.indexOf("-")?"-"+i:w?"+"+i:""+i),f&&(i=f+i),h&&(i+=h),i}function a(){var e=r(),t=o(e);e!=t&&i(t),t==o("0",!0)&&"0"!=e&&S&&i("")}function s(){""!=e.trim(f)&&y&&i(r().split(f)[1])}function l(){""!=e.trim(h)&&b&&i(r().split(h)[0])}var u=e(this),c="",d=/[0-9]/;c=u.is("input")?u.val():u.html();var f=t.prefix,h=t.suffix,p=t.centsSeparator,m=t.thousandsSeparator,g=t.limit,v=t.centsLimit,y=t.clearPrefix,b=t.clearSuffix,_=t.allowNegative,w=t.insertPlusSign,S=t.clearOnEmpty,E=t.leadingZero;w&&(_=!0),u.bind("keydown.price_format",(function(e){var t=e.keyCode?e.keyCode:e.which,r=String.fromCharCode(t),a=!1,s=c,l=o(s+r);(t>=48&&t<=57||t>=96&&t<=105)&&(a=!0),192==t&&(a=!0),8==t&&(a=!0),9==t&&(a=!0),13==t&&(a=!0),46==t&&(a=!0),37==t&&(a=!0),39==t&&(a=!0),!_||189!=t&&109!=t&&173!=t||(a=!0),!w||187!=t&&107!=t&&61!=t||(a=!0),t>=16&&t<=20&&(a=!0),27==t&&(a=!0),t>=33&&t<=40&&(a=!0),t>=44&&t<=46&&(a=!0),(window.ctrl_down||n)&&(86==t&&(a=!0),67==t&&(a=!0),88==t&&(a=!0),82==t&&(a=!0),84==t&&(a=!0),76==t&&(a=!0),87==t&&(a=!0),81==t&&(a=!0),78==t&&(a=!0),65==t&&(a=!0)),a||(e.preventDefault(),e.stopPropagation(),s!=l&&i(l))})),u.bind("keyup.price_format",a),u.bind("focusout.price_format",a),y&&(u.bind("focusout.price_format",(function(){s()})),u.bind("focusin.price_format",(function(){u.val(f+r())}))),b&&(u.bind("focusout.price_format",(function(){l()})),u.bind("focusin.price_format",(function(){u.val(r()+h)}))),r().length>0&&(a(),s(),l())}))},e.fn.unpriceFormat=function(){return e(this).unbind(".price_format")},e.fn.unmask=function(){var t,n="";t=e(this).is("input")?e(this).val()||[]:e(this).html();for(var i=0;i<t.length;i++)isNaN(t[i])&&"-"!=t[i]||(n+=t[i]);return n},e.fn.priceToFloat=function(){var t;return t=e(this).is("input")?e(this).val()||[]:e(this).html(),parseFloat(t.replace(/[^0-9\-\.]/g,""))},e.fn.priceFormat.defaults={prefix:"US$ ",suffix:"",centsSeparator:".",thousandsSeparator:",",limit:!1,centsLimit:2,clearPrefix:!1,clearSufix:!1,allowNegative:!1,insertPlusSign:!1,clearOnEmpty:!1,leadingZero:!0}})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AutoNumeric=t():e.AutoNumeric=t()}(this,(function(){return n={},e.m=t=[function(e,t,n){"use strict";n.r(t);var i={allowedTagList:["b","caption","cite","code","const","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","input","ins","kdb","label","li","option","output","p","q","s","sample","span","strong","td","th","u"]};Object.freeze(i.allowedTagList),Object.defineProperty(i,"allowedTagList",{configurable:!1,writable:!1}),i.keyCode={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,OSLeft:91,OSRight:92,ContextMenu:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,MultiplyNumpad:106,PlusNumpad:107,MinusNumpad:109,DotNumpad:110,SlashNumpad:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,HyphenFirefox:173,MyComputer:182,MyCalculator:183,Semicolon:186,Equal:187,Comma:188,Hyphen:189,Dot:190,Slash:191,Backquote:192,LeftBracket:219,Backslash:220,RightBracket:221,Quote:222,Command:224,AltGraph:225,AndroidDefault:229},Object.freeze(i.keyCode),Object.defineProperty(i,"keyCode",{configurable:!1,writable:!1}),i.fromCharCodeKeyCode={0:"LaunchCalculator",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",91:"OS",92:"OSRight",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",173:"-",182:"MyComputer",183:"MyCalculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta",225:"AltGraph"},Object.freeze(i.fromCharCodeKeyCode),Object.defineProperty(i,"fromCharCodeKeyCode",{configurable:!1,writable:!1}),i.keyName={Unidentified:"Unidentified",AndroidDefault:"AndroidDefault",Alt:"Alt",AltGr:"AltGraph",CapsLock:"CapsLock",Ctrl:"Control",Fn:"Fn",FnLock:"FnLock",Hyper:"Hyper",Meta:"Meta",OSLeft:"OS",OSRight:"OS",Command:"OS",NumLock:"NumLock",ScrollLock:"ScrollLock",Shift:"Shift",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",Enter:"Enter",Tab:"Tab",Space:" ",LeftArrow:"ArrowLeft",UpArrow:"ArrowUp",RightArrow:"ArrowRight",DownArrow:"ArrowDown",End:"End",Home:"Home",PageUp:"PageUp",PageDown:"PageDown",Backspace:"Backspace",Clear:"Clear",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",Delete:"Delete",EraseEof:"EraseEof",ExSel:"ExSel",Insert:"Insert",Paste:"Paste",Redo:"Redo",Undo:"Undo",Accept:"Accept",Again:"Again",Attn:"Attn",Cancel:"Cancel",ContextMenu:"ContextMenu",Esc:"Escape",Execute:"Execute",Find:"Find",Finish:"Finish",Help:"Help",Pause:"Pause",Play:"Play",Props:"Props",Select:"Select",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",Eject:"Eject",LogOff:"LogOff",Power:"Power",PowerOff:"PowerOff",PrintScreen:"PrintScreen",Hibernate:"Hibernate",Standby:"Standby",WakeUp:"WakeUp",Compose:"Compose",Dead:"Dead",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",Print:"Print",num0:"0",num1:"1",num2:"2",num3:"3",num4:"4",num5:"5",num6:"6",num7:"7",num8:"8",num9:"9",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",Semicolon:";",Equal:"=",Comma:",",Hyphen:"-",Minus:"-",Plus:"+",Dot:".",Slash:"/",Backquote:"`",LeftParenthesis:"(",RightParenthesis:")",LeftBracket:"[",RightBracket:"]",Backslash:"\\",Quote:"'",numpad0:"0",numpad1:"1",numpad2:"2",numpad3:"3",numpad4:"4",numpad5:"5",numpad6:"6",numpad7:"7",numpad8:"8",numpad9:"9",NumpadDot:".",NumpadDotAlt:",",NumpadMultiply:"*",NumpadPlus:"+",NumpadMinus:"-",NumpadSubtract:"-",NumpadSlash:"/",NumpadDotObsoleteBrowsers:"Decimal",NumpadMultiplyObsoleteBrowsers:"Multiply",NumpadPlusObsoleteBrowsers:"Add",NumpadMinusObsoleteBrowsers:"Subtract",NumpadSlashObsoleteBrowsers:"Divide",_allFnKeys:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],_someNonPrintableKeys:["Tab","Enter","Shift","ShiftLeft","ShiftRight","Control","ControlLeft","ControlRight","Alt","AltLeft","AltRight","Pause","CapsLock","Escape"],_directionKeys:["PageUp","PageDown","End","Home","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"]},Object.freeze(i.keyName._allFnKeys),Object.freeze(i.keyName._someNonPrintableKeys),Object.freeze(i.keyName._directionKeys),Object.freeze(i.keyName),Object.defineProperty(i,"keyName",{configurable:!1,writable:!1}),Object.freeze(i);var r=i;function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,[{key:"isNull",value:function(e){return null===e}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isUndefinedOrNullOrEmpty",value:function(e){return null==e||""===e}},{key:"isString",value:function(e){return"string"==typeof e||e instanceof String}},{key:"isEmptyString",value:function(e){return""===e}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isTrueOrFalseString",value:function(e){var t=String(e).toLowerCase();return"true"===t||"false"===t}},{key:"isObject",value:function(e){return"object"===c(e)&&null!==e&&!Array.isArray(e)}},{key:"isEmptyObj",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}},{key:"isNumberStrict",value:function(e){return"number"==typeof e}},{key:"isNumber",value:function(e){return!this.isArray(e)&&!isNaN(parseFloat(e))&&isFinite(e)}},{key:"isDigit",value:function(e){return/\d/.test(e)}},{key:"isNumberOrArabic",value:function(e){var t=this.arabicToLatinNumbers(e,!1,!0,!0);return this.isNumber(t)}},{key:"isInt",value:function(e){return"number"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isIE11",value:function(){return"undefined"!=typeof window&&!!window.MSInputMethodContext&&!!document.documentMode}},{key:"contains",value:function(e,t){return!(!this.isString(e)||!this.isString(t)||""===e||""===t)&&-1!==e.indexOf(t)}},{key:"isInArray",value:function(e,t){return!(!this.isArray(t)||t===[]||this.isUndefined(e))&&-1!==t.indexOf(e)}},{key:"isArray",value:function(e){if("[object Array]"===Object.prototype.toString.call([]))return Array.isArray(e)||"object"===c(e)&&"[object Array]"===Object.prototype.toString.call(e);throw new Error("toString message changed for Object Array")}},{key:"isElement",value:function(e){return"undefined"!=typeof Element&&e instanceof Element}},{key:"isInputElement",value:function(e){return this.isElement(e)&&"input"===e.tagName.toLowerCase()}},{key:"decimalPlaces",value:function(e){var t=s(e.split("."),2)[1];return this.isUndefined(t)?0:t.length}},{key:"indexFirstNonZeroDecimalPlace",value:function(e){var t=s(String(Math.abs(e)).split("."),2)[1];if(this.isUndefined(t))return 0;var n=t.lastIndexOf("0");return-1===n?n=0:n+=2,n}},{key:"keyCodeNumber",value:function(e){return void 0===e.which?e.keyCode:e.which}},{key:"character",value:function(t){var n;if("Unidentified"===t.key||void 0===t.key||this.isSeleniumBot()){var i=this.keyCodeNumber(t);if(i===r.keyCode.AndroidDefault)return r.keyName.AndroidDefault;var o=r.fromCharCodeKeyCode[i];n=e.isUndefinedOrNullOrEmpty(o)?String.fromCharCode(i):o}else{var a;switch(t.key){case"Add":n=r.keyName.NumpadPlus;break;case"Apps":n=r.keyName.ContextMenu;break;case"Crsel":n=r.keyName.CrSel;break;case"Decimal":n=t.char?t.char:r.keyName.NumpadDot;break;case"Del":n="firefox"===(a=this.browser()).name&&a.version<=36||"ie"===a.name&&a.version<=9?r.keyName.Dot:r.keyName.Delete;break;case"Divide":n=r.keyName.NumpadSlash;break;case"Down":n=r.keyName.DownArrow;break;case"Esc":n=r.keyName.Esc;break;case"Exsel":n=r.keyName.ExSel;break;case"Left":n=r.keyName.LeftArrow;break;case"Meta":case"Super":n=r.keyName.OSLeft;break;case"Multiply":n=r.keyName.NumpadMultiply;break;case"Right":n=r.keyName.RightArrow;break;case"Spacebar":n=r.keyName.Space;break;case"Subtract":n=r.keyName.NumpadMinus;break;case"Up":n=r.keyName.UpArrow;break;default:n=t.key}}return n}},{key:"browser",value:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"ie",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?{name:e[1].replace("OPR","opera"),version:e[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0].toLowerCase(),version:n[1]})}},{key:"isSeleniumBot",value:function(){return!0===window.navigator.webdriver}},{key:"isNegative",value:function(t,n,i){var r=1<arguments.length&&void 0!==n?n:"-",o=!(2<arguments.length&&void 0!==i)||i;return t===r||""!==t&&(e.isNumber(t)?t<0:o?this.contains(t,r):this.isNegativeStrict(t,r))}},{key:"isNegativeStrict",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"-";return e.charAt(0)===n}},{key:"isNegativeWithBrackets",value:function(e,t,n){return e.charAt(0)===t&&this.contains(e,n)}},{key:"isZeroOrHasNoValue",value:function(e){return!/[1-9]/g.test(e)}},{key:"setRawNegativeSign",value:function(e){return this.isNegativeStrict(e,"-")?e:"-".concat(e)}},{key:"replaceCharAt",value:function(e,t,n){return"".concat(e.substr(0,t)).concat(n).concat(e.substr(t+n.length))}},{key:"clampToRangeLimits",value:function(e,t){return Math.max(t.minimumValue,Math.min(t.maximumValue,e))}},{key:"countNumberCharactersOnTheCaretLeftSide",value:function(e,t,n){for(var i=new RegExp("[0-9".concat(n,"-]")),r=0,o=0;o<t;o++)i.test(e[o])&&r++;return r}},{key:"findCaretPositionInFormattedNumber",value:function(e,t,n,i){var r,o=n.length,a=e.length,s=0;for(r=0;r<o&&s<a&&s<t;r++)(e[s]===n[r]||"."===e[s]&&n[r]===i)&&s++;return r}},{key:"countCharInText",value:function(e,t){for(var n=0,i=0;i<t.length;i++)t[i]===e&&n++;return n}},{key:"convertCharacterCountToIndexPosition",value:function(e){return Math.max(e,e-1)}},{key:"getElementSelection",value:function(e){var t,n={};try{t=this.isUndefined(e.selectionStart)}catch(e){t=!1}try{if(t){var i=window.getSelection().getRangeAt(0);n.start=i.startOffset,n.end=i.endOffset,n.length=n.end-n.start}else n.start=e.selectionStart,n.end=e.selectionEnd,n.length=n.end-n.start}catch(e){n.start=0,n.end=0,n.length=0}return n}},{key:"setElementSelection",value:function(t,n,i){var r=2<arguments.length&&void 0!==i?i:null;if(this.isUndefinedOrNullOrEmpty(r)&&(r=n),this.isInputElement(t))t.setSelectionRange(n,r);else if(!e.isNull(t.firstChild)){var o=document.createRange();o.setStart(t.firstChild,n),o.setEnd(t.firstChild,r);var a=window.getSelection();a.removeAllRanges(),a.addRange(o)}}},{key:"throwError",value:function(e){throw new Error(e)}},{key:"warning",value:function(e,t){1<arguments.length&&void 0!==t&&!t||console.warn("Warning: ".concat(e))}},{key:"isWheelUpEvent",value:function(e){return e.deltaY||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(e.type,"' given.")),e.deltaY<0}},{key:"isWheelDownEvent",value:function(e){return e.deltaY||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(e.type,"' given.")),0<e.deltaY}},{key:"forceDecimalPlaces",value:function(e,t){var n=s(String(e).split("."),2),i=n[0],r=n[1];return r?"".concat(i,".").concat(r.substr(0,t)):e}},{key:"roundToNearest",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:1e3;return 0===e?0:(0===n&&this.throwError("The `stepPlace` used to round is equal to `0`. This value must not be equal to zero."),Math.round(e/n)*n)}},{key:"modifyAndRoundToNearestAuto",value:function(e,t,n){e=Number(this.forceDecimalPlaces(e,n));var i=Math.abs(e);if(0<=i&&i<1){var r,o=Math.pow(10,-n);if(0===e)return t?o:-o;var a,s=n,l=this.indexFirstNonZeroDecimalPlace(e);return r=s-1<=l?o:Math.pow(10,-(l+1)),a=t?e+r:e-r,this.roundToNearest(a,r)}e=parseInt(e,10);var u,c=Math.abs(e).toString().length;switch(c){case 1:u=0;break;case 2:case 3:u=1;break;case 4:case 5:u=2;break;default:u=c-3}var d,f=Math.pow(10,u);return(d=t?e+f:e-f)<=10&&-10<=d?d:this.roundToNearest(d,f)}},{key:"addAndRoundToNearestAuto",value:function(e,t){return this.modifyAndRoundToNearestAuto(e,!0,t)}},{key:"subtractAndRoundToNearestAuto",value:function(e,t){return this.modifyAndRoundToNearestAuto(e,!1,t)}},{key:"arabicToLatinNumbers",value:function(e,t,n,i){var r=!(1<arguments.length&&void 0!==t)||t,o=2<arguments.length&&void 0!==n&&n,a=3<arguments.length&&void 0!==i&&i;if(this.isNull(e))return e;var s=e.toString();if(""===s)return e;if(null===s.match(/[٠١٢٣٤٥٦٧٨٩۴۵۶]/g))return r&&(s=Number(s)),s;o&&(s=s.replace(/٫/,".")),a&&(s=s.replace(/٬/g,"")),s=s.replace(/[٠١٢٣٤٥٦٧٨٩]/g,(function(e){return e.charCodeAt(0)-1632})).replace(/[۰۱۲۳۴۵۶۷۸۹]/g,(function(e){return e.charCodeAt(0)-1776}));var l=Number(s);return isNaN(l)?l:(r&&(s=l),s)}},{key:"triggerEvent",value:function(e,t,n,i,r){var o,a=1<arguments.length&&void 0!==t?t:document,s=2<arguments.length&&void 0!==n?n:null,l=!(3<arguments.length&&void 0!==i)||i,u=!(4<arguments.length&&void 0!==r)||r;window.CustomEvent?o=new CustomEvent(e,{detail:s,bubbles:l,cancelable:u}):(o=document.createEvent("CustomEvent")).initCustomEvent(e,l,u,{detail:s}),a.dispatchEvent(o)}},{key:"parseStr",value:function(e){var t,n,i,r,o={};if(0===e&&1/e<0&&(e="-0"),e=e.toString(),this.isNegativeStrict(e,"-")?(e=e.slice(1),o.s=-1):o.s=1,-1<(t=e.indexOf("."))&&(e=e.replace(".","")),t<0&&(t=e.length),(n=-1===e.search(/[1-9]/i)?e.length:e.search(/[1-9]/i))===(i=e.length))o.e=0,o.c=[0];else{for(r=i-1;"0"===e.charAt(r);--r)--i;for(--i,o.e=t-n-1,o.c=[],t=0;n<=i;n+=1)o.c[t]=+e.charAt(n),t+=1}return o}},{key:"testMinMax",value:function(e,t){var n=t.c,i=e.c,r=t.s,o=e.s,a=t.e,s=e.e;if(!n[0]||!i[0])return n[0]?r:i[0]?-o:0;if(r!==o)return r;var l=r<0;if(a!==s)return s<a^l?1:-1;for(r=-1,o=(a=n.length)<(s=i.length)?a:s,r+=1;r<o;r+=1)if(n[r]!==i[r])return n[r]>i[r]^l?1:-1;return a===s?0:s<a^l?1:-1}},{key:"randomString",value:function(e){var t=0<arguments.length&&void 0!==e?e:5;return Math.random().toString(36).substr(2,t)}},{key:"domElement",value:function(t){return e.isString(t)?document.querySelector(t):t}},{key:"getElementValue",value:function(e){return"input"===e.tagName.toLowerCase()?e.value:this.text(e)}},{key:"setElementValue",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;"input"===e.tagName.toLowerCase()?e.value=n:e.textContent=n}},{key:"setInvalidState",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"Invalid";""!==n&&!this.isNull(n)||this.throwError("Cannot set the invalid state with an empty message."),e.setCustomValidity(n)}},{key:"setValidState",value:function(e){e.setCustomValidity("")}},{key:"cloneObject",value:function(e){return a({},e)}},{key:"camelize",value:function(e,t,n,i){var r=1<arguments.length&&void 0!==t?t:"-",o=!(2<arguments.length&&void 0!==n)||n,a=!(3<arguments.length&&void 0!==i)||i;if(this.isNull(e))return null;o&&(e=e.replace(/^data-/,""));var s=e.split(r).map((function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}));return s=s.join(""),a&&(s="".concat(s.charAt(0).toLowerCase()).concat(s.slice(1))),s}},{key:"text",value:function(e){var t=e.nodeType;return t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?e.textContent:t===Node.TEXT_NODE?e.nodeValue:""}},{key:"setText",value:function(e,t){var n=e.nodeType;n!==Node.ELEMENT_NODE&&n!==Node.DOCUMENT_NODE&&n!==Node.DOCUMENT_FRAGMENT_NODE||(e.textContent=t)}},{key:"filterOut",value:function(e,t){var n=this;return e.filter((function(e){return!n.isInArray(e,t)}))}},{key:"trimPaddedZerosFromDecimalPlaces",value:function(e){if(""===(e=String(e)))return"";var t=s(e.split("."),2),n=t[0],i=t[1];if(this.isUndefinedOrNullOrEmpty(i))return n;var r=i.replace(/0+$/g,"");return""===r?n:"".concat(n,".").concat(r)}},{key:"getHoveredElement",value:function(){var e=o(document.querySelectorAll(":hover"));return e[e.length-1]}},{key:"arrayTrim",value:function(e,t){var n=e.length;return 0===n||n<t?e:t<0?[]:(e.length=parseInt(t,10),e)}},{key:"arrayUnique",value:function(){var e;return o(new Set((e=[]).concat.apply(e,arguments)))}},{key:"mergeMaps",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Map(t.reduce((function(e,t){return e.concat(o(t))}),[]))}},{key:"objectKeyLookup",value:function(e,t){var n=Object.entries(e).find((function(e){return e[1]===t})),i=null;return void 0!==n&&(i=n[0]),i}},{key:"insertAt",value:function(e,t,n){if(n>(e=String(e)).length)throw new Error("The given index is out of the string range.");if(1!==t.length)throw new Error("The given string `char` should be only one character long.");return""===e&&0===n?t:"".concat(e.slice(0,n)).concat(t).concat(e.slice(n))}},{key:"scientificToDecimal",value:function(e){var t=Number(e);if(isNaN(t))return NaN;if(e=String(e),!this.contains(e,"e")&&!this.contains(e,"E"))return e;var n=s(e.split(/e/i),2),i=n[0],r=n[1],o=i<0;o&&(i=i.replace("-",""));var a=+r<0;a&&(r=r.replace("-",""));var l,u=s(i.split(/\./),2),c=u[0],d=u[1];return l=a?(l=c.length>r?this.insertAt(c,".",c.length-r):"0.".concat("0".repeat(r-c.length)).concat(c),"".concat(l).concat(d||"")):d?(i="".concat(c).concat(d),r<d.length?this.insertAt(i,".",+r+c.length):"".concat(i).concat("0".repeat(r-d.length))):(i=i.replace(".",""),"".concat(i).concat("0".repeat(Number(r)))),o&&(l="-".concat(l)),l}}]),e}(),f=function(){function e(t){if(function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),null===t)throw new Error("Invalid AST")}return function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,[{key:"evaluate",value:function(e){if(null==e)throw new Error("Invalid AST sub-tree");if("number"===e.type)return e.value;if("unaryMinus"===e.type)return-this.evaluate(e.left);var t=this.evaluate(e.left),n=this.evaluate(e.right);switch(e.type){case"op_+":return Number(t)+Number(n);case"op_-":return t-n;case"op_*":return t*n;case"op_/":return t/n;default:throw new Error("Invalid operator '".concat(e.type,"'"))}}}]),e}(),h=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,[{key:"createNode",value:function(t,n,i){var r=new e;return r.type=t,r.left=n,r.right=i,r}},{key:"createUnaryNode",value:function(t){var n=new e;return n.type="unaryMinus",n.left=t,n.right=null,n}},{key:"createLeaf",value:function(t){var n=new e;return n.type="number",n.value=t,n}}]),e}();function p(e,t,n){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),this.type=e,this.value=t,this.symbol=n}var m=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.text=t,this.textLength=t.length,this.index=0,this.token=new p("Error",0,0)}return function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,[{key:"_skipSpaces",value:function(){for(;" "===this.text[this.index]&&this.index<=this.textLength;)this.index++}},{key:"getIndex",value:function(){return this.index}},{key:"getNextToken",value:function(e){var t=0<arguments.length&&void 0!==e?e:".";if(this._skipSpaces(),this.textLength===this.index)return this.token.type="EOT",this.token;if(d.isDigit(this.text[this.index]))return this.token.type="num",this.token.value=this._getNumber(t),this.token;switch(this.token.type="Error",this.text[this.index]){case"+":this.token.type="+";break;case"-":this.token.type="-";break;case"*":this.token.type="*";break;case"/":this.token.type="/";break;case"(":this.token.type="(";break;case")":this.token.type=")"}if("Error"===this.token.type)throw new Error("Unexpected token '".concat(this.token.symbol,"' at position '").concat(this.token.index,"' in the token function"));return this.token.symbol=this.text[this.index],this.index++,this.token}},{key:"_getNumber",value:function(e){this._skipSpaces();for(var t=this.index;this.index<=this.textLength&&d.isDigit(this.text[this.index]);)this.index++;for(this.text[this.index]===e&&this.index++;this.index<=this.textLength&&d.isDigit(this.text[this.index]);)this.index++;if(this.index===t)throw new Error("No number has been found while it was expected");return this.text.substring(t,this.index).replace(e,".")}}]),e}(),g=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:".";return function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.text=t,this.decimalCharacter=n,this.lexer=new m(t),this.token=this.lexer.getNextToken(this.decimalCharacter),this._exp()}return function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,[{key:"_exp",value:function(){var e=this._term(),t=this._moreExp();return h.createNode("op_+",e,t)}},{key:"_moreExp",value:function(){var e,t;switch(this.token.type){case"+":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),h.createNode("op_+",t,e);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),h.createNode("op_-",t,e)}return h.createLeaf(0)}},{key:"_term",value:function(){var e=this._factor(),t=this._moreTerms();return h.createNode("op_*",e,t)}},{key:"_moreTerms",value:function(){var e,t;switch(this.token.type){case"*":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),h.createNode("op_*",t,e);case"/":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),h.createNode("op_/",t,e)}return h.createLeaf(1)}},{key:"_factor",value:function(){var e,t,n;switch(this.token.type){case"num":return n=this.token.value,this.token=this.lexer.getNextToken(this.decimalCharacter),h.createLeaf(n);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),t=this._factor(),h.createUnaryNode(t);case"(":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._exp(),this._match(")"),e;default:throw new Error("Unexpected token '".concat(this.token.symbol,"' with type '").concat(this.token.type,"' at position '").concat(this.token.index,"' in the factor function"))}}},{key:"_match",value:function(e){var t=this.lexer.getIndex()-1;if(this.text[t]!==e)throw new Error("Unexpected token '".concat(this.token.symbol,"' at position '").concat(t,"' in the match function"));this.token=this.lexer.getNextToken(this.decimalCharacter)}}]),e}();function v(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var C,x=function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var o=e._setArgumentsValues(n,i,r),a=o.domElement,s=o.initialValue,l=o.userOptions;if(this.domElement=a,this.defaultRawValue="",this._setSettings(l,!1),this._checkElement(),this.savedCancellableValue=null,this.historyTable=[],this.historyTableIndex=-1,this.onGoingRedo=!1,this.parentForm=this._getParentForm(),!this.runOnce&&this.settings.formatOnPageLoad)this._formatDefaultValueOnPageLoad(s);else{var u;if(d.isNull(s))switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.min:u=this.settings.minimumValue;break;case e.options.emptyInputBehavior.max:u=this.settings.maximumValue;break;case e.options.emptyInputBehavior.zero:u="0";break;case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.press:case e.options.emptyInputBehavior.always:case e.options.emptyInputBehavior.null:u="";break;default:u=this.settings.emptyInputBehavior}else u=s;this._setElementAndRawValue(u)}this.runOnce=!0,this.hasEventListeners=!1,(this.isInputElement||this.isContentEditable)&&(this.settings.noEventListeners||this._createEventListeners(),this._setWritePermissions(!0)),this._saveInitialValues(s),this.sessionStorageAvailable=this.constructor._storageTest(),this.storageNamePrefix="AUTO_",this._setPersistentStorageName(),this.validState=!0,this.isFocused=!1,this.isWheelEvent=!1,this.isDropEvent=!1,this.isEditing=!1,this.rawValueOnFocus=void 0,this.internalModification=!1,this.attributeToWatch=this._getAttributeToWatch(),this.getterSetter=Object.getOwnPropertyDescriptor(this.domElement.__proto__,this.attributeToWatch),this._addWatcher(),this.settings.createLocalList&&this._createLocalList(),this.constructor._addToGlobalList(this),this.global={set:function(e,n){var i=1<arguments.length&&void 0!==n?n:null;t.autoNumericLocalList.forEach((function(t){t.set(e,i)}))},setUnformatted:function(e,n){var i=1<arguments.length&&void 0!==n?n:null;t.autoNumericLocalList.forEach((function(t){t.setUnformatted(e,i)}))},get:function(e){var n=0<arguments.length&&void 0!==e?e:null,i=[];return t.autoNumericLocalList.forEach((function(e){i.push(e.get())})),t._executeCallback(i,n),i},getNumericString:function(e){var n=0<arguments.length&&void 0!==e?e:null,i=[];return t.autoNumericLocalList.forEach((function(e){i.push(e.getNumericString())})),t._executeCallback(i,n),i},getFormatted:function(e){var n=0<arguments.length&&void 0!==e?e:null,i=[];return t.autoNumericLocalList.forEach((function(e){i.push(e.getFormatted())})),t._executeCallback(i,n),i},getNumber:function(e){var n=0<arguments.length&&void 0!==e?e:null,i=[];return t.autoNumericLocalList.forEach((function(e){i.push(e.getNumber())})),t._executeCallback(i,n),i},getLocalized:function(e){var n=0<arguments.length&&void 0!==e?e:null,i=[];return t.autoNumericLocalList.forEach((function(e){i.push(e.getLocalized())})),t._executeCallback(i,n),i},reformat:function(){t.autoNumericLocalList.forEach((function(e){e.reformat()}))},unformat:function(){t.autoNumericLocalList.forEach((function(e){e.unformat()}))},unformatLocalized:function(e){var n=0<arguments.length&&void 0!==e?e:null;t.autoNumericLocalList.forEach((function(e){e.unformatLocalized(n)}))},update:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.autoNumericLocalList.forEach((function(e){e.update.apply(e,n)}))},isPristine:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],n=!0;return t.autoNumericLocalList.forEach((function(t){n&&!t.isPristine(e)&&(n=!1)})),n},clear:function(e){var n=0<arguments.length&&void 0!==e&&e;t.autoNumericLocalList.forEach((function(e){e.clear(n)}))},remove:function(){t.autoNumericLocalList.forEach((function(e){e.remove()}))},wipe:function(){t.autoNumericLocalList.forEach((function(e){e.wipe()}))},nuke:function(){t.autoNumericLocalList.forEach((function(e){e.nuke()}))},has:function(n){return n instanceof e?t.autoNumericLocalList.has(n.node()):t.autoNumericLocalList.has(n)},addObject:function(n){var i,r;r=n instanceof e?(i=n.node(),n):e.getAutoNumericElement(i=n),t._hasLocalList()||t._createLocalList();var o,a=r._getLocalList();0===a.size&&(r._createLocalList(),a=r._getLocalList()),(o=a instanceof Map?d.mergeMaps(t._getLocalList(),a):(t._addToLocalList(i,r),t._getLocalList())).forEach((function(e){e._setLocalList(o)}))},removeObject:function(n,i){var r,o,a=1<arguments.length&&void 0!==i&&i;o=n instanceof e?(r=n.node(),n):e.getAutoNumericElement(r=n);var s=t.autoNumericLocalList;t.autoNumericLocalList.delete(r),s.forEach((function(e){e._setLocalList(t.autoNumericLocalList)})),a||r!==t.node()?o._createLocalList():o._setLocalList(new Map)},empty:function(e){var n=0<arguments.length&&void 0!==e&&e;t.autoNumericLocalList.forEach((function(e){n?e._createLocalList():e._setLocalList(new Map)}))},elements:function(){var e=[];return t.autoNumericLocalList.forEach((function(t){e.push(t.node())})),e},getList:function(){return t.autoNumericLocalList},size:function(){return t.autoNumericLocalList.size}},this.options={reset:function(){return t.settings={rawValue:t.defaultRawValue},t.update(e.defaultSettings),t},allowDecimalPadding:function(e){return t.update({allowDecimalPadding:e}),t},alwaysAllowDecimalCharacter:function(e){return t.update({alwaysAllowDecimalCharacter:e}),t},caretPositionOnFocus:function(e){return t.settings.caretPositionOnFocus=e,t},createLocalList:function(e){return t.settings.createLocalList=e,t.settings.createLocalList?t._hasLocalList()||t._createLocalList():t._deleteLocalList(),t},currencySymbol:function(e){return t.update({currencySymbol:e}),t},currencySymbolPlacement:function(e){return t.update({currencySymbolPlacement:e}),t},decimalCharacter:function(e){return t.update({decimalCharacter:e}),t},decimalCharacterAlternative:function(e){return t.settings.decimalCharacterAlternative=e,t},decimalPlaces:function(e){return d.warning("Using `options.decimalPlaces()` instead of calling the specific `options.decimalPlacesRawValue()`, `options.decimalPlacesShownOnFocus()` and `options.decimalPlacesShownOnBlur()` methods will reset those options.\nPlease call the specific methods if you do not want to reset those.",t.settings.showWarnings),t.update({decimalPlaces:e}),t},decimalPlacesRawValue:function(e){return t.update({decimalPlacesRawValue:e}),t},decimalPlacesShownOnBlur:function(e){return t.update({decimalPlacesShownOnBlur:e}),t},decimalPlacesShownOnFocus:function(e){return t.update({decimalPlacesShownOnFocus:e}),t},defaultValueOverride:function(e){return t.update({defaultValueOverride:e}),t},digitalGroupSpacing:function(e){return t.update({digitalGroupSpacing:e}),t},digitGroupSeparator:function(e){return t.update({digitGroupSeparator:e}),t},divisorWhenUnfocused:function(e){return t.update({divisorWhenUnfocused:e}),t},emptyInputBehavior:function(n){return null===t.rawValue&&n!==e.options.emptyInputBehavior.null&&(d.warning("You are trying to modify the `emptyInputBehavior` option to something different than `'null'` (".concat(n,"), but the element raw value is currently set to `null`. This would result in an invalid `rawValue`. In order to fix that, the element value has been changed to the empty string `''`."),t.settings.showWarnings),t.rawValue=""),t.update({emptyInputBehavior:n}),t},eventBubbles:function(e){return t.settings.eventBubbles=e,t},eventIsCancelable:function(e){return t.settings.eventIsCancelable=e,t},failOnUnknownOption:function(e){return t.settings.failOnUnknownOption=e,t},formatOnPageLoad:function(e){return t.settings.formatOnPageLoad=e,t},formulaMode:function(e){return t.settings.formulaMode=e,t},historySize:function(e){return t.settings.historySize=e,t},invalidClass:function(e){return t.settings.invalidClass=e,t},isCancellable:function(e){return t.settings.isCancellable=e,t},leadingZero:function(e){return t.update({leadingZero:e}),t},maximumValue:function(e){return t.update({maximumValue:e}),t},minimumValue:function(e){return t.update({minimumValue:e}),t},modifyValueOnWheel:function(e){return t.settings.modifyValueOnWheel=e,t},negativeBracketsTypeOnBlur:function(e){return t.update({negativeBracketsTypeOnBlur:e}),t},negativePositiveSignPlacement:function(e){return t.update({negativePositiveSignPlacement:e}),t},negativeSignCharacter:function(e){return t.update({negativeSignCharacter:e}),t},noEventListeners:function(n){return n===e.options.noEventListeners.noEvents&&t.settings.noEventListeners===e.options.noEventListeners.addEvents&&t._removeEventListeners(),t.update({noEventListeners:n}),t},onInvalidPaste:function(e){return t.settings.onInvalidPaste=e,t},outputFormat:function(e){return t.settings.outputFormat=e,t},overrideMinMaxLimits:function(e){return t.update({overrideMinMaxLimits:e}),t},positiveSignCharacter:function(e){return t.update({positiveSignCharacter:e}),t},rawValueDivisor:function(e){return t.update({rawValueDivisor:e}),t},readOnly:function(e){return t.settings.readOnly=e,t._setWritePermissions(),t},roundingMethod:function(e){return t.update({roundingMethod:e}),t},saveValueToSessionStorage:function(e){return t.update({saveValueToSessionStorage:e}),t},symbolWhenUnfocused:function(e){return t.update({symbolWhenUnfocused:e}),t},selectNumberOnly:function(e){return t.settings.selectNumberOnly=e,t},selectOnFocus:function(e){return t.settings.selectOnFocus=e,t},serializeSpaces:function(e){return t.settings.serializeSpaces=e,t},showOnlyNumbersOnFocus:function(e){return t.update({showOnlyNumbersOnFocus:e}),t},showPositiveSign:function(e){return t.update({showPositiveSign:e}),t},showWarnings:function(e){return t.settings.showWarnings=e,t},styleRules:function(e){return t.update({styleRules:e}),t},suffixText:function(e){return t.update({suffixText:e}),t},unformatOnHover:function(e){return t.settings.unformatOnHover=e,t},unformatOnSubmit:function(e){return t.settings.unformatOnSubmit=e,t},valuesToStrings:function(e){return t.update({valuesToStrings:e}),t},watchExternalChanges:function(e){return t.update({watchExternalChanges:e}),t},wheelOn:function(e){return t.settings.wheelOn=e,t},wheelStep:function(e){return t.settings.wheelStep=e,t}},this._triggerEvent(e.events.initialized,this.domElement,{newValue:d.getElementValue(this.domElement),newRawValue:this.rawValue,error:null,aNElement:this})}var t,n;return n=[{key:"version",value:function(){return"4.6.0"}},{key:"_setArgumentsValues",value:function(e,t,n){d.isNull(e)&&d.throwError("At least one valid parameter is needed in order to initialize an AutoNumeric object");var i,r,o,a=d.isElement(e),s=d.isString(e),l=d.isObject(t),u=Array.isArray(t)&&0<t.length,c=d.isNumberOrArabic(t)||""===t,f=this._isPreDefinedOptionValid(t),h=d.isNull(t),p=d.isEmptyString(t),m=d.isObject(n),g=Array.isArray(n)&&0<n.length,v=d.isNull(n),y=this._isPreDefinedOptionValid(n);return a&&h&&v?(i=e,r=o=null):a&&c&&v?(i=e,o=t,r=null):a&&l&&v?(i=e,o=null,r=t):a&&f&&v?(i=e,o=null,r=this._getOptionObject(t)):a&&u&&v?(i=e,o=null,r=this.mergeOptions(t)):a&&(h||p)&&m?(i=e,o=null,r=n):a&&(h||p)&&g?(i=e,o=null,r=this.mergeOptions(n)):s&&h&&v?(i=document.querySelector(e),r=o=null):s&&l&&v?(i=document.querySelector(e),o=null,r=t):s&&f&&v?(i=document.querySelector(e),o=null,r=this._getOptionObject(t)):s&&u&&v?(i=document.querySelector(e),o=null,r=this.mergeOptions(t)):s&&(h||p)&&m?(i=document.querySelector(e),o=null,r=n):s&&(h||p)&&g?(i=document.querySelector(e),o=null,r=this.mergeOptions(n)):s&&c&&v?(i=document.querySelector(e),o=t,r=null):s&&c&&m?(i=document.querySelector(e),o=t,r=n):s&&c&&y?(i=document.querySelector(e),o=t,r=this._getOptionObject(n)):s&&c&&g?(i=document.querySelector(e),o=t,r=this.mergeOptions(n)):a&&c&&m?(i=e,o=t,r=n):a&&c&&y?(i=e,o=t,r=this._getOptionObject(n)):a&&c&&g?(i=e,o=t,r=this.mergeOptions(n)):d.throwError("The parameters given to the AutoNumeric object are not valid, '".concat(e,"', '").concat(t,"' and '").concat(n,"' given.")),d.isNull(i)&&d.throwError("The selector '".concat(e,"' did not select any valid DOM element. Please check on which element you called AutoNumeric.")),{domElement:i,initialValue:o,userOptions:r}}},{key:"mergeOptions",value:function(e){var t=this,n={};return e.forEach((function(e){w(n,t._getOptionObject(e))})),n}},{key:"_isPreDefinedOptionValid",value:function(t){return Object.prototype.hasOwnProperty.call(e.predefinedOptions,t)}},{key:"_getOptionObject",value:function(t){var n;return d.isString(t)?null==(n=e.getPredefinedOptions()[t])&&d.warning("The given pre-defined option [".concat(t,"] is not recognized by autoNumeric. Please check that pre-defined option name."),!0):n=t,n}},{key:"_doesFormHandlerListExists",value:function(){var e=S(window.aNFormHandlerMap);return"undefined"!==e&&"object"===e}},{key:"_createFormHandlerList",value:function(){window.aNFormHandlerMap=new Map}},{key:"_checkValuesToStringsArray",value:function(e,t){return d.isInArray(String(e),t)}},{key:"_checkValuesToStringsSettings",value:function(e,t){return this._checkValuesToStringsArray(e,Object.keys(t.valuesToStrings))}},{key:"_checkStringsToValuesSettings",value:function(e,t){return this._checkValuesToStringsArray(e,Object.values(t.valuesToStrings))}},{key:"_unformatAltHovered",value:function(e){e.hoveredWithAlt=!0,e.unformat()}},{key:"_reformatAltHovered",value:function(e){e.hoveredWithAlt=!1,e.reformat()}},{key:"_getChildANInputElement",value:function(e){var t=this,n=e.getElementsByTagName("input"),i=[];return Array.prototype.slice.call(n,0).forEach((function(e){t.test(e)&&i.push(e)})),i}},{key:"test",value:function(e){return this._isInGlobalList(d.domElement(e))}},{key:"_createWeakMap",value:function(e){window[e]=new WeakMap}},{key:"_createGlobalList",value:function(){this.autoNumericGlobalListName="autoNumericGlobalList",this._createWeakMap(this.autoNumericGlobalListName)}},{key:"_doesGlobalListExists",value:function(){var e=S(window[this.autoNumericGlobalListName]);return"undefined"!==e&&"object"===e}},{key:"_addToGlobalList",value:function(e){this._doesGlobalListExists()||this._createGlobalList();var t=e.node();if(this._isInGlobalList(t)){if(this._getFromGlobalList(t)===this)return;d.warning("A reference to the DOM element you just initialized already exists in the global AutoNumeric element list. Please make sure to not initialize the same DOM element multiple times.",e.getSettings().showWarnings)}window[this.autoNumericGlobalListName].set(t,e)}},{key:"_removeFromGlobalList",value:function(e){this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].delete(e.node())}},{key:"_getFromGlobalList",value:function(e){return this._doesGlobalListExists()?window[this.autoNumericGlobalListName].get(e):null}},{key:"_isInGlobalList",value:function(e){return!!this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].has(e)}},{key:"validate",value:function(t,n,i){var r=!(1<arguments.length&&void 0!==n)||n,o=2<arguments.length&&void 0!==i?i:null;!d.isUndefinedOrNullOrEmpty(t)&&d.isObject(t)||d.throwError("The userOptions are invalid ; it should be a valid object, [".concat(t,"] given."));var a,s=d.isObject(o);s||d.isNull(o)||d.throwError("The 'originalOptions' parameter is invalid ; it should either be a valid option object or `null`, [".concat(t,"] given.")),d.isNull(t)||this._convertOldOptionsToNewOnes(t),a=r?w({},this.getDefaultConfig(),t):t,d.isTrueOrFalseString(a.showWarnings)||d.isBoolean(a.showWarnings)||d.throwError("The debug option 'showWarnings' is invalid ; it should be either 'true' or 'false', [".concat(a.showWarnings,"] given."));var l,u=/^[0-9]+$/,c=/[0-9]+/,f=/^-?[0-9]+(\.?[0-9]+)?$/,h=/^[0-9]+(\.?[0-9]+)?$/;d.isTrueOrFalseString(a.allowDecimalPadding)||d.isBoolean(a.allowDecimalPadding)||a.allowDecimalPadding===e.options.allowDecimalPadding.floats||d.throwError("The decimal padding option 'allowDecimalPadding' is invalid ; it should either be `false`, `true` or `'floats'`, [".concat(a.allowDecimalPadding,"] given.")),a.allowDecimalPadding!==e.options.allowDecimalPadding.never&&"false"!==a.allowDecimalPadding||a.decimalPlaces===e.options.decimalPlaces.none&&a.decimalPlacesShownOnBlur===e.options.decimalPlacesShownOnBlur.none&&a.decimalPlacesShownOnFocus===e.options.decimalPlacesShownOnFocus.none||d.warning("Setting 'allowDecimalPadding' to [".concat(a.allowDecimalPadding,"] will override the current 'decimalPlaces*' settings [").concat(a.decimalPlaces,", ").concat(a.decimalPlacesShownOnBlur," and ").concat(a.decimalPlacesShownOnFocus,"]."),a.showWarnings),d.isTrueOrFalseString(a.alwaysAllowDecimalCharacter)||d.isBoolean(a.alwaysAllowDecimalCharacter)||d.throwError("The option 'alwaysAllowDecimalCharacter' is invalid ; it should either be `true` or `false`, [".concat(a.alwaysAllowDecimalCharacter,"] given.")),d.isNull(a.caretPositionOnFocus)||d.isInArray(a.caretPositionOnFocus,[e.options.caretPositionOnFocus.start,e.options.caretPositionOnFocus.end,e.options.caretPositionOnFocus.decimalLeft,e.options.caretPositionOnFocus.decimalRight])||d.throwError("The display on empty string option 'caretPositionOnFocus' is invalid ; it should either be `null`, 'focus', 'press', 'always' or 'zero', [".concat(a.caretPositionOnFocus,"] given.")),l=s?o:this._correctCaretPositionOnFocusAndSelectOnFocusOptions(t),d.isNull(l)||l.caretPositionOnFocus===e.options.caretPositionOnFocus.doNoForceCaretPosition||l.selectOnFocus!==e.options.selectOnFocus.select||d.warning("The 'selectOnFocus' option is set to 'select', which is in conflict with the 'caretPositionOnFocus' which is set to '".concat(l.caretPositionOnFocus,"'. As a result, if this has been called when instantiating an AutoNumeric object, the 'selectOnFocus' option is forced to 'doNotSelect'."),a.showWarnings),d.isInArray(a.digitGroupSeparator,[e.options.digitGroupSeparator.comma,e.options.digitGroupSeparator.dot,e.options.digitGroupSeparator.normalSpace,e.options.digitGroupSeparator.thinSpace,e.options.digitGroupSeparator.narrowNoBreakSpace,e.options.digitGroupSeparator.noBreakSpace,e.options.digitGroupSeparator.noSeparator,e.options.digitGroupSeparator.apostrophe,e.options.digitGroupSeparator.arabicThousandsSeparator,e.options.digitGroupSeparator.dotAbove,e.options.digitGroupSeparator.privateUseTwo])||d.throwError("The thousand separator character option 'digitGroupSeparator' is invalid ; it should be ',', '.', '٬', '˙', \"'\", '', ' ', ' ', ' ', ' ' or empty (''), [".concat(a.digitGroupSeparator,"] given.")),d.isTrueOrFalseString(a.showOnlyNumbersOnFocus)||d.isBoolean(a.showOnlyNumbersOnFocus)||d.throwError("The 'showOnlyNumbersOnFocus' option is invalid ; it should be either 'true' or 'false', [".concat(a.showOnlyNumbersOnFocus,"] given.")),d.isInArray(a.digitalGroupSpacing,[e.options.digitalGroupSpacing.two,e.options.digitalGroupSpacing.twoScaled,e.options.digitalGroupSpacing.three,e.options.digitalGroupSpacing.four])||2<=a.digitalGroupSpacing&&a.digitalGroupSpacing<=4||d.throwError("The grouping separator option for thousands 'digitalGroupSpacing' is invalid ; it should be '2', '2s', '3', or '4', [".concat(a.digitalGroupSpacing,"] given.")),d.isInArray(a.decimalCharacter,[e.options.decimalCharacter.comma,e.options.decimalCharacter.dot,e.options.decimalCharacter.middleDot,e.options.decimalCharacter.arabicDecimalSeparator,e.options.decimalCharacter.decimalSeparatorKeySymbol])||d.throwError("The decimal separator character option 'decimalCharacter' is invalid ; it should be '.', ',', '·', '⎖' or '٫', [".concat(a.decimalCharacter,"] given.")),a.decimalCharacter===a.digitGroupSeparator&&d.throwError("autoNumeric will not function properly when the decimal character 'decimalCharacter' [".concat(a.decimalCharacter,"] and the thousand separator 'digitGroupSeparator' [").concat(a.digitGroupSeparator,"] are the same character.")),d.isNull(a.decimalCharacterAlternative)||d.isString(a.decimalCharacterAlternative)||d.throwError("The alternate decimal separator character option 'decimalCharacterAlternative' is invalid ; it should be a string, [".concat(a.decimalCharacterAlternative,"] given.")),""===a.currencySymbol||d.isString(a.currencySymbol)||d.throwError("The currency symbol option 'currencySymbol' is invalid ; it should be a string, [".concat(a.currencySymbol,"] given.")),d.isInArray(a.currencySymbolPlacement,[e.options.currencySymbolPlacement.prefix,e.options.currencySymbolPlacement.suffix])||d.throwError("The placement of the currency sign option 'currencySymbolPlacement' is invalid ; it should either be 'p' (prefix) or 's' (suffix), [".concat(a.currencySymbolPlacement,"] given.")),d.isInArray(a.negativePositiveSignPlacement,[e.options.negativePositiveSignPlacement.prefix,e.options.negativePositiveSignPlacement.suffix,e.options.negativePositiveSignPlacement.left,e.options.negativePositiveSignPlacement.right,e.options.negativePositiveSignPlacement.none])||d.throwError("The placement of the negative sign option 'negativePositiveSignPlacement' is invalid ; it should either be 'p' (prefix), 's' (suffix), 'l' (left), 'r' (right) or 'null', [".concat(a.negativePositiveSignPlacement,"] given.")),d.isTrueOrFalseString(a.showPositiveSign)||d.isBoolean(a.showPositiveSign)||d.throwError("The show positive sign option 'showPositiveSign' is invalid ; it should be either 'true' or 'false', [".concat(a.showPositiveSign,"] given.")),d.isString(a.suffixText)&&(""===a.suffixText||!d.isNegative(a.suffixText,a.negativeSignCharacter)&&!c.test(a.suffixText))||d.throwError("The additional suffix option 'suffixText' is invalid ; it should not contains the negative sign '".concat(a.negativeSignCharacter,"' nor any numerical characters, [").concat(a.suffixText,"] given.")),d.isString(a.negativeSignCharacter)&&1===a.negativeSignCharacter.length&&!d.isUndefinedOrNullOrEmpty(a.negativeSignCharacter)&&!c.test(a.negativeSignCharacter)||d.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(a.negativeSignCharacter,"] given.")),d.isString(a.positiveSignCharacter)&&1===a.positiveSignCharacter.length&&!d.isUndefinedOrNullOrEmpty(a.positiveSignCharacter)&&!c.test(a.positiveSignCharacter)||d.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(a.positiveSignCharacter,"] given.\nIf you want to hide the positive sign character, you need to set the `showPositiveSign` option to `true`.")),a.negativeSignCharacter===a.positiveSignCharacter&&d.throwError("The positive 'positiveSignCharacter' and negative 'negativeSignCharacter' sign characters cannot be identical ; [".concat(a.negativeSignCharacter,"] given."));var p=y(d.isNull(a.negativeBracketsTypeOnBlur)?["",""]:a.negativeBracketsTypeOnBlur.split(","),2),m=p[0],g=p[1];(d.contains(a.digitGroupSeparator,a.negativeSignCharacter)||d.contains(a.decimalCharacter,a.negativeSignCharacter)||d.contains(a.decimalCharacterAlternative,a.negativeSignCharacter)||d.contains(m,a.negativeSignCharacter)||d.contains(g,a.negativeSignCharacter)||d.contains(a.suffixText,a.negativeSignCharacter))&&d.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(a.negativeSignCharacter,"] given.")),(d.contains(a.digitGroupSeparator,a.positiveSignCharacter)||d.contains(a.decimalCharacter,a.positiveSignCharacter)||d.contains(a.decimalCharacterAlternative,a.positiveSignCharacter)||d.contains(m,a.positiveSignCharacter)||d.contains(g,a.positiveSignCharacter)||d.contains(a.suffixText,a.positiveSignCharacter))&&d.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(a.positiveSignCharacter,"] given.")),d.isNull(a.overrideMinMaxLimits)||d.isInArray(a.overrideMinMaxLimits,[e.options.overrideMinMaxLimits.ceiling,e.options.overrideMinMaxLimits.floor,e.options.overrideMinMaxLimits.ignore,e.options.overrideMinMaxLimits.invalid])||d.throwError("The override min & max limits option 'overrideMinMaxLimits' is invalid ; it should either be 'ceiling', 'floor', 'ignore' or 'invalid', [".concat(a.overrideMinMaxLimits,"] given.")),a.overrideMinMaxLimits!==e.options.overrideMinMaxLimits.invalid&&a.overrideMinMaxLimits!==e.options.overrideMinMaxLimits.ignore&&(0<a.minimumValue||a.maximumValue<0)&&d.warning("You've set a `minimumValue` or a `maximumValue` excluding the value `0`. AutoNumeric will force the users to always have a valid value in the input, hence preventing them to clear the field. If you want to allow for temporary invalid values (ie. out-of-range), you should use the 'invalid' option for the 'overrideMinMaxLimits' setting."),d.isString(a.maximumValue)&&f.test(a.maximumValue)||d.throwError("The maximum possible value option 'maximumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(a.maximumValue,"] given.")),d.isString(a.minimumValue)&&f.test(a.minimumValue)||d.throwError("The minimum possible value option 'minimumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(a.minimumValue,"] given.")),parseFloat(a.minimumValue)>parseFloat(a.maximumValue)&&d.throwError("The minimum possible value option is greater than the maximum possible value option ; 'minimumValue' [".concat(a.minimumValue,"] should be smaller than 'maximumValue' [").concat(a.maximumValue,"].")),d.isInt(a.decimalPlaces)&&0<=a.decimalPlaces||d.isString(a.decimalPlaces)&&u.test(a.decimalPlaces)||d.throwError("The number of decimal places option 'decimalPlaces' is invalid ; it should be a positive integer, [".concat(a.decimalPlaces,"] given.")),d.isNull(a.decimalPlacesRawValue)||d.isInt(a.decimalPlacesRawValue)&&0<=a.decimalPlacesRawValue||d.isString(a.decimalPlacesRawValue)&&u.test(a.decimalPlacesRawValue)||d.throwError("The number of decimal places for the raw value option 'decimalPlacesRawValue' is invalid ; it should be a positive integer or `null`, [".concat(a.decimalPlacesRawValue,"] given.")),this._validateDecimalPlacesRawValue(a),d.isNull(a.decimalPlacesShownOnFocus)||u.test(String(a.decimalPlacesShownOnFocus))||d.throwError("The number of expanded decimal places option 'decimalPlacesShownOnFocus' is invalid ; it should be a positive integer or `null`, [".concat(a.decimalPlacesShownOnFocus,"] given.")),!d.isNull(a.decimalPlacesShownOnFocus)&&Number(a.decimalPlaces)>Number(a.decimalPlacesShownOnFocus)&&d.warning("The extended decimal places 'decimalPlacesShownOnFocus' [".concat(a.decimalPlacesShownOnFocus,"] should be greater than the 'decimalPlaces' [").concat(a.decimalPlaces,"] value. Currently, this will limit the ability of your user to manually change some of the decimal places. Do you really want to do that?"),a.showWarnings),(d.isNull(a.divisorWhenUnfocused)||h.test(a.divisorWhenUnfocused))&&0!==a.divisorWhenUnfocused&&"0"!==a.divisorWhenUnfocused&&1!==a.divisorWhenUnfocused&&"1"!==a.divisorWhenUnfocused||d.throwError("The divisor option 'divisorWhenUnfocused' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(a.divisorWhenUnfocused,"] given.")),d.isNull(a.decimalPlacesShownOnBlur)||u.test(a.decimalPlacesShownOnBlur)||d.throwError("The number of decimals shown when unfocused option 'decimalPlacesShownOnBlur' is invalid ; it should be a positive integer or `null`, [".concat(a.decimalPlacesShownOnBlur,"] given.")),d.isNull(a.symbolWhenUnfocused)||d.isString(a.symbolWhenUnfocused)||d.throwError("The symbol to show when unfocused option 'symbolWhenUnfocused' is invalid ; it should be a string, [".concat(a.symbolWhenUnfocused,"] given.")),d.isTrueOrFalseString(a.saveValueToSessionStorage)||d.isBoolean(a.saveValueToSessionStorage)||d.throwError("The save to session storage option 'saveValueToSessionStorage' is invalid ; it should be either 'true' or 'false', [".concat(a.saveValueToSessionStorage,"] given.")),d.isInArray(a.onInvalidPaste,[e.options.onInvalidPaste.error,e.options.onInvalidPaste.ignore,e.options.onInvalidPaste.clamp,e.options.onInvalidPaste.truncate,e.options.onInvalidPaste.replace])||d.throwError("The paste behavior option 'onInvalidPaste' is invalid ; it should either be 'error', 'ignore', 'clamp', 'truncate' or 'replace' (cf. documentation), [".concat(a.onInvalidPaste,"] given.")),d.isInArray(a.roundingMethod,[e.options.roundingMethod.halfUpSymmetric,e.options.roundingMethod.halfUpAsymmetric,e.options.roundingMethod.halfDownSymmetric,e.options.roundingMethod.halfDownAsymmetric,e.options.roundingMethod.halfEvenBankersRounding,e.options.roundingMethod.upRoundAwayFromZero,e.options.roundingMethod.downRoundTowardZero,e.options.roundingMethod.toCeilingTowardPositiveInfinity,e.options.roundingMethod.toFloorTowardNegativeInfinity,e.options.roundingMethod.toNearest05,e.options.roundingMethod.toNearest05Alt,e.options.roundingMethod.upToNext05,e.options.roundingMethod.downToNext05])||d.throwError("The rounding method option 'roundingMethod' is invalid ; it should either be 'S', 'A', 's', 'a', 'B', 'U', 'D', 'C', 'F', 'N05', 'CHF', 'U05' or 'D05' (cf. documentation), [".concat(a.roundingMethod,"] given.")),d.isNull(a.negativeBracketsTypeOnBlur)||d.isInArray(a.negativeBracketsTypeOnBlur,[e.options.negativeBracketsTypeOnBlur.parentheses,e.options.negativeBracketsTypeOnBlur.brackets,e.options.negativeBracketsTypeOnBlur.chevrons,e.options.negativeBracketsTypeOnBlur.curlyBraces,e.options.negativeBracketsTypeOnBlur.angleBrackets,e.options.negativeBracketsTypeOnBlur.japaneseQuotationMarks,e.options.negativeBracketsTypeOnBlur.halfBrackets,e.options.negativeBracketsTypeOnBlur.whiteSquareBrackets,e.options.negativeBracketsTypeOnBlur.quotationMarks,e.options.negativeBracketsTypeOnBlur.guillemets])||d.throwError("The brackets for negative values option 'negativeBracketsTypeOnBlur' is invalid ; it should either be '(,)', '[,]', '<,>', '{,}', '〈,〉', '｢,｣', '⸤,⸥', '⟦,⟧', '‹,›' or '«,»', [".concat(a.negativeBracketsTypeOnBlur,"] given.")),(d.isString(a.emptyInputBehavior)||d.isNumber(a.emptyInputBehavior))&&(d.isInArray(a.emptyInputBehavior,[e.options.emptyInputBehavior.focus,e.options.emptyInputBehavior.press,e.options.emptyInputBehavior.always,e.options.emptyInputBehavior.min,e.options.emptyInputBehavior.max,e.options.emptyInputBehavior.zero,e.options.emptyInputBehavior.null])||f.test(a.emptyInputBehavior))||d.throwError("The display on empty string option 'emptyInputBehavior' is invalid ; it should either be 'focus', 'press', 'always', 'min', 'max', 'zero', 'null', a number, or a string that represents a number, [".concat(a.emptyInputBehavior,"] given.")),a.emptyInputBehavior===e.options.emptyInputBehavior.zero&&(0<a.minimumValue||a.maximumValue<0)&&d.throwError("The 'emptyInputBehavior' option is set to 'zero', but this value is outside of the range defined by 'minimumValue' and 'maximumValue' [".concat(a.minimumValue,", ").concat(a.maximumValue,"].")),f.test(String(a.emptyInputBehavior))&&(this._isWithinRangeWithOverrideOption(a.emptyInputBehavior,a)||d.throwError("The 'emptyInputBehavior' option is set to a number or a string that represents a number, but its value [".concat(a.emptyInputBehavior,"] is outside of the range defined by the 'minimumValue' and 'maximumValue' options [").concat(a.minimumValue,", ").concat(a.maximumValue,"]."))),d.isTrueOrFalseString(a.eventBubbles)||d.isBoolean(a.eventBubbles)||d.throwError("The event bubbles option 'eventBubbles' is invalid ; it should be either 'true' or 'false', [".concat(a.eventBubbles,"] given.")),d.isTrueOrFalseString(a.eventIsCancelable)||d.isBoolean(a.eventIsCancelable)||d.throwError("The event is cancelable option 'eventIsCancelable' is invalid ; it should be either 'true' or 'false', [".concat(a.eventIsCancelable,"] given.")),!d.isBoolean(a.invalidClass)&&/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(a.invalidClass)||d.throwError("The name of the 'invalidClass' option is not a valid CSS class name ; it should not be empty, and should follow the '^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$' regex, [".concat(a.invalidClass,"] given.")),d.isInArray(a.leadingZero,[e.options.leadingZero.allow,e.options.leadingZero.deny,e.options.leadingZero.keep])||d.throwError("The leading zero behavior option 'leadingZero' is invalid ; it should either be 'allow', 'deny' or 'keep', [".concat(a.leadingZero,"] given.")),d.isTrueOrFalseString(a.formatOnPageLoad)||d.isBoolean(a.formatOnPageLoad)||d.throwError("The format on initialization option 'formatOnPageLoad' is invalid ; it should be either 'true' or 'false', [".concat(a.formatOnPageLoad,"] given.")),d.isTrueOrFalseString(a.formulaMode)||d.isBoolean(a.formulaMode)||d.throwError("The formula mode option 'formulaMode' is invalid ; it should be either 'true' or 'false', [".concat(a.formulaMode,"] given.")),u.test(a.historySize)&&0!==a.historySize||d.throwError("The history size option 'historySize' is invalid ; it should be a positive integer, [".concat(a.historySize,"] given.")),d.isTrueOrFalseString(a.selectNumberOnly)||d.isBoolean(a.selectNumberOnly)||d.throwError("The select number only option 'selectNumberOnly' is invalid ; it should be either 'true' or 'false', [".concat(a.selectNumberOnly,"] given.")),d.isTrueOrFalseString(a.selectOnFocus)||d.isBoolean(a.selectOnFocus)||d.throwError("The select on focus option 'selectOnFocus' is invalid ; it should be either 'true' or 'false', [".concat(a.selectOnFocus,"] given.")),d.isNull(a.defaultValueOverride)||""===a.defaultValueOverride||f.test(a.defaultValueOverride)||d.throwError("The unformatted default value option 'defaultValueOverride' is invalid ; it should be a string that represents a positive or negative number, [".concat(a.defaultValueOverride,"] given.")),d.isTrueOrFalseString(a.unformatOnSubmit)||d.isBoolean(a.unformatOnSubmit)||d.throwError("The remove formatting on submit option 'unformatOnSubmit' is invalid ; it should be either 'true' or 'false', [".concat(a.unformatOnSubmit,"] given.")),d.isNull(a.valuesToStrings)||d.isObject(a.valuesToStrings)||d.throwError("The option 'valuesToStrings' is invalid ; it should be an object, ideally with 'key -> value' entries, [".concat(a.valuesToStrings,"] given.")),d.isNull(a.outputFormat)||d.isInArray(a.outputFormat,[e.options.outputFormat.string,e.options.outputFormat.number,e.options.outputFormat.dot,e.options.outputFormat.negativeDot,e.options.outputFormat.comma,e.options.outputFormat.negativeComma,e.options.outputFormat.dotNegative,e.options.outputFormat.commaNegative])||d.throwError("The custom locale format option 'outputFormat' is invalid ; it should either be null, 'string', 'number', '.', '-.', ',', '-,', '.-' or ',-', [".concat(a.outputFormat,"] given.")),d.isTrueOrFalseString(a.isCancellable)||d.isBoolean(a.isCancellable)||d.throwError("The cancellable behavior option 'isCancellable' is invalid ; it should be either 'true' or 'false', [".concat(a.isCancellable,"] given.")),d.isTrueOrFalseString(a.modifyValueOnWheel)||d.isBoolean(a.modifyValueOnWheel)||d.throwError("The increment/decrement on mouse wheel option 'modifyValueOnWheel' is invalid ; it should be either 'true' or 'false', [".concat(a.modifyValueOnWheel,"] given.")),d.isTrueOrFalseString(a.watchExternalChanges)||d.isBoolean(a.watchExternalChanges)||d.throwError("The option 'watchExternalChanges' is invalid ; it should be either 'true' or 'false', [".concat(a.watchExternalChanges,"] given.")),d.isInArray(a.wheelOn,[e.options.wheelOn.focus,e.options.wheelOn.hover])||d.throwError("The wheel behavior option 'wheelOn' is invalid ; it should either be 'focus' or 'hover', [".concat(a.wheelOn,"] given.")),(d.isString(a.wheelStep)||d.isNumber(a.wheelStep))&&("progressive"===a.wheelStep||h.test(a.wheelStep))&&0!==Number(a.wheelStep)||d.throwError("The wheel step value option 'wheelStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [".concat(a.wheelStep,"] given.")),d.isInArray(a.serializeSpaces,[e.options.serializeSpaces.plus,e.options.serializeSpaces.percent])||d.throwError("The space replacement character option 'serializeSpaces' is invalid ; it should either be '+' or '%20', [".concat(a.serializeSpaces,"] given.")),d.isTrueOrFalseString(a.noEventListeners)||d.isBoolean(a.noEventListeners)||d.throwError("The option 'noEventListeners' that prevent the creation of event listeners is invalid ; it should be either 'true' or 'false', [".concat(a.noEventListeners,"] given.")),d.isNull(a.styleRules)||d.isObject(a.styleRules)&&(Object.prototype.hasOwnProperty.call(a.styleRules,"positive")||Object.prototype.hasOwnProperty.call(a.styleRules,"negative")||Object.prototype.hasOwnProperty.call(a.styleRules,"ranges")||Object.prototype.hasOwnProperty.call(a.styleRules,"userDefined"))||d.throwError("The option 'styleRules' is invalid ; it should be a correctly structured object, with one or more 'positive', 'negative', 'ranges' or 'userDefined' attributes, [".concat(a.styleRules,"] given.")),d.isNull(a.styleRules)||!Object.prototype.hasOwnProperty.call(a.styleRules,"userDefined")||d.isNull(a.styleRules.userDefined)||a.styleRules.userDefined.forEach((function(e){Object.prototype.hasOwnProperty.call(e,"callback")&&!d.isFunction(e.callback)&&d.throwError("The callback defined in the `userDefined` attribute is not a function, ".concat(S(e.callback)," given."))})),(d.isNull(a.rawValueDivisor)||h.test(a.rawValueDivisor))&&0!==a.rawValueDivisor&&"0"!==a.rawValueDivisor&&1!==a.rawValueDivisor&&"1"!==a.rawValueDivisor||d.throwError("The raw value divisor option 'rawValueDivisor' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(a.rawValueDivisor,"] given.")),d.isTrueOrFalseString(a.readOnly)||d.isBoolean(a.readOnly)||d.throwError("The option 'readOnly' is invalid ; it should be either 'true' or 'false', [".concat(a.readOnly,"] given.")),d.isTrueOrFalseString(a.unformatOnHover)||d.isBoolean(a.unformatOnHover)||d.throwError("The option 'unformatOnHover' is invalid ; it should be either 'true' or 'false', [".concat(a.unformatOnHover,"] given.")),d.isTrueOrFalseString(a.failOnUnknownOption)||d.isBoolean(a.failOnUnknownOption)||d.throwError("The debug option 'failOnUnknownOption' is invalid ; it should be either 'true' or 'false', [".concat(a.failOnUnknownOption,"] given.")),d.isTrueOrFalseString(a.createLocalList)||d.isBoolean(a.createLocalList)||d.throwError("The debug option 'createLocalList' is invalid ; it should be either 'true' or 'false', [".concat(a.createLocalList,"] given."))}},{key:"_validateDecimalPlacesRawValue",value:function(e){d.isNull(e.decimalPlacesRawValue)||(e.decimalPlacesRawValue<e.decimalPlaces&&d.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones to display [").concat(e.decimalPlaces,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlaces`."),e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnFocus&&d.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones shown on focus [").concat(e.decimalPlacesShownOnFocus,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnFocus`."),e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnBlur&&d.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones shown when unfocused [").concat(e.decimalPlacesShownOnBlur,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnBlur`."),e.showWarnings))}},{key:"areSettingsValid",value:function(e){var t=!0;try{this.validate(e,!0)}catch(e){t=!1}return t}},{key:"getDefaultConfig",value:function(){return e.defaultSettings}},{key:"getPredefinedOptions",value:function(){return e.predefinedOptions}},{key:"_generateOptionsObjectFromOptionsArray",value:function(e){var t,n=this;return d.isUndefinedOrNullOrEmpty(e)||0===e.length?t=null:(t={},1===e.length&&Array.isArray(e[0])?e[0].forEach((function(e){w(t,n._getOptionObject(e))})):1<=e.length&&e.forEach((function(e){w(t,n._getOptionObject(e))}))),t}},{key:"format",value:function(t){if(d.isUndefined(t)||null===t)return null;var n;n=d.isElement(t)?d.getElementValue(t):t,d.isString(n)||d.isNumber(n)||d.throwError('The value "'.concat(n,'" being "set" is not numeric and therefore cannot be used appropriately.'));for(var i=arguments.length,r=new Array(1<i?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];var a=this._generateOptionsObjectFromOptionsArray(r),s=w({},this.getDefaultConfig(),a);s.isNegativeSignAllowed=n<0,s.isPositiveSignAllowed=0<=n,this._setBrackets(s),this._cachesUsualRegularExpressions(s,{});var l=this._toNumericValue(n,s);return isNaN(Number(l))&&d.throwError("The value [".concat(l,"] that you are trying to format is not a recognized number.")),this._isWithinRangeWithOverrideOption(l,s)||(d.triggerEvent(e.events.formatted,document,{oldValue:null,newValue:null,oldRawValue:null,newRawValue:null,isPristine:null,error:"Range test failed",aNElement:null},!0,!0),d.throwError("The value [".concat(l,"] being set falls outside of the minimumValue [").concat(s.minimumValue,"] and maximumValue [").concat(s.maximumValue,"] range set for this element"))),s.valuesToStrings&&this._checkValuesToStringsSettings(n,s)?s.valuesToStrings[n]:(this._correctNegativePositiveSignPlacementOption(s),this._calculateDecimalPlacesOnInit(s),d.isUndefinedOrNullOrEmpty(s.rawValueDivisor)||0===s.rawValueDivisor||""===l||null===l||(l*=s.rawValueDivisor),l=this._roundFormattedValueShownOnFocus(l,s),l=this._modifyNegativeSignAndDecimalCharacterForFormattedValue(l,s),l=this._addGroupSeparators(l,s,!1,l))}},{key:"formatAndSet",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null,i=this.format(e,n);return d.setElementValue(e,i),i}},{key:"unformat",value:function(e){if(d.isNumberStrict(e))return e;var t;if(""===(t=d.isElement(e)?d.getElementValue(e):e))return"";if(d.isUndefined(t)||null===t)return null;(d.isArray(t)||d.isObject(t))&&d.throwError("A number or a string representing a number is needed to be able to unformat it, [".concat(t,"] given."));for(var n=arguments.length,i=new Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=this._generateOptionsObjectFromOptionsArray(i),a=w({},this.getDefaultConfig(),o);if(a.isNegativeSignAllowed=!1,a.isPositiveSignAllowed=!0,t=t.toString(),a.valuesToStrings&&this._checkStringsToValuesSettings(t,a))return d.objectKeyLookup(a.valuesToStrings,t);if(d.isNegative(t,a.negativeSignCharacter))a.isNegativeSignAllowed=!0,a.isPositiveSignAllowed=!1;else if(!d.isNull(a.negativeBracketsTypeOnBlur)){var s=y(a.negativeBracketsTypeOnBlur.split(","),2);a.firstBracket=s[0],a.lastBracket=s[1],t.charAt(0)===a.firstBracket&&t.charAt(t.length-1)===a.lastBracket&&(a.isNegativeSignAllowed=!0,a.isPositiveSignAllowed=!1,t=this._removeBrackets(t,a,!1))}return t=this._convertToNumericString(t,a),new RegExp("[^+-0123456789.]","gi").test(t)?NaN:(this._correctNegativePositiveSignPlacementOption(a),a.decimalPlacesRawValue?a.originalDecimalPlacesRawValue=a.decimalPlacesRawValue:a.originalDecimalPlacesRawValue=a.decimalPlaces,this._calculateDecimalPlacesOnInit(a),d.isUndefinedOrNullOrEmpty(a.rawValueDivisor)||0===a.rawValueDivisor||""===t||null===t||(t/=a.rawValueDivisor),t=(t=this._roundRawValue(t,a)).replace(a.decimalCharacter,"."),t=this._toLocale(t,a.outputFormat,a))}},{key:"unformatAndSet",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null,i=this.unformat(e,n);return d.setElementValue(e,i),i}},{key:"localize",value:function(t,n){var i,r,o=1<arguments.length&&void 0!==n?n:null;return""===(i=d.isElement(t)?d.getElementValue(t):t)?"":(d.isNull(o)&&(o=e.defaultSettings),i=this.unformat(i,o),0===Number(i)&&o.leadingZero!==e.options.leadingZero.keep&&(i="0"),r=d.isNull(o)?o.outputFormat:e.defaultSettings.outputFormat,this._toLocale(i,r,o))}},{key:"localizeAndSet",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null,i=this.localize(e,n);return d.setElementValue(e,i),i}},{key:"isManagedByAutoNumeric",value:function(e){return this._isInGlobalList(d.domElement(e))}},{key:"getAutoNumericElement",value:function(e){var t=d.domElement(e);return this.isManagedByAutoNumeric(t)?this._getFromGlobalList(t):null}},{key:"set",value:function(e,t,n,i){var r,o=2<arguments.length&&void 0!==n?n:null,a=!(3<arguments.length&&void 0!==i)||i,s=d.domElement(e);return this.isManagedByAutoNumeric(s)?this.getAutoNumericElement(s).set(t,o,a):(r=!(!d.isNull(o)&&Object.prototype.hasOwnProperty.call(o,"showWarnings"))||o.showWarnings,d.warning("Impossible to find an AutoNumeric object for the given DOM element or selector.",r),null)}},{key:"getNumericString",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return this._get(e,"getNumericString",n)}},{key:"getFormatted",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return this._get(e,"getFormatted",n)}},{key:"getNumber",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return this._get(e,"getNumber",n)}},{key:"_get",value:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:null,r=d.domElement(e);return this.isManagedByAutoNumeric(r)||d.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(r)[t](i)}},{key:"getLocalized",value:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:null,r=2<arguments.length&&void 0!==n?n:null,o=d.domElement(e);return this.isManagedByAutoNumeric(o)||d.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(o).getLocalized(i,r)}},{key:"_stripAllNonNumberCharacters",value:function(e,t,n,i){return this._stripAllNonNumberCharactersExceptCustomDecimalChar(e,t,n,i).replace(t.decimalCharacter,".")}},{key:"_stripAllNonNumberCharactersExceptCustomDecimalChar",value:function(t,n,i,r){var o=(t=(t=this._normalizeCurrencySuffixAndNegativeSignCharacters(t,n)).replace(n.allowedAutoStrip,"")).match(n.numRegAutoStrip);if(t=o?[o[1],o[2],o[3]].join(""):"",n.leadingZero===e.options.leadingZero.allow||n.leadingZero===e.options.leadingZero.keep){var a="",s=y(t.split(n.decimalCharacter),2),l=s[0],u=s[1],c=l;d.contains(c,n.negativeSignCharacter)&&(a=n.negativeSignCharacter,c=c.replace(n.negativeSignCharacter,"")),""===a&&c.length>n.mIntPos&&"0"===c.charAt(0)&&(c=c.slice(1)),""!==a&&c.length>n.mIntNeg&&"0"===c.charAt(0)&&(c=c.slice(1)),t="".concat(a).concat(c).concat(d.isUndefined(u)?"":n.decimalCharacter+u)}return(i&&n.leadingZero===e.options.leadingZero.deny||!r&&n.leadingZero===e.options.leadingZero.allow)&&(t=t.replace(n.stripReg,"$1$2")),t}},{key:"_toggleNegativeBracket",value:function(e,t,n){return n?this._removeBrackets(e,t):this._addBrackets(e,t)}},{key:"_addBrackets",value:function(e,t){return d.isNull(t.negativeBracketsTypeOnBlur)?e:"".concat(t.firstBracket).concat(e.replace(t.negativeSignCharacter,"")).concat(t.lastBracket)}},{key:"_removeBrackets",value:function(e,t,n){var i,r=!(2<arguments.length&&void 0!==n)||n;return d.isNull(t.negativeBracketsTypeOnBlur)||e.charAt(0)!==t.firstBracket?e:(i=(i=e.replace(t.firstBracket,"")).replace(t.lastBracket,""),r?(i=i.replace(t.currencySymbol,""),this._mergeCurrencySignNegativePositiveSignAndValue(i,t,!0,!1)):"".concat(t.negativeSignCharacter).concat(i))}},{key:"_setBrackets",value:function(e){if(d.isNull(e.negativeBracketsTypeOnBlur))e.firstBracket="",e.lastBracket="";else{var t=y(e.negativeBracketsTypeOnBlur.split(","),2),n=t[0],i=t[1];e.firstBracket=n,e.lastBracket=i}}},{key:"_convertToNumericString",value:function(t,n){t=this._removeBrackets(t,n,!1),t=(t=this._normalizeCurrencySuffixAndNegativeSignCharacters(t,n)).replace(new RegExp("[".concat(n.digitGroupSeparator,"]"),"g"),""),"."!==n.decimalCharacter&&(t=t.replace(n.decimalCharacter,".")),d.isNegative(t)&&t.lastIndexOf("-")===t.length-1&&(t=t.replace("-",""),t="-".concat(t)),n.showPositiveSign&&(t=t.replace(n.positiveSignCharacter,""));var i=n.leadingZero!==e.options.leadingZero.keep,r=d.arabicToLatinNumbers(t,i,!1,!1);return isNaN(r)||(t=r.toString()),t}},{key:"_normalizeCurrencySuffixAndNegativeSignCharacters",value:function(t,n){return t=String(t),n.currencySymbol!==e.options.currencySymbol.none&&(t=t.replace(n.currencySymbol,"")),n.suffixText!==e.options.suffixText.none&&(t=t.replace(n.suffixText,"")),n.negativeSignCharacter!==e.options.negativeSignCharacter.hyphen&&(t=t.replace(n.negativeSignCharacter,"-")),t}},{key:"_toLocale",value:function(t,n,i){if(d.isNull(n)||n===e.options.outputFormat.string)return t;var r;switch(n){case e.options.outputFormat.number:r=Number(t);break;case e.options.outputFormat.dotNegative:r=d.isNegative(t)?t.replace("-","")+"-":t;break;case e.options.outputFormat.comma:case e.options.outputFormat.negativeComma:r=t.replace(".",",");break;case e.options.outputFormat.commaNegative:r=t.replace(".",","),r=d.isNegative(r)?r.replace("-","")+"-":r;break;case e.options.outputFormat.dot:case e.options.outputFormat.negativeDot:r=t;break;default:d.throwError("The given outputFormat [".concat(n,"] option is not recognized."))}return n!==e.options.outputFormat.number&&"-"!==i.negativeSignCharacter&&(r=r.replace("-",i.negativeSignCharacter)),r}},{key:"_modifyNegativeSignAndDecimalCharacterForFormattedValue",value:function(e,t){return"-"!==t.negativeSignCharacter&&(e=e.replace("-",t.negativeSignCharacter)),"."!==t.decimalCharacter&&(e=e.replace(".",t.decimalCharacter)),e}},{key:"_isElementValueEmptyOrOnlyTheNegativeSign",value:function(e,t){return""===e||e===t.negativeSignCharacter}},{key:"_orderValueCurrencySymbolAndSuffixText",value:function(t,n,i){var r;if(n.emptyInputBehavior===e.options.emptyInputBehavior.always||i)switch(n.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.none:r=t+n.currencySymbol+n.suffixText;break;default:r=n.currencySymbol+t+n.suffixText}else r=t;return r}},{key:"_addGroupSeparators",value:function(t,n,i,r,o){var a,s=4<arguments.length&&void 0!==o?o:null;if(a=d.isNull(s)?d.isNegative(t,n.negativeSignCharacter)||d.isNegativeWithBrackets(t,n.firstBracket,n.lastBracket):s<0,t=this._stripAllNonNumberCharactersExceptCustomDecimalChar(t,n,!1,i),this._isElementValueEmptyOrOnlyTheNegativeSign(t,n))return this._orderValueCurrencySymbolAndSuffixText(t,n,!0);var l,u=d.isZeroOrHasNoValue(t);switch(a&&(t=t.replace("-","")),n.digitalGroupSpacing=n.digitalGroupSpacing.toString(),n.digitalGroupSpacing){case e.options.digitalGroupSpacing.two:l=/(\d)((\d)(\d{2}?)+)$/;break;case e.options.digitalGroupSpacing.twoScaled:l=/(\d)((?:\d{2}){0,2}\d{3}(?:(?:\d{2}){2}\d{3})*?)$/;break;case e.options.digitalGroupSpacing.four:l=/(\d)((\d{4}?)+)$/;break;case e.options.digitalGroupSpacing.three:default:l=/(\d)((\d{3}?)+)$/}var c,f=y(t.split(n.decimalCharacter),2),h=f[0],p=f[1];if(n.decimalCharacterAlternative&&d.isUndefined(p)){var m=y(t.split(n.decimalCharacterAlternative),2);h=m[0],p=m[1]}if(""!==n.digitGroupSeparator)for(;l.test(h);)h=h.replace(l,"$1".concat(n.digitGroupSeparator,"$2"));return t=0===(c=i?n.decimalPlacesShownOnFocus:n.decimalPlacesShownOnBlur)||d.isUndefined(p)?h:(p.length>c&&(p=p.substring(0,c)),"".concat(h).concat(n.decimalCharacter).concat(p)),t=e._mergeCurrencySignNegativePositiveSignAndValue(t,n,a,u),d.isNull(s)&&(s=r),null!==n.negativeBracketsTypeOnBlur&&(s<0||d.isNegativeStrict(t,n.negativeSignCharacter))&&(t=this._toggleNegativeBracket(t,n,i)),n.suffixText?"".concat(t).concat(n.suffixText):t}},{key:"_mergeCurrencySignNegativePositiveSignAndValue",value:function(t,n,i,r){var o,a="";if(i?a=n.negativeSignCharacter:n.showPositiveSign&&!r&&(a=n.positiveSignCharacter),n.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix)if(n.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(i||!i&&n.showPositiveSign&&!r))switch(n.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:o="".concat(a).concat(n.currencySymbol).concat(t);break;case e.options.negativePositiveSignPlacement.right:o="".concat(n.currencySymbol).concat(a).concat(t);break;case e.options.negativePositiveSignPlacement.suffix:o="".concat(n.currencySymbol).concat(t).concat(a)}else o=n.currencySymbol+t;else if(n.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)if(n.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(i||!i&&n.showPositiveSign&&!r))switch(n.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:o="".concat(t).concat(n.currencySymbol).concat(a);break;case e.options.negativePositiveSignPlacement.left:o="".concat(t).concat(a).concat(n.currencySymbol);break;case e.options.negativePositiveSignPlacement.prefix:o="".concat(a).concat(t).concat(n.currencySymbol)}else o=t+n.currencySymbol;return o}},{key:"_truncateZeros",value:function(e,t){var n;switch(t){case 0:n=/(\.(?:\d*[1-9])?)0*$/;break;case 1:n=/(\.\d(?:\d*[1-9])?)0*$/;break;default:n=new RegExp("(\\.\\d{".concat(t,"}(?:\\d*[1-9])?)0*"))}return e=e.replace(n,"$1"),0===t&&(e=e.replace(/\.$/,"")),e}},{key:"_roundRawValue",value:function(e,t){return this._roundValue(e,t,t.decimalPlacesRawValue)}},{key:"_roundFormattedValueShownOnFocus",value:function(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnFocus))}},{key:"_roundFormattedValueShownOnBlur",value:function(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnBlur))}},{key:"_roundFormattedValueShownOnFocusOrBlur",value:function(e,t,n){return n?this._roundFormattedValueShownOnFocus(e,t):this._roundFormattedValueShownOnBlur(e,t)}},{key:"_roundValue",value:function(t,n,i){if(d.isNull(t))return t;if(t=""===t?"0":t.toString(),n.roundingMethod===e.options.roundingMethod.toNearest05||n.roundingMethod===e.options.roundingMethod.toNearest05Alt||n.roundingMethod===e.options.roundingMethod.upToNext05||n.roundingMethod===e.options.roundingMethod.downToNext05)return this._roundCloseTo05(t,n);var r,o=y(e._prepareValueForRounding(t,n),2),a=o[0],s=(t=o[1]).lastIndexOf("."),l=-1===s,u=y(t.split("."),2),c=u[0];if(!(0<u[1]||n.allowDecimalPadding!==e.options.allowDecimalPadding.never&&n.allowDecimalPadding!==e.options.allowDecimalPadding.floats))return 0===Number(t)?c:"".concat(a).concat(c);r=n.allowDecimalPadding===e.options.allowDecimalPadding.always||n.allowDecimalPadding===e.options.allowDecimalPadding.floats?i:0;var f,h=l?t.length-1:s,p=t.length-1-h,m="";if(p<=i){if(m=t,p<r){l&&(m="".concat(m).concat(n.decimalCharacter));for(var g="000000";p<r;)m+=g=g.substring(0,r-p),p+=g.length}else r<p?m=this._truncateZeros(m,r):0===p&&0===r&&(m=m.replace(/\.$/,""));return 0===Number(m)?m:"".concat(a).concat(m)}f=l?i-1:Number(i)+Number(s);var v,b=Number(t.charAt(f+1)),_=t.substring(0,f+1).split("");if(v="."===t.charAt(f)?t.charAt(f-1)%2:t.charAt(f)%2,this._shouldRoundUp(b,n,a,v))for(var w=_.length-1;0<=w;--w)if("."!==_[w]){if(_[w]=+_[w]+1,_[w]<10)break;0<w&&(_[w]="0")}return _=_.slice(0,f+1),m=this._truncateZeros(_.join(""),r),0===Number(m)?m:"".concat(a).concat(m)}},{key:"_roundCloseTo05",value:function(t,n){switch(n.roundingMethod){case e.options.roundingMethod.toNearest05:case e.options.roundingMethod.toNearest05Alt:t=(Math.round(20*t)/20).toString();break;case e.options.roundingMethod.upToNext05:t=(Math.ceil(20*t)/20).toString();break;default:t=(Math.floor(20*t)/20).toString()}return d.contains(t,".")?t.length-t.indexOf(".")<3?t+"0":t:t+".00"}},{key:"_prepareValueForRounding",value:function(t,n){var i="";return d.isNegativeStrict(t,"-")&&(i="-",t=t.replace("-","")),t.match(/^\d/)||(t="0".concat(t)),0===Number(t)&&(i=""),(0<Number(t)&&n.leadingZero!==e.options.leadingZero.keep||0<t.length&&n.leadingZero===e.options.leadingZero.allow)&&(t=t.replace(/^0*(\d)/,"$1")),[i,t]}},{key:"_shouldRoundUp",value:function(t,n,i,r){return 4<t&&n.roundingMethod===e.options.roundingMethod.halfUpSymmetric||4<t&&n.roundingMethod===e.options.roundingMethod.halfUpAsymmetric&&""===i||5<t&&n.roundingMethod===e.options.roundingMethod.halfUpAsymmetric&&"-"===i||5<t&&n.roundingMethod===e.options.roundingMethod.halfDownSymmetric||5<t&&n.roundingMethod===e.options.roundingMethod.halfDownAsymmetric&&""===i||4<t&&n.roundingMethod===e.options.roundingMethod.halfDownAsymmetric&&"-"===i||5<t&&n.roundingMethod===e.options.roundingMethod.halfEvenBankersRounding||5===t&&n.roundingMethod===e.options.roundingMethod.halfEvenBankersRounding&&1===r||0<t&&n.roundingMethod===e.options.roundingMethod.toCeilingTowardPositiveInfinity&&""===i||0<t&&n.roundingMethod===e.options.roundingMethod.toFloorTowardNegativeInfinity&&"-"===i||0<t&&n.roundingMethod===e.options.roundingMethod.upRoundAwayFromZero}},{key:"_truncateDecimalPlaces",value:function(e,t,n,i){n&&(e=this._roundFormattedValueShownOnFocus(e,t));var r=y(e.split(t.decimalCharacter),2),o=r[0],a=r[1];if(a&&a.length>i)if(0<i){var s=a.substring(0,i);e="".concat(o).concat(t.decimalCharacter).concat(s)}else e=o;return e}},{key:"_checkIfInRangeWithOverrideOption",value:function(t,n){if(d.isNull(t)&&n.emptyInputBehavior===e.options.emptyInputBehavior.null||n.overrideMinMaxLimits===e.options.overrideMinMaxLimits.ignore||n.overrideMinMaxLimits===e.options.overrideMinMaxLimits.invalid)return[!0,!0];t=(t=t.toString()).replace(",",".");var i,r=d.parseStr(n.minimumValue),o=d.parseStr(n.maximumValue),a=d.parseStr(t);switch(n.overrideMinMaxLimits){case e.options.overrideMinMaxLimits.floor:i=[-1<d.testMinMax(r,a),!0];break;case e.options.overrideMinMaxLimits.ceiling:i=[!0,d.testMinMax(o,a)<1];break;default:i=[-1<d.testMinMax(r,a),d.testMinMax(o,a)<1]}return i}},{key:"_isWithinRangeWithOverrideOption",value:function(e,t){var n=y(this._checkIfInRangeWithOverrideOption(e,t),2),i=n[0],r=n[1];return i&&r}},{key:"_cleanValueForRangeParse",value:function(e){return e=e.toString().replace(",","."),d.parseStr(e)}},{key:"_isMinimumRangeRespected",value:function(e,t){return-1<d.testMinMax(d.parseStr(t.minimumValue),this._cleanValueForRangeParse(e))}},{key:"_isMaximumRangeRespected",value:function(e,t){return d.testMinMax(d.parseStr(t.maximumValue),this._cleanValueForRangeParse(e))<1}},{key:"_readCookie",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),i="",r=0;r<n.length;r+=1){for(i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}},{key:"_storageTest",value:function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}},{key:"_correctNegativePositiveSignPlacementOption",value:function(t){if(d.isNull(t.negativePositiveSignPlacement))if(d.isUndefined(t)||!d.isUndefinedOrNullOrEmpty(t.negativePositiveSignPlacement)||d.isUndefinedOrNullOrEmpty(t.currencySymbol))t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.left;else switch(t.currencySymbolPlacement){case e.options.currencySymbolPlacement.suffix:t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.prefix;break;case e.options.currencySymbolPlacement.prefix:t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.left}}},{key:"_correctCaretPositionOnFocusAndSelectOnFocusOptions",value:function(t){return d.isNull(t)?null:(!d.isUndefinedOrNullOrEmpty(t.caretPositionOnFocus)&&d.isUndefinedOrNullOrEmpty(t.selectOnFocus)&&(t.selectOnFocus=e.options.selectOnFocus.doNotSelect),d.isUndefinedOrNullOrEmpty(t.caretPositionOnFocus)&&!d.isUndefinedOrNullOrEmpty(t.selectOnFocus)&&t.selectOnFocus===e.options.selectOnFocus.select&&(t.caretPositionOnFocus=e.options.caretPositionOnFocus.doNoForceCaretPosition),t)}},{key:"_calculateDecimalPlacesOnInit",value:function(t){this._validateDecimalPlacesRawValue(t),t.decimalPlacesShownOnFocus===e.options.decimalPlacesShownOnFocus.useDefault&&(t.decimalPlacesShownOnFocus=t.decimalPlaces),t.decimalPlacesShownOnBlur===e.options.decimalPlacesShownOnBlur.useDefault&&(t.decimalPlacesShownOnBlur=t.decimalPlaces),t.decimalPlacesRawValue===e.options.decimalPlacesRawValue.useDefault&&(t.decimalPlacesRawValue=t.decimalPlaces);var n=0;t.rawValueDivisor&&t.rawValueDivisor!==e.options.rawValueDivisor.none&&(n=String(t.rawValueDivisor).length-1)<0&&(n=0),t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+n,Number(t.originalDecimalPlacesRawValue)+n)}},{key:"_calculateDecimalPlacesOnUpdate",value:function(t,n){var i=1<arguments.length&&void 0!==n?n:null;this._validateDecimalPlacesRawValue(t),d.isNull(i)&&d.throwError("When updating the settings, the previous ones should be passed as an argument.");var r="decimalPlaces"in t;if(r||"decimalPlacesRawValue"in t||"decimalPlacesShownOnFocus"in t||"decimalPlacesShownOnBlur"in t||"rawValueDivisor"in t){r?("decimalPlacesShownOnFocus"in t&&t.decimalPlacesShownOnFocus!==e.options.decimalPlacesShownOnFocus.useDefault||(t.decimalPlacesShownOnFocus=t.decimalPlaces),"decimalPlacesShownOnBlur"in t&&t.decimalPlacesShownOnBlur!==e.options.decimalPlacesShownOnBlur.useDefault||(t.decimalPlacesShownOnBlur=t.decimalPlaces),"decimalPlacesRawValue"in t&&t.decimalPlacesRawValue!==e.options.decimalPlacesRawValue.useDefault||(t.decimalPlacesRawValue=t.decimalPlaces)):(d.isUndefined(t.decimalPlacesShownOnFocus)&&(t.decimalPlacesShownOnFocus=i.decimalPlacesShownOnFocus),d.isUndefined(t.decimalPlacesShownOnBlur)&&(t.decimalPlacesShownOnBlur=i.decimalPlacesShownOnBlur));var o=0;t.rawValueDivisor&&t.rawValueDivisor!==e.options.rawValueDivisor.none&&(o=String(t.rawValueDivisor).length-1)<0&&(o=0),t.decimalPlaces||t.decimalPlacesRawValue?t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+o,Number(t.decimalPlacesRawValue)+o):t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+o,Number(i.originalDecimalPlacesRawValue)+o)}}},{key:"_cachesUsualRegularExpressions",value:function(t,n){var i;i=t.negativeSignCharacter!==e.options.negativeSignCharacter.hyphen?"([-\\".concat(t.negativeSignCharacter,"]?)"):"(-?)",n.aNegRegAutoStrip=i,t.allowedAutoStrip=new RegExp("[^-0123456789\\".concat(t.decimalCharacter,"]"),"g"),t.numRegAutoStrip=new RegExp("".concat(i,"(?:\\").concat(t.decimalCharacter,"?([0-9]+\\").concat(t.decimalCharacter,"[0-9]+)|([0-9]*(?:\\").concat(t.decimalCharacter,"[0-9]*)?))")),t.stripReg=new RegExp("^".concat(n.aNegRegAutoStrip,"0*([0-9])")),t.formulaChars=new RegExp("[0-9".concat(t.decimalCharacter,"+\\-*/() ]"))}},{key:"_convertOldOptionsToNewOnes",value:function(e){var t={aSep:"digitGroupSeparator",nSep:"showOnlyNumbersOnFocus",dGroup:"digitalGroupSpacing",aDec:"decimalCharacter",altDec:"decimalCharacterAlternative",aSign:"currencySymbol",pSign:"currencySymbolPlacement",pNeg:"negativePositiveSignPlacement",aSuffix:"suffixText",oLimits:"overrideMinMaxLimits",vMax:"maximumValue",vMin:"minimumValue",mDec:"decimalPlacesOverride",eDec:"decimalPlacesShownOnFocus",scaleDecimal:"decimalPlacesShownOnBlur",aStor:"saveValueToSessionStorage",mRound:"roundingMethod",aPad:"allowDecimalPadding",nBracket:"negativeBracketsTypeOnBlur",wEmpty:"emptyInputBehavior",lZero:"leadingZero",aForm:"formatOnPageLoad",sNumber:"selectNumberOnly",anDefault:"defaultValueOverride",unSetOnSubmit:"unformatOnSubmit",outputType:"outputFormat",debug:"showWarnings",allowDecimalPadding:!0,alwaysAllowDecimalCharacter:!0,caretPositionOnFocus:!0,createLocalList:!0,currencySymbol:!0,currencySymbolPlacement:!0,decimalCharacter:!0,decimalCharacterAlternative:!0,decimalPlaces:!0,decimalPlacesRawValue:!0,decimalPlacesShownOnBlur:!0,decimalPlacesShownOnFocus:!0,defaultValueOverride:!0,digitalGroupSpacing:!0,digitGroupSeparator:!0,divisorWhenUnfocused:!0,emptyInputBehavior:!0,eventBubbles:!0,eventIsCancelable:!0,failOnUnknownOption:!0,formatOnPageLoad:!0,formulaMode:!0,historySize:!0,isCancellable:!0,leadingZero:!0,maximumValue:!0,minimumValue:!0,modifyValueOnWheel:!0,negativeBracketsTypeOnBlur:!0,negativePositiveSignPlacement:!0,negativeSignCharacter:!0,noEventListeners:!0,onInvalidPaste:!0,outputFormat:!0,overrideMinMaxLimits:!0,positiveSignCharacter:!0,rawValueDivisor:!0,readOnly:!0,roundingMethod:!0,saveValueToSessionStorage:!0,selectNumberOnly:!0,selectOnFocus:!0,serializeSpaces:!0,showOnlyNumbersOnFocus:!0,showPositiveSign:!0,showWarnings:!0,styleRules:!0,suffixText:!0,symbolWhenUnfocused:!0,unformatOnHover:!0,unformatOnSubmit:!0,valuesToStrings:!0,watchExternalChanges:!0,wheelOn:!0,wheelStep:!0,allowedAutoStrip:!0,formulaChars:!0,isNegativeSignAllowed:!0,isPositiveSignAllowed:!0,mIntNeg:!0,mIntPos:!0,numRegAutoStrip:!0,originalDecimalPlaces:!0,originalDecimalPlacesRawValue:!0,stripReg:!0};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(!0===t[n])continue;Object.prototype.hasOwnProperty.call(t,n)?(d.warning("You are using the deprecated option name '".concat(n,"'. Please use '").concat(t[n],"' instead from now on. The old option name will be dropped very soon™."),!0),e[t[n]]=e[n],delete e[n]):e.failOnUnknownOption&&d.throwError("Option name '".concat(n,"' is unknown. Please fix the options passed to autoNumeric"))}"mDec"in e&&d.warning("The old `mDec` option has been deprecated in favor of more accurate options ; `decimalPlaces`, `decimalPlacesRawValue`, `decimalPlacesShownOnFocus` and `decimalPlacesShownOnBlur`.",!0)}},{key:"_setNegativePositiveSignPermissions",value:function(e){e.isNegativeSignAllowed=e.minimumValue<0,e.isPositiveSignAllowed=0<=e.maximumValue}},{key:"_toNumericValue",value:function(e,t){var n;return d.isNumber(Number(e))?n=d.scientificToDecimal(e):(n=this._convertToNumericString(e.toString(),t),d.isNumber(Number(n))||(d.warning('The given value "'.concat(e,'" cannot be converted to a numeric one and therefore cannot be used appropriately.'),t.showWarnings),n=NaN)),n}},{key:"_checkIfInRange",value:function(e,t,n){var i=d.parseStr(e);return-1<d.testMinMax(t,i)&&d.testMinMax(n,i)<1}},{key:"_shouldSkipEventKey",value:function(e){var t=d.isInArray(e,r.keyName._allFnKeys),n=e===r.keyName.OSLeft||e===r.keyName.OSRight,i=e===r.keyName.ContextMenu,o=d.isInArray(e,r.keyName._someNonPrintableKeys),a=e===r.keyName.NumLock||e===r.keyName.ScrollLock||e===r.keyName.Insert||e===r.keyName.Command,s=e===r.keyName.Unidentified;return t||n||i||o||s||a}},{key:"_serialize",value:function(e,t,n,i,r){var o,a=this,s=1<arguments.length&&void 0!==t&&t,l=2<arguments.length&&void 0!==n?n:"unformatted",u=3<arguments.length&&void 0!==i?i:"+",c=4<arguments.length&&void 0!==r?r:null,f=[];return"object"===S(e)&&"form"===e.nodeName.toLowerCase()&&Array.prototype.slice.call(e.elements).forEach((function(e){if(e.name&&!e.disabled&&-1===["file","reset","submit","button"].indexOf(e.type))if("select-multiple"===e.type)Array.prototype.slice.call(e.options).forEach((function(t){t.selected&&(s?f.push({name:e.name,value:t.value}):f.push("".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(t.value))))}));else if(-1===["checkbox","radio"].indexOf(e.type)||e.checked){var t,n;if(a.isManagedByAutoNumeric(e))switch(l){case"unformatted":n=a.getAutoNumericElement(e),d.isNull(n)||(t=a.unformat(e,n.getSettings()));break;case"localized":if(n=a.getAutoNumericElement(e),!d.isNull(n)){var i=d.cloneObject(n.getSettings());d.isNull(c)||(i.outputFormat=c),t=a.localize(e,i)}break;default:t=e.value}else t=e.value;d.isUndefined(t)&&d.throwError("This error should never be hit. If it has, something really wrong happened!"),s?f.push({name:e.name,value:t}):f.push("".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(t)))}})),s?o=f:(o=f.join("&"),"+"===u&&(o=o.replace(/%20/g,"+"))),o}},{key:"_serializeNumericString",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!1,"unformatted",n)}},{key:"_serializeFormatted",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!1,"formatted",n)}},{key:"_serializeLocalized",value:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:"+",r=2<arguments.length&&void 0!==n?n:null;return this._serialize(e,!1,"localized",i,r)}},{key:"_serializeNumericStringArray",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!0,"unformatted",n)}},{key:"_serializeFormattedArray",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!0,"formatted",n)}},{key:"_serializeLocalizedArray",value:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:"+",r=2<arguments.length&&void 0!==n?n:null;return this._serialize(e,!0,"localized",i,r)}}],E((t=e).prototype,[{key:"_saveInitialValues",value:function(e){this.initialValueHtmlAttribute=d.scientificToDecimal(this.domElement.getAttribute("value")),d.isNull(this.initialValueHtmlAttribute)&&(this.initialValueHtmlAttribute=""),this.initialValue=e,d.isNull(this.initialValue)&&(this.initialValue="")}},{key:"_createEventListeners",value:function(){var t=this;this.formulaMode=!1,this._onFocusInFunc=function(e){t._onFocusIn(e)},this._onFocusInAndMouseEnterFunc=function(e){t._onFocusInAndMouseEnter(e)},this._onFocusFunc=function(){t._onFocus()},this._onKeydownFunc=function(e){t._onKeydown(e)},this._onKeypressFunc=function(e){t._onKeypress(e)},this._onKeyupFunc=function(e){t._onKeyup(e)},this._onFocusOutAndMouseLeaveFunc=function(e){t._onFocusOutAndMouseLeave(e)},this._onPasteFunc=function(e){t._onPaste(e)},this._onWheelFunc=function(e){t._onWheel(e)},this._onDropFunc=function(e){t._onDrop(e)},this._onKeydownGlobalFunc=function(e){t._onKeydownGlobal(e)},this._onKeyupGlobalFunc=function(e){t._onKeyupGlobal(e)},this.domElement.addEventListener("focusin",this._onFocusInFunc,!1),this.domElement.addEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("focus",this._onFocusFunc,!1),this.domElement.addEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("keydown",this._onKeydownFunc,!1),this.domElement.addEventListener("keypress",this._onKeypressFunc,!1),this.domElement.addEventListener("keyup",this._onKeyupFunc,!1),this.domElement.addEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("paste",this._onPasteFunc,!1),this.domElement.addEventListener("wheel",this._onWheelFunc,!1),this.domElement.addEventListener("drop",this._onDropFunc,!1),this._setupFormListener(),this.hasEventListeners=!0,e._doesGlobalListExists()||(document.addEventListener("keydown",this._onKeydownGlobalFunc,!1),document.addEventListener("keyup",this._onKeyupGlobalFunc,!1))}},{key:"_removeEventListeners",value:function(){this.domElement.removeEventListener("focusin",this._onFocusInFunc,!1),this.domElement.removeEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("focus",this._onFocusFunc,!1),this.domElement.removeEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("keydown",this._onKeydownFunc,!1),this.domElement.removeEventListener("keypress",this._onKeypressFunc,!1),this.domElement.removeEventListener("keyup",this._onKeyupFunc,!1),this.domElement.removeEventListener("paste",this._onPasteFunc,!1),this.domElement.removeEventListener("wheel",this._onWheelFunc,!1),this.domElement.removeEventListener("drop",this._onDropFunc,!1),this._removeFormListener(),this.hasEventListeners=!1,document.removeEventListener("keydown",this._onKeydownGlobalFunc,!1),document.removeEventListener("keyup",this._onKeyupGlobalFunc,!1)}},{key:"_updateEventListeners",value:function(){this.settings.noEventListeners||this.hasEventListeners||this._createEventListeners(),this.settings.noEventListeners&&this.hasEventListeners&&this._removeEventListeners()}},{key:"_setupFormListener",value:function(){var e=this;d.isNull(this.parentForm)||(this._onFormSubmitFunc=function(){e._onFormSubmit()},this._onFormResetFunc=function(){e._onFormReset()},this._hasParentFormCounter()?this._incrementParentFormCounter():(this._initializeFormCounterToOne(),this.parentForm.addEventListener("submit",this._onFormSubmitFunc,!1),this.parentForm.addEventListener("reset",this._onFormResetFunc,!1),this._storeFormHandlerFunction()))}},{key:"_removeFormListener",value:function(){if(!d.isNull(this.parentForm)){var e=this._getParentFormCounter();1===e?(this.parentForm.removeEventListener("submit",this._getFormHandlerFunction().submitFn,!1),this.parentForm.removeEventListener("reset",this._getFormHandlerFunction().resetFn,!1),this._removeFormDataSetInfo()):1<e?this._decrementParentFormCounter():d.throwError("The AutoNumeric object count on the form is incoherent.")}}},{key:"_hasParentFormCounter",value:function(){return"anCount"in this.parentForm.dataset}},{key:"_getParentFormCounter",value:function(){return Number(this.parentForm.dataset.anCount)}},{key:"_initializeFormCounterToOne",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this._getFormElement(t).dataset.anCount=1}},{key:"_incrementParentFormCounter",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this._getFormElement(t).dataset.anCount++}},{key:"_decrementParentFormCounter",value:function(){this.parentForm.dataset.anCount--}},{key:"_hasFormHandlerFunction",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return"anFormHandler"in this._getFormElement(t).dataset}},{key:"_getFormElement",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return d.isNull(t)?this.parentForm:t}},{key:"_storeFormHandlerFunction",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this.constructor._doesFormHandlerListExists()||this.constructor._createFormHandlerList();var n=d.randomString();this._getFormElement(t).dataset.anFormHandler=n,window.aNFormHandlerMap.set(n,{submitFn:this._onFormSubmitFunc,resetFn:this._onFormResetFunc})}},{key:"_getFormHandlerKey",value:function(){this._hasFormHandlerFunction()||d.throwError("Unable to retrieve the form handler name");var e=this.parentForm.dataset.anFormHandler;return""===e&&d.throwError("The form handler name is invalid"),e}},{key:"_getFormHandlerFunction",value:function(){var e=this._getFormHandlerKey();return window.aNFormHandlerMap.get(e)}},{key:"_removeFormDataSetInfo",value:function(){this._decrementParentFormCounter(),window.aNFormHandlerMap.delete(this._getFormHandlerKey()),this.parentForm.removeAttribute("data-an-count"),this.parentForm.removeAttribute("data-an-form-handler")}},{key:"_setWritePermissions",value:function(e){0<arguments.length&&void 0!==e&&e&&this.domElement.readOnly||this.settings.readOnly?this._setReadOnly():this._setReadWrite()}},{key:"_setReadOnly",value:function(){this.isInputElement?this.domElement.readOnly=!0:this.domElement.setAttribute("contenteditable",!1)}},{key:"_setReadWrite",value:function(){this.isInputElement?this.domElement.readOnly=!1:this.domElement.setAttribute("contenteditable",!0)}},{key:"_addWatcher",value:function(){var e=this;if(!d.isUndefined(this.getterSetter)){var t=this.getterSetter,n=t.set,i=t.get;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:function(){return i.call(e.domElement)},set:function(t){n.call(e.domElement,t),e.settings.watchExternalChanges&&!e.internalModification&&e.set(t)}})}}},{key:"_removeWatcher",value:function(){var e=this;if(!d.isUndefined(this.getterSetter)){var t=this.getterSetter,n=t.set,i=t.get;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:function(){return i.call(e.domElement)},set:function(t){n.call(e.domElement,t)}})}}},{key:"_getAttributeToWatch",value:function(){var e;if(this.isInputElement)e="value";else{var t=this.domElement.nodeType;t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?e="textContent":t===Node.TEXT_NODE&&(e="nodeValue")}return e}},{key:"_historyTableAdd",value:function(){var e=0===this.historyTable.length;if(e||this.rawValue!==this._historyTableCurrentValueUsed()){var t=!0;if(!e){var n=this.historyTableIndex+1;n<this.historyTable.length&&this.rawValue===this.historyTable[n].value?t=!1:d.arrayTrim(this.historyTable,this.historyTableIndex+1)}if(this.historyTableIndex++,t){var i=d.getElementSelection(this.domElement);this.selectionStart=i.start,this.selectionEnd=i.end,this.historyTable.push({value:this.rawValue,start:this.selectionStart+1,end:this.selectionEnd+1}),1<this.historyTable.length&&(this.historyTable[this.historyTableIndex-1].start=this.selectionStart,this.historyTable[this.historyTableIndex-1].end=this.selectionEnd)}this.historyTable.length>this.settings.historySize&&this._historyTableForget()}}},{key:"_historyTableUndoOrRedo",value:function(e){var t;if(0<arguments.length&&void 0!==e&&!e?(t=this.historyTableIndex+1<this.historyTable.length)&&this.historyTableIndex++:(t=0<this.historyTableIndex)&&this.historyTableIndex--,t){var n=this.historyTable[this.historyTableIndex];this.set(n.value,null,!1),d.setElementSelection(this.domElement,n.start,n.end)}}},{key:"_historyTableUndo",value:function(){this._historyTableUndoOrRedo(!0)}},{key:"_historyTableRedo",value:function(){this._historyTableUndoOrRedo(!1)}},{key:"_historyTableForget",value:function(e){for(var t=0<arguments.length&&void 0!==e?e:1,n=[],i=0;i<t;i++)n.push(this.historyTable.shift()),this.historyTableIndex--,this.historyTableIndex<0&&(this.historyTableIndex=0);return 1===n.length?n[0]:n}},{key:"_historyTableCurrentValueUsed",value:function(){var e=this.historyTableIndex;return e<0&&(e=0),d.isUndefinedOrNullOrEmpty(this.historyTable[e])?"":this.historyTable[e].value}},{key:"_parseStyleRules",value:function(){var e=this;d.isUndefinedOrNullOrEmpty(this.settings.styleRules)||""===this.rawValue||(d.isUndefinedOrNullOrEmpty(this.settings.styleRules.positive)||(0<=this.rawValue?this._addCSSClass(this.settings.styleRules.positive):this._removeCSSClass(this.settings.styleRules.positive)),d.isUndefinedOrNullOrEmpty(this.settings.styleRules.negative)||(this.rawValue<0?this._addCSSClass(this.settings.styleRules.negative):this._removeCSSClass(this.settings.styleRules.negative)),d.isUndefinedOrNullOrEmpty(this.settings.styleRules.ranges)||0===this.settings.styleRules.ranges.length||this.settings.styleRules.ranges.forEach((function(t){e.rawValue>=t.min&&e.rawValue<t.max?e._addCSSClass(t.class):e._removeCSSClass(t.class)})),d.isUndefinedOrNullOrEmpty(this.settings.styleRules.userDefined)||0===this.settings.styleRules.userDefined.length||this.settings.styleRules.userDefined.forEach((function(t){if(d.isFunction(t.callback))if(d.isString(t.classes))t.callback(e.rawValue)?e._addCSSClass(t.classes):e._removeCSSClass(t.classes);else if(d.isArray(t.classes))if(2===t.classes.length)t.callback(e.rawValue)?(e._addCSSClass(t.classes[0]),e._removeCSSClass(t.classes[1])):(e._removeCSSClass(t.classes[0]),e._addCSSClass(t.classes[1]));else if(2<t.classes.length){var n=t.callback(e.rawValue);d.isArray(n)?t.classes.forEach((function(t,i){d.isInArray(i,n)?e._addCSSClass(t):e._removeCSSClass(t)})):d.isInt(n)?t.classes.forEach((function(t,i){i===n?e._addCSSClass(t):e._removeCSSClass(t)})):d.isNull(n)?t.classes.forEach((function(t){e._removeCSSClass(t)})):d.throwError("The callback result is not an array nor a valid array index, ".concat(S(n)," given."))}else d.throwError("The classes attribute is not valid for the `styleRules` option.");else d.isUndefinedOrNullOrEmpty(t.classes)?t.callback(e):d.throwError("The callback/classes structure is not valid for the `styleRules` option.");else d.warning("The given `styleRules` callback is not a function, ".concat("undefined"==typeof callback?"undefined":S(callback)," given."),e.settings.showWarnings)})))}},{key:"_addCSSClass",value:function(e){this.domElement.classList.add(e)}},{key:"_removeCSSClass",value:function(e){this.domElement.classList.remove(e)}},{key:"update",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Array.isArray(n)&&Array.isArray(n[0])&&(n=n[0]);var r=d.cloneObject(this.settings),o=this.rawValue,a={};d.isUndefinedOrNullOrEmpty(n)||0===n.length?a=null:1<=n.length&&n.forEach((function(t){e.constructor._isPreDefinedOptionValid(t)&&(t=e.constructor._getOptionObject(t)),w(a,t)}));try{this._setSettings(a,!0),this._setWritePermissions(),this._updateEventListeners(),this.set(o)}catch(t){return this._setSettings(r,!0),d.throwError("Unable to update the settings, those are invalid: [".concat(t,"]")),this}return this}},{key:"getSettings",value:function(){return this.settings}},{key:"set",value:function(t,n,i){var r,o=1<arguments.length&&void 0!==n?n:null,a=!(2<arguments.length&&void 0!==i)||i;if(d.isUndefined(t))return d.warning("You are trying to set an 'undefined' value ; an error could have occurred.",this.settings.showWarnings),this;if(d.isNull(o)||this._setSettings(o,!0),null===t&&this.settings.emptyInputBehavior!==e.options.emptyInputBehavior.null)return d.warning("You are trying to set the `null` value while the `emptyInputBehavior` option is set to ".concat(this.settings.emptyInputBehavior,". If you want to be able to set the `null` value, you need to change the 'emptyInputBehavior' option to `'null'`."),this.settings.showWarnings),this;if(null===t)return this._setElementAndRawValue(null,null,a),this._saveValueToPersistentStorage(),this;if(r=this.constructor._toNumericValue(t,this.settings),isNaN(Number(r)))return d.warning("The value you are trying to set results in `NaN`. The element value is set to the empty string instead.",this.settings.showWarnings),this.setValue("",a),this;if(""===r)switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.zero:r=0;break;case e.options.emptyInputBehavior.min:r=this.settings.minimumValue;break;case e.options.emptyInputBehavior.max:r=this.settings.maximumValue;break;default:d.isNumber(this.settings.emptyInputBehavior)&&(r=Number(this.settings.emptyInputBehavior))}if(""===r)return s=this.settings.emptyInputBehavior===e.options.emptyInputBehavior.always?this.settings.currencySymbol:"",this._setElementAndRawValue(s,"",a),this;var s,l=y(this.constructor._checkIfInRangeWithOverrideOption(r,this.settings),2),u=l[0],c=l[1];if(u&&c&&this.settings.valuesToStrings&&this._checkValuesToStrings(r))return this._setElementAndRawValue(this.settings.valuesToStrings[r],r,a),this._saveValueToPersistentStorage(),this;if(d.isZeroOrHasNoValue(r)&&(r="0"),u&&c){var f=this.constructor._roundRawValue(r,this.settings);return f=this._trimLeadingAndTrailingZeros(f.replace(this.settings.decimalCharacter,".")),r=this._getRawValueToFormat(r),r=this.isFocused?this.constructor._roundFormattedValueShownOnFocus(r,this.settings):(this.settings.divisorWhenUnfocused&&(r=(r/=this.settings.divisorWhenUnfocused).toString()),this.constructor._roundFormattedValueShownOnBlur(r,this.settings)),r=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(r,this.settings),r=this.constructor._addGroupSeparators(r,this.settings,this.isFocused,this.rawValue,f),!this.isFocused&&this.settings.symbolWhenUnfocused&&(r="".concat(r).concat(this.settings.symbolWhenUnfocused)),(this.settings.decimalPlacesShownOnFocus||this.settings.divisorWhenUnfocused)&&this._saveValueToPersistentStorage(),this._setElementAndRawValue(r,f,a),this._setValidOrInvalidState(f),this}return this._triggerRangeEvents(u,c),d.throwError("The value [".concat(r,"] being set falls outside of the minimumValue [").concat(this.settings.minimumValue,"] and maximumValue [").concat(this.settings.maximumValue,"] range set for this element")),this._removeValueFromPersistentStorage(),this.setValue("",a),this}},{key:"setUnformatted",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;if(null===e||d.isUndefined(e))return this;d.isNull(n)||this._setSettings(n,!0);var i=this.constructor._removeBrackets(e,this.settings),r=this.constructor._stripAllNonNumberCharacters(i,this.settings,!0,this.isFocused);return d.isNumber(r)||d.throwError("The value is not a valid one, it's not a numeric string nor a recognized currency."),this.constructor._isWithinRangeWithOverrideOption(r,this.settings)?this.setValue(e):d.throwError("The value is out of the range limits [".concat(this.settings.minimumValue,", ").concat(this.settings.maximumValue,"].")),this}},{key:"setValue",value:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t;return this._setElementAndRawValue(e,n),this}},{key:"_setRawValue",value:function(t,n){var i=!(1<arguments.length&&void 0!==n)||n;if(this.rawValue!==t){var r=this.rawValue;this.rawValue=t,!d.isNull(this.settings.rawValueDivisor)&&0!==this.settings.rawValueDivisor&&""!==t&&null!==t&&this._isUserManuallyEditingTheValue()&&(this.rawValue/=this.settings.rawValueDivisor),this._triggerEvent(e.events.rawValueModified,this.domElement,{oldRawValue:r,newRawValue:this.rawValue,isPristine:this.isPristine(!0),error:null,aNElement:this}),this._parseStyleRules(),i&&this._historyTableAdd()}}},{key:"_setElementValue",value:function(t,n){var i=!(1<arguments.length&&void 0!==n)||n,r=d.getElementValue(this.domElement);return t!==r&&(this.internalModification=!0,d.setElementValue(this.domElement,t),this.internalModification=!1,i&&this._triggerEvent(e.events.formatted,this.domElement,{oldValue:r,newValue:t,oldRawValue:this.rawValue,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this})),this}},{key:"_setElementAndRawValue",value:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:null,r=!(2<arguments.length&&void 0!==n)||n;return d.isNull(i)?i=e:d.isBoolean(i)&&(r=i,i=e),this._setElementValue(e),this._setRawValue(i,r),this}},{key:"_getRawValueToFormat",value:function(e){return d.isNull(this.settings.rawValueDivisor)||0===this.settings.rawValueDivisor||""===e||null===e?e:e*this.settings.rawValueDivisor}},{key:"_checkValuesToStrings",value:function(e){return this.constructor._checkValuesToStringsArray(e,this.valuesToStringsKeys)}},{key:"_isUserManuallyEditingTheValue",value:function(){return this.isFocused&&this.isEditing||this.isDropEvent}},{key:"_executeCallback",value:function(e,t){!d.isNull(t)&&d.isFunction(t)&&t(e,this)}},{key:"_triggerEvent",value:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:document,r=2<arguments.length&&void 0!==n?n:null;d.triggerEvent(e,i,r,this.settings.eventBubbles,this.settings.eventIsCancelable)}},{key:"get",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this.getNumericString(t)}},{key:"getNumericString",value:function(e){var t,n=0<arguments.length&&void 0!==e?e:null;return t=d.isNull(this.rawValue)?null:d.trimPaddedZerosFromDecimalPlaces(this.rawValue),this._executeCallback(t,n),t}},{key:"getFormatted",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;"value"in this.domElement||"textContent"in this.domElement||d.throwError("Unable to get the formatted string from the element.");var n=d.getElementValue(this.domElement);return this._executeCallback(n,t),n}},{key:"getNumber",value:function(e){var t,n=0<arguments.length&&void 0!==e?e:null;return t=null===this.rawValue?null:this.constructor._toLocale(this.getNumericString(),"number",this.settings),this._executeCallback(t,n),t}},{key:"getLocalized",value:function(t,n){var i,r,o=0<arguments.length&&void 0!==t?t:null,a=1<arguments.length&&void 0!==n?n:null;d.isFunction(o)&&d.isNull(a)&&(a=o,o=null),(i=d.isEmptyString(this.rawValue)?"":""+Number(this.rawValue))&&0===Number(i)&&this.settings.leadingZero!==e.options.leadingZero.keep&&(i="0"),r=d.isNull(o)?this.settings.outputFormat:o;var s=this.constructor._toLocale(i,r,this.settings);return this._executeCallback(s,a),s}},{key:"reformat",value:function(){return this.set(this.rawValue),this}},{key:"unformat",value:function(){return this._setElementValue(this.getNumericString()),this}},{key:"unformatLocalized",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this._setElementValue(this.getLocalized(t)),this}},{key:"isPristine",value:function(e){return 0<arguments.length&&void 0!==e&&!e?this.initialValueHtmlAttribute===this.getFormatted():this.initialValue===this.getNumericString()}},{key:"select",value:function(){return this.settings.selectNumberOnly?this.selectNumber():this._defaultSelectAll(),this}},{key:"_defaultSelectAll",value:function(){d.setElementSelection(this.domElement,0,d.getElementValue(this.domElement).length)}},{key:"selectNumber",value:function(){var t,n,i=d.getElementValue(this.domElement),r=i.length,o=this.settings.currencySymbol.length,a=this.settings.currencySymbolPlacement,s=d.isNegative(i,this.settings.negativeSignCharacter)?1:0,l=this.settings.suffixText.length;if(t=a===e.options.currencySymbolPlacement.suffix?0:this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left&&1==s&&0<o?o+1:o,a===e.options.currencySymbolPlacement.prefix)n=r-l;else switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:n=r-(l+o);break;case e.options.negativePositiveSignPlacement.right:n=0<o?r-(o+s+l):r-(o+l);break;default:n=r-(o+l)}return d.setElementSelection(this.domElement,t,n),this}},{key:"selectInteger",value:function(){var t=0,n=0<=this.rawValue;this.settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.prefix&&(this.settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.suffix||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none)||(this.settings.showPositiveSign&&n||!n&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left)&&(t+=1),this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(t+=this.settings.currencySymbol.length);var i=d.getElementValue(this.domElement),r=i.indexOf(this.settings.decimalCharacter);return-1===r&&(r=this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?i.length-this.settings.currencySymbol.length:i.length,n||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.suffix&&this.settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.suffix||--r,r-=this.settings.suffixText.length),d.setElementSelection(this.domElement,t,r),this}},{key:"selectDecimal",value:function(){var e,t,n=d.getElementValue(this.domElement).indexOf(this.settings.decimalCharacter);return e=-1===n?n=0:(n+=1,t=this.isFocused?this.settings.decimalPlacesShownOnFocus:this.settings.decimalPlacesShownOnBlur,n+Number(t)),d.setElementSelection(this.domElement,n,e),this}},{key:"node",value:function(){return this.domElement}},{key:"parent",value:function(){return this.domElement.parentNode}},{key:"detach",value:function(e){var t,n=0<arguments.length&&void 0!==e?e:null;return t=d.isNull(n)?this.domElement:n.node(),this._removeFromLocalList(t),this}},{key:"attach",value:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t;return this._addToLocalList(e.node()),n&&e.update(this.settings),this}},{key:"formatOther",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return this._formatOrUnformatOther(!0,e,n)}},{key:"unformatOther",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return this._formatOrUnformatOther(!1,e,n)}},{key:"_formatOrUnformatOther",value:function(t,n,i){var r,o,a=2<arguments.length&&void 0!==i?i:null;if(r=d.isNull(a)?this.settings:this._cloneAndMergeSettings(a),d.isElement(n)){var s=d.getElementValue(n);return o=t?e.format(s,r):e.unformat(s,r),d.setElementValue(n,o),null}return t?e.format(n,r):e.unformat(n,r)}},{key:"init",value:function(t,n){var i=this,r=!(1<arguments.length&&void 0!==n)||n,o=!1,a=[];if(d.isString(t)?a=v(document.querySelectorAll(t)):d.isElement(t)?(a.push(t),o=!0):d.isArray(t)?a=t:d.throwError("The given parameters to the 'init' function are invalid."),0===a.length)return d.warning("No valid DOM elements were given hence no AutoNumeric object were instantiated.",!0),[];var s=this._getLocalList(),l=[];return a.forEach((function(t){var n=i.settings.createLocalList;r&&(i.settings.createLocalList=!1);var o=new e(t,d.getElementValue(t),i.settings);r&&(o._setLocalList(s),i._addToLocalList(t,o),i.settings.createLocalList=n),l.push(o)})),o?l[0]:l}},{key:"clear",value:function(t){if(0<arguments.length&&void 0!==t&&t){var n={emptyInputBehavior:e.options.emptyInputBehavior.focus};this.set("",n)}else this.set("");return this}},{key:"remove",value:function(){this._removeValueFromPersistentStorage(),this._removeEventListeners(),this._removeWatcher(),this._removeFromLocalList(this.domElement),this.constructor._removeFromGlobalList(this)}},{key:"wipe",value:function(){this._setElementValue("",!1),this.remove()}},{key:"nuke",value:function(){this.remove(),this.domElement.parentNode.removeChild(this.domElement)}},{key:"form",value:function(e){if(0<arguments.length&&void 0!==e&&e||d.isUndefinedOrNullOrEmpty(this.parentForm)){var t=this._getParentForm();if(!d.isNull(t)&&t!==this.parentForm){var n=this._getFormAutoNumericChildren(this.parentForm);this.parentForm.dataset.anCount=n.length,this._hasFormHandlerFunction(t)?this._incrementParentFormCounter(t):(this._storeFormHandlerFunction(t),this._initializeFormCounterToOne(t))}this.parentForm=t}return this.parentForm}},{key:"_getFormAutoNumericChildren",value:function(e){var t=this;return v(e.querySelectorAll("input")).filter((function(e){return t.constructor.isManagedByAutoNumeric(e)}))}},{key:"_getParentForm",value:function(){if("body"===this.domElement.tagName.toLowerCase())return null;var e,t=this.domElement;do{if(t=t.parentNode,d.isNull(t))return null;if("body"===(e=t.tagName?t.tagName.toLowerCase():""))break}while("form"!==e);return"form"===e?t:null}},{key:"formNumericString",value:function(){return this.constructor._serializeNumericString(this.form(),this.settings.serializeSpaces)}},{key:"formFormatted",value:function(){return this.constructor._serializeFormatted(this.form(),this.settings.serializeSpaces)}},{key:"formLocalized",value:function(e){var t,n=0<arguments.length&&void 0!==e?e:null;return t=d.isNull(n)?this.settings.outputFormat:n,this.constructor._serializeLocalized(this.form(),this.settings.serializeSpaces,t)}},{key:"formArrayNumericString",value:function(){return this.constructor._serializeNumericStringArray(this.form(),this.settings.serializeSpaces)}},{key:"formArrayFormatted",value:function(){return this.constructor._serializeFormattedArray(this.form(),this.settings.serializeSpaces)}},{key:"formArrayLocalized",value:function(e){var t,n=0<arguments.length&&void 0!==e?e:null;return t=d.isNull(n)?this.settings.outputFormat:n,this.constructor._serializeLocalizedArray(this.form(),this.settings.serializeSpaces,t)}},{key:"formJsonNumericString",value:function(){return JSON.stringify(this.formArrayNumericString())}},{key:"formJsonFormatted",value:function(){return JSON.stringify(this.formArrayFormatted())}},{key:"formJsonLocalized",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return JSON.stringify(this.formArrayLocalized(t))}},{key:"formUnformat",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).unformat()})),this}},{key:"formUnformatLocalized",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).unformatLocalized()})),this}},{key:"formReformat",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).reformat()})),this}},{key:"formSubmitNumericString",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return d.isNull(t)?(this.formUnformat(),this.form().submit(),this.formReformat()):d.isFunction(t)?t(this.formNumericString()):d.throwError("The given callback is not a function."),this}},{key:"formSubmitFormatted",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return d.isNull(t)?this.form().submit():d.isFunction(t)?t(this.formFormatted()):d.throwError("The given callback is not a function."),this}},{key:"formSubmitLocalized",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:null,i=1<arguments.length&&void 0!==t?t:null;return d.isNull(i)?(this.formUnformatLocalized(),this.form().submit(),this.formReformat()):d.isFunction(i)?i(this.formLocalized(n)):d.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayNumericString",value:function(e){return d.isFunction(e)?e(this.formArrayNumericString()):d.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayFormatted",value:function(e){return d.isFunction(e)?e(this.formArrayFormatted()):d.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayLocalized",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return d.isFunction(e)?e(this.formArrayLocalized(n)):d.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonNumericString",value:function(e){return d.isFunction(e)?e(this.formJsonNumericString()):d.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonFormatted",value:function(e){return d.isFunction(e)?e(this.formJsonFormatted()):d.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonLocalized",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return d.isFunction(e)?e(this.formJsonLocalized(n)):d.throwError("The given callback is not a function."),this}},{key:"_createLocalList",value:function(){this.autoNumericLocalList=new Map,this._addToLocalList(this.domElement)}},{key:"_deleteLocalList",value:function(){delete this.autoNumericLocalList}},{key:"_setLocalList",value:function(e){this.autoNumericLocalList=e}},{key:"_getLocalList",value:function(){return this.autoNumericLocalList}},{key:"_hasLocalList",value:function(){return this.autoNumericLocalList instanceof Map&&0!==this.autoNumericLocalList.size}},{key:"_addToLocalList",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;d.isNull(n)&&(n=this),d.isUndefined(this.autoNumericLocalList)?d.throwError("The local list provided does not exists when trying to add an element. [".concat(this.autoNumericLocalList,"] given.")):this.autoNumericLocalList.set(e,n)}},{key:"_removeFromLocalList",value:function(e){d.isUndefined(this.autoNumericLocalList)?this.settings.createLocalList&&d.throwError("The local list provided does not exists when trying to remove an element. [".concat(this.autoNumericLocalList,"] given.")):this.autoNumericLocalList.delete(e)}},{key:"_mergeSettings",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.apply(void 0,[this.settings].concat(t))}},{key:"_cloneAndMergeSettings",value:function(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return w.apply(void 0,[e,this.settings].concat(n)),e}},{key:"_updatePredefinedOptions",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return d.isNull(n)?this.update(e):(this._mergeSettings(e,n),this.update(this.settings)),this}},{key:"french",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().French,n),this}},{key:"northAmerican",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().NorthAmerican,n),this}},{key:"british",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().British,n),this}},{key:"swiss",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Swiss,n),this}},{key:"japanese",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Japanese,n),this}},{key:"spanish",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Spanish,n),this}},{key:"chinese",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Chinese,n),this}},{key:"brazilian",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Brazilian,n),this}},{key:"_runCallbacksFoundInTheSettingsObject",value:function(){for(var e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){var t=this.settings[e];if("function"==typeof t)this.settings[e]=t(this,e);else{var n=this.domElement.getAttribute(e);n=d.camelize(n),"function"==typeof this.settings[n]&&(this.settings[e]=n(this,e))}}}},{key:"_setTrailingNegativeSignInfo",value:function(){this.isTrailingNegative=this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&(this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left||this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.right)}},{key:"_modifyNegativeSignAndDecimalCharacterForRawValue",value:function(e){return"."!==this.settings.decimalCharacter&&(e=e.replace(this.settings.decimalCharacter,".")),"-"!==this.settings.negativeSignCharacter&&this.settings.isNegativeSignAllowed&&(e=e.replace(this.settings.negativeSignCharacter,"-")),e.match(/\d/)||(e+="0"),e}},{key:"_initialCaretPosition",value:function(t){d.isNull(this.settings.caretPositionOnFocus)&&this.settings.selectOnFocus===e.options.selectOnFocus.doNotSelect&&d.throwError("`_initialCaretPosition()` should never be called when the `caretPositionOnFocus` option is `null`.");var n=this.rawValue<0,i=d.isZeroOrHasNoValue(t),r=t.length,o=0,a=0,s=!1,l=0;this.settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.start&&(o=(t=(t=(t=t.replace(this.settings.negativeSignCharacter,"")).replace(this.settings.positiveSignCharacter,"")).replace(this.settings.currencySymbol,"")).length,s=d.contains(t,this.settings.decimalCharacter),this.settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.decimalLeft&&this.settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.decimalRight||(l=s?(a=t.indexOf(this.settings.decimalCharacter),this.settings.decimalCharacter.length):(a=o,0)));var u="";n?u=this.settings.negativeSignCharacter:this.settings.showPositiveSign&&!i&&(u=this.settings.positiveSignCharacter);var c,f=u.length,h=this.settings.currencySymbol.length;if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix){if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:c=f+h;break;case e.options.negativePositiveSignPlacement.suffix:c=h}else c=h;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:c=r;break;case e.options.negativePositiveSignPlacement.suffix:c=h+o}else c=r;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:c=f+h+a;break;case e.options.negativePositiveSignPlacement.suffix:c=h+a}else c=h+a;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:c=f+h+a+l;break;case e.options.negativePositiveSignPlacement.suffix:c=h+a+l}else c=h+a+l}else if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:c=0;break;case e.options.negativePositiveSignPlacement.prefix:c=f}else c=0;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:c=o;break;case e.options.negativePositiveSignPlacement.prefix:c=f+o}else c=o;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:c=a;break;case e.options.negativePositiveSignPlacement.prefix:c=f+a}else c=a;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:c=a+l;break;case e.options.negativePositiveSignPlacement.prefix:c=f+a+l}else c=a+l;return c}},{key:"_triggerRangeEvents",value:function(t,n){t||this._triggerEvent(e.events.minRangeExceeded,this.domElement),n||this._triggerEvent(e.events.maxRangeExceeded,this.domElement)}},{key:"_setInvalidState",value:function(){this.isInputElement?d.setInvalidState(this.domElement):this._addCSSClass(this.settings.invalidClass),this._triggerEvent(e.events.invalidValue,this.domElement),this.validState=!1}},{key:"_setValidState",value:function(){this.isInputElement?d.setValidState(this.domElement):this._removeCSSClass(this.settings.invalidClass),this.validState||this._triggerEvent(e.events.correctedValue,this.domElement),this.validState=!0}},{key:"_setValidOrInvalidState",value:function(t){if(this.settings.overrideMinMaxLimits===e.options.overrideMinMaxLimits.invalid){var n=this.constructor._isMinimumRangeRespected(t,this.settings),i=this.constructor._isMaximumRangeRespected(t,this.settings);n&&i?this._setValidState():this._setInvalidState(),this._triggerRangeEvents(n,i)}}},{key:"_keepAnOriginalSettingsCopy",value:function(){this.originalDigitGroupSeparator=this.settings.digitGroupSeparator,this.originalCurrencySymbol=this.settings.currencySymbol,this.originalSuffixText=this.settings.suffixText}},{key:"_trimLeadingAndTrailingZeros",value:function(t){if(""===t||null===t)return t;if(this.settings.leadingZero!==e.options.leadingZero.keep){if(0===Number(t))return"0";t=t.replace(/^(-)?0+(?=\d)/g,"$1")}return d.contains(t,".")&&(t=t.replace(/(\.[0-9]*?)0+$/,"$1")),t.replace(/\.$/,"")}},{key:"_setPersistentStorageName",value:function(){this.settings.saveValueToSessionStorage&&(""===this.domElement.name||d.isUndefined(this.domElement.name)?this.rawValueStorageName="".concat(this.storageNamePrefix).concat(this.domElement.id):this.rawValueStorageName="".concat(this.storageNamePrefix).concat(decodeURIComponent(this.domElement.name)))}},{key:"_saveValueToPersistentStorage",value:function(){this.settings.saveValueToSessionStorage&&(this.sessionStorageAvailable?sessionStorage.setItem(this.rawValueStorageName,this.rawValue):document.cookie="".concat(this.rawValueStorageName,"=").concat(this.rawValue,"; expires= ; path=/"))}},{key:"_getValueFromPersistentStorage",value:function(){return this.settings.saveValueToSessionStorage?this.sessionStorageAvailable?sessionStorage.getItem(this.rawValueStorageName):this.constructor._readCookie(this.rawValueStorageName):(d.warning("`_getValueFromPersistentStorage()` is called but `settings.saveValueToSessionStorage` is false. There must be an error that needs fixing.",this.settings.showWarnings),null)}},{key:"_removeValueFromPersistentStorage",value:function(){if(this.settings.saveValueToSessionStorage)if(this.sessionStorageAvailable)sessionStorage.removeItem(this.rawValueStorageName);else{var e=new Date;e.setTime(e.getTime()-864e5);var t="; expires=".concat(e.toUTCString());document.cookie="".concat(this.rawValueStorageName,"='' ;").concat(t,"; path=/")}}},{key:"_getDefaultValue",value:function(e){var t=e.getAttribute("value");return d.isNull(t)?"":t}},{key:"_onFocusInAndMouseEnter",value:function(t){if(this.isEditing=!1,!this.formulaMode&&this.settings.unformatOnHover&&"mouseenter"===t.type&&t.altKey)this.constructor._unformatAltHovered(this);else if("focus"===t.type&&(this.isFocused=!0,this.rawValueOnFocus=this.rawValue),"focus"===t.type&&this.settings.unformatOnHover&&this.hoveredWithAlt&&this.constructor._reformatAltHovered(this),"focus"===t.type||"mouseenter"===t.type&&!this.isFocused){var n=null;this.settings.emptyInputBehavior===e.options.emptyInputBehavior.focus&&this.rawValue<0&&null!==this.settings.negativeBracketsTypeOnBlur&&this.settings.isNegativeSignAllowed&&(n=this.constructor._removeBrackets(d.getElementValue(this.domElement),this.settings));var i=this._getRawValueToFormat(this.rawValue);if(""!==i){var r=this.constructor._roundFormattedValueShownOnFocusOrBlur(i,this.settings,this.isFocused);n=this.settings.showOnlyNumbersOnFocus===e.options.showOnlyNumbersOnFocus.onlyNumbers?(this.settings.digitGroupSeparator="",this.settings.currencySymbol="",this.settings.suffixText="",r.replace(".",this.settings.decimalCharacter)):d.isNull(r)?"":this.constructor._addGroupSeparators(r.replace(".",this.settings.decimalCharacter),this.settings,this.isFocused,i)}d.isNull(n)?this.valueOnFocus="":this.valueOnFocus=n,this.lastVal=this.valueOnFocus;var o=this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(this.valueOnFocus,this.settings),a=this.constructor._orderValueCurrencySymbolAndSuffixText(this.valueOnFocus,this.settings,!0),s=o&&""!==a&&this.settings.emptyInputBehavior===e.options.emptyInputBehavior.focus;s&&(n=a),d.isNull(n)||this._setElementValue(n),s&&a===this.settings.currencySymbol&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&d.setElementSelection(t.target,0)}}},{key:"_onFocus",value:function(){this.settings.isCancellable&&this._saveCancellableValue()}},{key:"_onFocusIn",value:function(e){this.settings.selectOnFocus?this.select():d.isNull(this.settings.caretPositionOnFocus)||d.setElementSelection(e.target,this._initialCaretPosition(d.getElementValue(this.domElement)))}},{key:"_enterFormulaMode",value:function(){this.settings.formulaMode&&(this.formulaMode=!0,d.setElementValue(this.domElement,"="),d.setElementSelection(this.domElement,1))}},{key:"_exitFormulaMode",value:function(){var t,n=d.getElementValue(this.domElement);n=n.replace(/^\s*=/,"");try{var i=new g(n,this.settings.decimalCharacter);t=(new f).evaluate(i)}catch(t){return this._triggerEvent(e.events.invalidFormula,this.domElement,{formula:n,aNElement:this}),this.reformat(),void(this.formulaMode=!1)}this._triggerEvent(e.events.validFormula,this.domElement,{formula:n,result:t,aNElement:this}),this.set(t),this.formulaMode=!1}},{key:"_acceptNonPrintableKeysInFormulaMode",value:function(){return this.eventKey===r.keyName.Backspace||this.eventKey===r.keyName.Delete||this.eventKey===r.keyName.LeftArrow||this.eventKey===r.keyName.RightArrow||this.eventKey===r.keyName.Home||this.eventKey===r.keyName.End}},{key:"_onKeydown",value:function(t){if(this.formatted=!1,this.isEditing=!0,this.formulaMode||this.isFocused||!this.settings.unformatOnHover||!t.altKey||this.domElement!==d.getHoveredElement()){if(this._updateEventKeyInfo(t),this.keydownEventCounter+=1,1===this.keydownEventCounter&&(this.initialValueOnFirstKeydown=d.getElementValue(t.target),this.initialRawValueOnFirstKeydown=this.rawValue),this.formulaMode){if(this.eventKey===r.keyName.Esc)return this.formulaMode=!1,void this.reformat();if(this.eventKey===r.keyName.Enter)return void this._exitFormulaMode();if(this._acceptNonPrintableKeysInFormulaMode())return}else if(this.eventKey===r.keyName.Equal)return void this._enterFormulaMode();if(this.domElement.readOnly||this.settings.readOnly||this.domElement.disabled)this.processed=!0;else{this.eventKey===r.keyName.Esc&&(t.preventDefault(),this.settings.isCancellable&&this.rawValue!==this.savedCancellableValue&&(this.set(this.savedCancellableValue),this._triggerEvent(e.events.native.input,t.target)),this.select());var n=d.getElementValue(t.target);if(this.eventKey===r.keyName.Enter&&this.rawValue!==this.rawValueOnFocus&&(this._triggerEvent(e.events.native.change,t.target),this.valueOnFocus=n,this.rawValueOnFocus=this.rawValue,this.settings.isCancellable&&this._saveCancellableValue()),this._updateInternalProperties(t),this._processNonPrintableKeysAndShortcuts(t))this.processed=!0;else if(this.eventKey===r.keyName.Backspace||this.eventKey===r.keyName.Delete){var i=this._processCharacterDeletion();if(this.processed=!0,!i)return void t.preventDefault();this._formatValue(t),(n=d.getElementValue(t.target))!==this.lastVal&&this.throwInput&&(this._triggerEvent(e.events.native.input,t.target),t.preventDefault()),this.lastVal=n,this.throwInput=!0}}}else this.constructor._unformatAltHovered(this)}},{key:"_onKeypress",value:function(t){if(this.formulaMode){if(this._acceptNonPrintableKeysInFormulaMode())return;if(this.settings.formulaChars.test(this.eventKey))return;t.preventDefault()}else if(this.eventKey!==r.keyName.Insert){var n=this.processed;if(this._updateInternalProperties(t),!this._processNonPrintableKeysAndShortcuts(t))if(n)t.preventDefault();else{if(this._processCharacterInsertion()){this._formatValue(t);var i=d.getElementValue(t.target);if(i!==this.lastVal&&this.throwInput)this._triggerEvent(e.events.native.input,t.target),t.preventDefault();else{if((this.eventKey===this.settings.decimalCharacter||this.eventKey===this.settings.decimalCharacterAlternative)&&d.getElementSelection(t.target).start===d.getElementSelection(t.target).end&&d.getElementSelection(t.target).start===i.indexOf(this.settings.decimalCharacter)){var o=d.getElementSelection(t.target).start+1;d.setElementSelection(t.target,o)}t.preventDefault()}return this.lastVal=d.getElementValue(t.target),this.throwInput=!0,void this._setValidOrInvalidState(this.rawValue)}t.preventDefault()}}}},{key:"_onKeyup",value:function(t){if(this.isEditing=!1,this.keydownEventCounter=0,!this.formulaMode)if(this.settings.isCancellable&&this.eventKey===r.keyName.Esc)t.preventDefault();else{if(this.eventKey===r.keyName.Z||this.eventKey===r.keyName.z){if(t.ctrlKey&&t.shiftKey)return t.preventDefault(),this._historyTableRedo(),void(this.onGoingRedo=!0);if(t.ctrlKey&&!t.shiftKey){if(!this.onGoingRedo)return t.preventDefault(),void this._historyTableUndo();this.onGoingRedo=!1}}if(this.onGoingRedo&&(t.ctrlKey||t.shiftKey)&&(this.onGoingRedo=!1),(t.ctrlKey||t.metaKey)&&this.eventKey===r.keyName.x){var n=d.getElementSelection(this.domElement).start,i=this.constructor._toNumericValue(d.getElementValue(t.target),this.settings);this.set(i),this._setCaretPosition(n)}if(this.eventKey===r.keyName.Alt&&this.settings.unformatOnHover&&this.hoveredWithAlt)this.constructor._reformatAltHovered(this);else if(!t.ctrlKey&&!t.metaKey||this.eventKey!==r.keyName.Backspace&&this.eventKey!==r.keyName.Delete){this._updateInternalProperties(t);var o=this._processNonPrintableKeysAndShortcuts(t);delete this.valuePartsBeforePaste;var a=d.getElementValue(t.target);if(!(o||""===a&&""===this.initialValueOnFirstKeydown)&&(a===this.settings.currencySymbol?this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?d.setElementSelection(t.target,0):d.setElementSelection(t.target,this.settings.currencySymbol.length):this.eventKey===r.keyName.Tab&&d.setElementSelection(t.target,0,a.length),(a===this.settings.suffixText||""===this.rawValue&&""!==this.settings.currencySymbol&&""!==this.settings.suffixText)&&d.setElementSelection(t.target,0),null!==this.settings.decimalPlacesShownOnFocus&&this._saveValueToPersistentStorage(),this.formatted||this._formatValue(t),this._setValidOrInvalidState(this.rawValue),this._saveRawValueForAndroid(),a!==this.initialValueOnFirstKeydown&&this._triggerEvent(e.events.formatted,t.target,{oldValue:this.initialValueOnFirstKeydown,newValue:a,oldRawValue:this.initialRawValueOnFirstKeydown,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this}),1<this.historyTable.length)){var s=d.getElementSelection(this.domElement);this.selectionStart=s.start,this.selectionEnd=s.end,this.historyTable[this.historyTableIndex].start=this.selectionStart,this.historyTable[this.historyTableIndex].end=this.selectionEnd}}else{var l=d.getElementValue(t.target);this._setRawValue(this._formatOrUnformatOther(!1,l))}}}},{key:"_saveRawValueForAndroid",value:function(){if(this.eventKey===r.keyName.AndroidDefault){var e=this.constructor._stripAllNonNumberCharactersExceptCustomDecimalChar(this.getFormatted(),this.settings,!0,this.isFocused);e=this.constructor._convertToNumericString(e,this.settings),this._setRawValue(e)}}},{key:"_onFocusOutAndMouseLeave",value:function(t){if(this.isEditing=!1,"mouseleave"!==t.type||!this.formulaMode)if(this.settings.unformatOnHover&&"mouseleave"===t.type&&this.hoveredWithAlt)this.constructor._reformatAltHovered(this);else if("mouseleave"===t.type&&!this.isFocused||"blur"===t.type){"blur"===t.type&&this.formulaMode&&this._exitFormulaMode(),this._saveValueToPersistentStorage(),this.settings.showOnlyNumbersOnFocus===e.options.showOnlyNumbersOnFocus.onlyNumbers&&(this.settings.digitGroupSeparator=this.originalDigitGroupSeparator,this.settings.currencySymbol=this.originalCurrencySymbol,this.settings.suffixText=this.originalSuffixText);var n=this._getRawValueToFormat(this.rawValue),i=d.isNull(n),r=y(this.constructor._checkIfInRangeWithOverrideOption(n,this.settings),2),o=r[0],a=r[1],s=!1;if(""===n||i||(this._triggerRangeEvents(o,a),this.settings.valuesToStrings&&this._checkValuesToStrings(n)&&(this._setElementValue(this.settings.valuesToStrings[n]),s=!0)),!s){var l;if(l=i||""===n?n:String(n),""===n||i){if(""===n)switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.zero:this._setRawValue("0"),l=this.constructor._roundValue("0",this.settings,0);break;case e.options.emptyInputBehavior.min:this._setRawValue(this.settings.minimumValue),l=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.minimumValue,this.settings,this.isFocused);break;case e.options.emptyInputBehavior.max:this._setRawValue(this.settings.maximumValue),l=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.maximumValue,this.settings,this.isFocused);break;default:d.isNumber(this.settings.emptyInputBehavior)&&(this._setRawValue(this.settings.emptyInputBehavior),l=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.emptyInputBehavior,this.settings,this.isFocused))}}else o&&a&&!this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(n,this.settings)?(l=this._modifyNegativeSignAndDecimalCharacterForRawValue(l),this.settings.divisorWhenUnfocused&&!d.isNull(l)&&(l=(l/=this.settings.divisorWhenUnfocused).toString()),l=this.constructor._roundFormattedValueShownOnBlur(l,this.settings),l=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(l,this.settings)):this._triggerRangeEvents(o,a);var u=this.constructor._orderValueCurrencySymbolAndSuffixText(l,this.settings,!1);this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(l,this.settings)||i&&this.settings.emptyInputBehavior===e.options.emptyInputBehavior.null||(u=this.constructor._addGroupSeparators(l,this.settings,!1,n)),u===n&&""!==n&&this.settings.allowDecimalPadding!==e.options.allowDecimalPadding.never&&this.settings.allowDecimalPadding!==e.options.allowDecimalPadding.floats||(this.settings.symbolWhenUnfocused&&""!==n&&null!==n&&(u="".concat(u).concat(this.settings.symbolWhenUnfocused)),this._setElementValue(u))}this._setValidOrInvalidState(this.rawValue),"blur"===t.type&&this._onBlur(t)}}},{key:"_onPaste",value:function(t){if(t.preventDefault(),!(this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled)){var n,i;window.clipboardData&&window.clipboardData.getData?n=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?n=t.clipboardData.getData("text/plain"):d.throwError("Unable to retrieve the pasted value. Please use a modern browser (ie. Firefox or Chromium)."),i=t.target.tagName?t.target:t.explicitOriginalTarget;var r=d.getElementValue(i),o=i.selectionStart||0,a=i.selectionEnd||0,s=a-o;if(s===r.length){var l=this._preparePastedText(n),u=d.arabicToLatinNumbers(l,!1,!1,!1);return"."===u||""===u||"."!==u&&!d.isNumber(u)?(this.formatted=!0,void(this.settings.onInvalidPaste===e.options.onInvalidPaste.error&&d.throwError("The pasted value '".concat(n,"' is not a valid paste content.")))):(this.set(u),this.formatted=!0,void this._triggerEvent(e.events.native.input,i))}var c=d.isNegativeStrict(n,this.settings.negativeSignCharacter);c&&(n=n.slice(1,n.length));var f,h,p=this._preparePastedText(n);if("."!==(f="."===p?".":d.arabicToLatinNumbers(p,!1,!1,!1))&&(!d.isNumber(f)||""===f))return this.formatted=!0,void(this.settings.onInvalidPaste===e.options.onInvalidPaste.error&&d.throwError("The pasted value '".concat(n,"' is not a valid paste content.")));var m,g,v=d.isNegativeStrict(this.getNumericString(),this.settings.negativeSignCharacter);m=!(!c||v)&&(v=!0);var y=r.slice(0,o),b=r.slice(a,r.length);g=o!==a?this._preparePastedText(y+b):this._preparePastedText(r),v&&(g=d.setRawNegativeSign(g)),h=d.convertCharacterCountToIndexPosition(d.countNumberCharactersOnTheCaretLeftSide(r,o,this.settings.decimalCharacter)),m&&h++;var _=g.slice(0,h),w=g.slice(h,g.length),S=!1;"."===f&&(d.contains(_,".")&&(S=!0,_=_.replace(".","")),w=w.replace(".",""));var E=!1;switch(""===_&&"-"===w&&(_="-",E=!(w="")),this.settings.onInvalidPaste){case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:for(var C=d.parseStr(this.settings.minimumValue),x=d.parseStr(this.settings.maximumValue),T=g,I=0,k=_;I<f.length&&(g=(k+=f[I])+w,this.constructor._checkIfInRange(g,C,x));)T=g,I++;if(h+=I,E&&h++,this.settings.onInvalidPaste===e.options.onInvalidPaste.truncate){g=T,S&&h--;break}for(var O=h,A=T.length;I<f.length&&O<A;)if("."!==T[O]){if(g=d.replaceCharAt(T,O,f[I]),!this.constructor._checkIfInRange(g,C,x))break;T=g,I++,O++}else O++;h=O,S&&h--,g=T;break;case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.ignore:case e.options.onInvalidPaste.clamp:default:if(g="".concat(_).concat(f).concat(w),o===a)h=d.convertCharacterCountToIndexPosition(d.countNumberCharactersOnTheCaretLeftSide(r,o,this.settings.decimalCharacter))+f.length;else if(""===w)h=d.convertCharacterCountToIndexPosition(d.countNumberCharactersOnTheCaretLeftSide(r,o,this.settings.decimalCharacter))+f.length,E&&h++;else{var D=d.convertCharacterCountToIndexPosition(d.countNumberCharactersOnTheCaretLeftSide(r,a,this.settings.decimalCharacter)),P=d.getElementValue(i).slice(o,a);h=D-s+d.countCharInText(this.settings.digitGroupSeparator,P)+f.length}m&&h++,S&&h--}if(d.isNumber(g)&&""!==g){var N=!1,R=!1;try{this.set(g),N=!0}catch(t){var L;switch(this.settings.onInvalidPaste){case e.options.onInvalidPaste.clamp:L=d.clampToRangeLimits(g,this.settings);try{this.set(L)}catch(t){d.throwError("Fatal error: Unable to set the clamped value '".concat(L,"'."))}N=R=!0,g=L;break;case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:d.throwError("The pasted value '".concat(n,"' results in a value '").concat(g,"' that is outside of the minimum [").concat(this.settings.minimumValue,"] and maximum [").concat(this.settings.maximumValue,"] value range."));case e.options.onInvalidPaste.ignore:default:return}}var F,M=d.getElementValue(i);if(N)switch(this.settings.onInvalidPaste){case e.options.onInvalidPaste.clamp:if(R){this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?d.setElementSelection(i,M.length-this.settings.currencySymbol.length):d.setElementSelection(i,M.length);break}case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.ignore:case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:default:F=d.findCaretPositionInFormattedNumber(g,h,M,this.settings.decimalCharacter),d.setElementSelection(i,F)}N&&r!==M&&this._triggerEvent(e.events.native.input,i)}else this.settings.onInvalidPaste===e.options.onInvalidPaste.error&&d.throwError("The pasted value '".concat(n,"' would result into an invalid content '").concat(g,"'."))}}},{key:"_onBlur",value:function(t){this.isFocused=!1,this.isEditing=!1,this.rawValue!==this.rawValueOnFocus&&this._triggerEvent(e.events.native.change,t.target),this.rawValueOnFocus=void 0}},{key:"_onWheel",value:function(t){this.formulaMode||this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled||this.settings.modifyValueOnWheel&&(this.settings.wheelOn===e.options.wheelOn.focus?this.isFocused?t.shiftKey||this.wheelAction(t):t.shiftKey&&this.wheelAction(t):this.settings.wheelOn===e.options.wheelOn.hover?t.shiftKey?(t.preventDefault(),window.scrollBy(0,d.isNegativeStrict(String(t.deltaY))?-50:50)):this.wheelAction(t):d.throwError("Unknown `wheelOn` option."))}},{key:"wheelAction",value:function(t){this.isWheelEvent=!0;var n,i=t.target.selectionStart||0,r=t.target.selectionEnd||0,o=this.rawValue;if(d.isUndefinedOrNullOrEmpty(o)?0<this.settings.minimumValue||this.settings.maximumValue<0?d.isWheelUpEvent(t)?n=this.settings.minimumValue:d.isWheelDownEvent(t)?n=this.settings.maximumValue:d.throwError("The event is not a 'wheel' event."):n=0:n=o,n=+n,d.isNumber(this.settings.wheelStep)){var a=+this.settings.wheelStep;d.isWheelUpEvent(t)?n+=a:d.isWheelDownEvent(t)&&(n-=a)}else d.isWheelUpEvent(t)?n=d.addAndRoundToNearestAuto(n,this.settings.decimalPlacesRawValue):d.isWheelDownEvent(t)&&(n=d.subtractAndRoundToNearestAuto(n,this.settings.decimalPlacesRawValue));(n=d.clampToRangeLimits(n,this.settings))!==+o&&(this.set(n),this._triggerEvent(e.events.native.input,t.target)),t.preventDefault(),this._setSelection(i,r),this.isWheelEvent=!1}},{key:"_onDrop",value:function(e){if(!this.formulaMode){var t;this.isDropEvent=!0,e.preventDefault(),t=d.isIE11()?"text":"text/plain";var n=e.dataTransfer.getData(t),i=this.unformatOther(n);this.set(i),this.isDropEvent=!1}}},{key:"_onFormSubmit",value:function(){var e=this;return this._getFormAutoNumericChildren(this.parentForm).map((function(t){return e.constructor.getAutoNumericElement(t)})).forEach((function(e){return e._unformatOnSubmit()})),!0}},{key:"_onFormReset",value:function(){var e=this;this._getFormAutoNumericChildren(this.parentForm).map((function(t){return e.constructor.getAutoNumericElement(t)})).forEach((function(t){var n=e._getDefaultValue(t.node());setTimeout((function(){return t.set(n)}),0)}))}},{key:"_unformatOnSubmit",value:function(){this.settings.unformatOnSubmit&&this._setElementValue(this.rawValue)}},{key:"_onKeydownGlobal",value:function(t){if(d.character(t)===r.keyName.Alt){var n=d.getHoveredElement();if(e.isManagedByAutoNumeric(n)){var i=e.getAutoNumericElement(n);!i.formulaMode&&i.settings.unformatOnHover&&this.constructor._unformatAltHovered(i)}}}},{key:"_onKeyupGlobal",value:function(t){if(d.character(t)===r.keyName.Alt){var n=d.getHoveredElement();if(e.isManagedByAutoNumeric(n)){var i=e.getAutoNumericElement(n);if(i.formulaMode||!i.settings.unformatOnHover)return;this.constructor._reformatAltHovered(i)}}}},{key:"_isElementTagSupported",value:function(){return d.isElement(this.domElement)||d.throwError("The DOM element is not valid, ".concat(this.domElement," given.")),d.isInArray(this.domElement.tagName.toLowerCase(),this.allowedTagList)}},{key:"_isInputElement",value:function(){return"input"===this.domElement.tagName.toLowerCase()}},{key:"_isInputTypeSupported",value:function(){return"text"===this.domElement.type||"hidden"===this.domElement.type||"tel"===this.domElement.type||d.isUndefinedOrNullOrEmpty(this.domElement.type)}},{key:"_checkElement",value:function(){var e=this.domElement.tagName.toLowerCase();this._isElementTagSupported()||d.throwError("The <".concat(e,"> tag is not supported by autoNumeric")),this._isInputElement()?(this._isInputTypeSupported()||d.throwError('The input type "'.concat(this.domElement.type,'" is not supported by autoNumeric')),this.isInputElement=!0):(this.isInputElement=!1,this.isContentEditable=this.domElement.hasAttribute("contenteditable")&&"true"===this.domElement.getAttribute("contenteditable"))}},{key:"_formatDefaultValueOnPageLoad",value:function(t){var n,i=0<arguments.length&&void 0!==t?t:null,r=!0;if(d.isNull(i)?(n=d.getElementValue(this.domElement).trim(),this.domElement.setAttribute("value",n)):n=i,this.isInputElement||this.isContentEditable){var o=this.constructor._toNumericValue(n,this.settings);if(this.domElement.hasAttribute("value")&&""!==this.domElement.getAttribute("value")){if(null!==this.settings.defaultValueOverride&&this.settings.defaultValueOverride.toString()!==n||null===this.settings.defaultValueOverride&&""!==n&&n!==this.domElement.getAttribute("value")||""!==n&&"hidden"===this.domElement.getAttribute("type")&&!d.isNumber(o)){if(this.settings.saveValueToSessionStorage&&(null!==this.settings.decimalPlacesShownOnFocus||this.settings.divisorWhenUnfocused)&&this._setRawValue(this._getValueFromPersistentStorage()),!this.settings.saveValueToSessionStorage){var a=this.constructor._removeBrackets(n,this.settings);(this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)&&""!==this.settings.negativeSignCharacter&&d.isNegative(n,this.settings.negativeSignCharacter)?this._setRawValue("-".concat(this.constructor._stripAllNonNumberCharacters(a,this.settings,!0,this.isFocused))):this._setRawValue(this.constructor._stripAllNonNumberCharacters(a,this.settings,!0,this.isFocused))}r=!1}}else isNaN(Number(o))||1/0===o?d.throwError("The value [".concat(n,"] used in the input is not a valid value autoNumeric can work with.")):(this.set(o),r=!1);if(""===n)switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.null:case e.options.emptyInputBehavior.press:break;case e.options.emptyInputBehavior.always:this._setElementValue(this.settings.currencySymbol);break;case e.options.emptyInputBehavior.min:this.set(this.settings.minimumValue);break;case e.options.emptyInputBehavior.max:this.set(this.settings.maximumValue);break;case e.options.emptyInputBehavior.zero:this.set("0");break;default:this.set(this.settings.emptyInputBehavior)}else r&&n===this.domElement.getAttribute("value")&&this.set(n)}else null!==this.settings.defaultValueOverride&&this.settings.defaultValueOverride!==n||this.set(n)}},{key:"_calculateVMinAndVMaxIntegerSizes",value:function(){var e=y(this.settings.maximumValue.toString().split("."),1)[0],t=y(this.settings.minimumValue||0===this.settings.minimumValue?this.settings.minimumValue.toString().split("."):[],1)[0];e=e.replace(this.settings.negativeSignCharacter,""),t=t.replace(this.settings.negativeSignCharacter,""),this.settings.mIntPos=Math.max(e.length,1),this.settings.mIntNeg=Math.max(t.length,1)}},{key:"_calculateValuesToStringsKeys",value:function(){this.settings.valuesToStrings?this.valuesToStringsKeys=Object.keys(this.settings.valuesToStrings):this.valuesToStringsKeys=[]}},{key:"_transformOptionsValuesToDefaultTypes",value:function(){for(var e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){var t=this.settings[e];"true"!==t&&"false"!==t||(this.settings[e]="true"===t),"number"==typeof t&&(this.settings[e]=t.toString())}}},{key:"_setSettings",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t;!n&&d.isNull(e)||this.constructor._convertOldOptionsToNewOnes(e),n?("decimalPlacesRawValue"in e&&(this.settings.originalDecimalPlacesRawValue=e.decimalPlacesRawValue),"decimalPlaces"in e&&(this.settings.originalDecimalPlaces=e.decimalPlaces),this.constructor._calculateDecimalPlacesOnUpdate(e,this.settings),this._mergeSettings(e)):(this.settings={},this._mergeSettings(this.constructor.getDefaultConfig(),this.domElement.dataset,e,{rawValue:this.defaultRawValue}),this.caretFix=!1,this.throwInput=!0,this.allowedTagList=r.allowedTagList,this.runOnce=!1,this.hoveredWithAlt=!1),this._transformOptionsValuesToDefaultTypes(),this._runCallbacksFoundInTheSettingsObject(),this.constructor._correctNegativePositiveSignPlacementOption(this.settings),this.constructor._correctCaretPositionOnFocusAndSelectOnFocusOptions(this.settings),this.constructor._setNegativePositiveSignPermissions(this.settings),n||(d.isNull(e)||!e.decimalPlaces?this.settings.originalDecimalPlaces=null:this.settings.originalDecimalPlaces=e.decimalPlaces,this.settings.originalDecimalPlacesRawValue=this.settings.decimalPlacesRawValue,this.constructor._calculateDecimalPlacesOnInit(this.settings)),this._calculateVMinAndVMaxIntegerSizes(),this._setTrailingNegativeSignInfo(),this.regex={},this.constructor._cachesUsualRegularExpressions(this.settings,this.regex),this.constructor._setBrackets(this.settings),this._calculateValuesToStringsKeys(),d.isEmptyObj(this.settings)&&d.throwError("Unable to set the settings, those are invalid ; an empty object was given."),this.constructor.validate(this.settings,!1,e),this._keepAnOriginalSettingsCopy()}},{key:"_preparePastedText",value:function(e){return this.constructor._stripAllNonNumberCharacters(e,this.settings,!0,this.isFocused)}},{key:"_updateInternalProperties",value:function(){this.selection=d.getElementSelection(this.domElement),this.processed=!1}},{key:"_updateEventKeyInfo",value:function(e){this.eventKey=d.character(e)}},{key:"_saveCancellableValue",value:function(){this.savedCancellableValue=this.rawValue}},{key:"_setSelection",value:function(e,t){e=Math.max(e,0),t=Math.min(t,d.getElementValue(this.domElement).length),this.selection={start:e,end:t,length:t-e},d.setElementSelection(this.domElement,e,t)}},{key:"_setCaretPosition",value:function(e){this._setSelection(e,e)}},{key:"_getLeftAndRightPartAroundTheSelection",value:function(){var e=d.getElementValue(this.domElement);return[e.substring(0,this.selection.start),e.substring(this.selection.end,e.length)]}},{key:"_getUnformattedLeftAndRightPartAroundTheSelection",value:function(){var t=y(this._getLeftAndRightPartAroundTheSelection(),2),n=t[0],i=t[1];if(""===n&&""===i)return["",""];var o=!0;return this.eventKey!==r.keyName.Hyphen&&this.eventKey!==r.keyName.Minus||0!==Number(n)||(o=!1),this.isTrailingNegative&&(d.isNegative(i,this.settings.negativeSignCharacter)&&!d.isNegative(n,this.settings.negativeSignCharacter)||""===i&&d.isNegative(n,this.settings.negativeSignCharacter,!0))&&(n=n.replace(this.settings.negativeSignCharacter,""),i=i.replace(this.settings.negativeSignCharacter,""),n=n.replace("-",""),i=i.replace("-",""),n="-".concat(n)),[n=e._stripAllNonNumberCharactersExceptCustomDecimalChar(n,this.settings,o,this.isFocused),i=e._stripAllNonNumberCharactersExceptCustomDecimalChar(i,this.settings,!1,this.isFocused)]}},{key:"_normalizeParts",value:function(t,n){var i=!0;this.eventKey!==r.keyName.Hyphen&&this.eventKey!==r.keyName.Minus||0!==Number(t)||(i=!1),this.isTrailingNegative&&d.isNegative(n,this.settings.negativeSignCharacter)&&!d.isNegative(t,this.settings.negativeSignCharacter)&&(t="-".concat(t),n=n.replace(this.settings.negativeSignCharacter,"")),t=e._stripAllNonNumberCharactersExceptCustomDecimalChar(t,this.settings,i,this.isFocused),n=e._stripAllNonNumberCharactersExceptCustomDecimalChar(n,this.settings,!1,this.isFocused),this.settings.leadingZero!==e.options.leadingZero.deny||this.eventKey!==r.keyName.num0&&this.eventKey!==r.keyName.numpad0||0!==Number(t)||d.contains(t,this.settings.decimalCharacter)||""===n||(t=t.substring(0,t.length-1));var o=t+n;if(this.settings.decimalCharacter){var a=o.match(new RegExp("^".concat(this.regex.aNegRegAutoStrip,"\\").concat(this.settings.decimalCharacter)));a&&(o=(t=t.replace(a[1],a[1]+"0"))+n)}return[t,n,o]}},{key:"_setValueParts",value:function(t,n,i){var r=2<arguments.length&&void 0!==i&&i,o=y(this._normalizeParts(t,n),3),a=o[0],s=o[1],l=o[2],u=y(e._checkIfInRangeWithOverrideOption(l,this.settings),2),c=u[0],d=u[1];if(c&&d){var f=e._truncateDecimalPlaces(l,this.settings,r,this.settings.decimalPlacesRawValue).replace(this.settings.decimalCharacter,".");if(""===f||f===this.settings.negativeSignCharacter){var h;switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.press:case e.options.emptyInputBehavior.always:h="";break;case e.options.emptyInputBehavior.min:h=this.settings.minimumValue;break;case e.options.emptyInputBehavior.max:h=this.settings.maximumValue;break;case e.options.emptyInputBehavior.zero:h="0";break;case e.options.emptyInputBehavior.null:h=null;break;default:h=this.settings.emptyInputBehavior}this._setRawValue(h)}else this._setRawValue(this._trimLeadingAndTrailingZeros(f));var p=e._truncateDecimalPlaces(l,this.settings,r,this.settings.decimalPlacesShownOnFocus),m=a.length;return m>p.length&&(m=p.length),1===m&&"0"===a&&this.settings.leadingZero===e.options.leadingZero.deny&&(m=""===s||"0"===a&&""!==s?1:0),this._setElementValue(p,!1),this._setCaretPosition(m),!0}return this._triggerRangeEvents(c,d),!1}},{key:"_getSignPosition",value:function(){var t;if(this.settings.currencySymbol){var n=this.settings.currencySymbol.length,i=d.getElementValue(this.domElement);if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix)t=this.settings.negativeSignCharacter&&i&&i.charAt(0)===this.settings.negativeSignCharacter?[1,n+1]:[0,n];else{var r=i.length;t=[r-n,r]}}else t=[1e3,-1];return t}},{key:"_expandSelectionOnSign",value:function(){var e=y(this._getSignPosition(),2),t=e[0],n=e[1],i=this.selection;i.start<n&&i.end>t&&((i.start<t||i.end>n)&&d.getElementValue(this.domElement).substring(Math.max(i.start,t),Math.min(i.end,n)).match(/^\s*$/)?i.start<t?this._setSelection(i.start,t):this._setSelection(n,i.end):this._setSelection(Math.min(i.start,t),Math.max(i.end,n)))}},{key:"_checkPaste",value:function(){if(!this.formatted&&!d.isUndefined(this.valuePartsBeforePaste)){var t=this.valuePartsBeforePaste,n=y(this._getLeftAndRightPartAroundTheSelection(),2),i=n[0],r=n[1];delete this.valuePartsBeforePaste;var o=i.substr(0,t[0].length)+e._stripAllNonNumberCharactersExceptCustomDecimalChar(i.substr(t[0].length),this.settings,!0,this.isFocused);this._setValueParts(o,r,!0)||(this._setElementValue(t.join(""),!1),this._setCaretPosition(t[0].length))}}},{key:"_processNonPrintableKeysAndShortcuts",value:function(e){if((e.ctrlKey||e.metaKey)&&"keyup"===e.type&&!d.isUndefined(this.valuePartsBeforePaste)||e.shiftKey&&this.eventKey===r.keyName.Insert)return this._checkPaste(),!1;if(this.constructor._shouldSkipEventKey(this.eventKey))return!0;if((e.ctrlKey||e.metaKey)&&this.eventKey===r.keyName.a)return this.settings.selectNumberOnly&&(e.preventDefault(),this.selectNumber()),!0;if((e.ctrlKey||e.metaKey)&&(this.eventKey===r.keyName.c||this.eventKey===r.keyName.v||this.eventKey===r.keyName.x))return"keydown"===e.type&&this._expandSelectionOnSign(),this.eventKey!==r.keyName.v&&this.eventKey!==r.keyName.Insert||("keydown"===e.type||"keypress"===e.type?d.isUndefined(this.valuePartsBeforePaste)&&(this.valuePartsBeforePaste=this._getLeftAndRightPartAroundTheSelection()):this._checkPaste()),"keydown"===e.type||"keypress"===e.type||this.eventKey===r.keyName.c;if(e.ctrlKey||e.metaKey)return!(this.eventKey===r.keyName.Z||this.eventKey===r.keyName.z);if(this.eventKey!==r.keyName.LeftArrow&&this.eventKey!==r.keyName.RightArrow)return d.isInArray(this.eventKey,r.keyName._directionKeys);if("keydown"===e.type&&!e.shiftKey){var t=d.getElementValue(this.domElement);this.eventKey!==r.keyName.LeftArrow||t.charAt(this.selection.start-2)!==this.settings.digitGroupSeparator&&t.charAt(this.selection.start-2)!==this.settings.decimalCharacter?this.eventKey!==r.keyName.RightArrow||t.charAt(this.selection.start+1)!==this.settings.digitGroupSeparator&&t.charAt(this.selection.start+1)!==this.settings.decimalCharacter||this._setCaretPosition(this.selection.start+1):this._setCaretPosition(this.selection.start-1)}return!0}},{key:"_processCharacterDeletionIfTrailingNegativeSign",value:function(t){var n=y(t,2),i=n[0],o=n[1],a=d.getElementValue(this.domElement),s=d.isNegative(a,this.settings.negativeSignCharacter);if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix&&(this.eventKey===r.keyName.Backspace?(this.caretFix=this.selection.start>=a.indexOf(this.settings.suffixText)&&""!==this.settings.suffixText,"-"===a.charAt(this.selection.start-1)?i=i.substring(1):this.selection.start<=a.length-this.settings.suffixText.length&&(i=i.substring(0,i.length-1))):(this.caretFix=this.selection.start>=a.indexOf(this.settings.suffixText)&&""!==this.settings.suffixText,this.selection.start>=a.indexOf(this.settings.currencySymbol)+this.settings.currencySymbol.length&&(o=o.substring(1,o.length)),d.isNegative(i,this.settings.negativeSignCharacter)&&"-"===a.charAt(this.selection.start)&&(i=i.substring(1)))),this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:this.caretFix=this.selection.start>=a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===r.keyName.Backspace?this.selection.start===a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length&&s?i=i.substring(1):"-"!==i&&(this.selection.start<=a.indexOf(this.settings.negativeSignCharacter)||!s)&&(i=i.substring(0,i.length-1)):("-"===i[0]&&(o=o.substring(1)),this.selection.start===a.indexOf(this.settings.negativeSignCharacter)&&s&&(i=i.substring(1)));break;case e.options.negativePositiveSignPlacement.right:this.caretFix=this.selection.start>=a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===r.keyName.Backspace?this.selection.start===a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length?i=i.substring(1):("-"!==i&&this.selection.start<=a.indexOf(this.settings.negativeSignCharacter)-this.settings.currencySymbol.length||""!==i&&!s)&&(i=i.substring(0,i.length-1)):(this.caretFix=this.selection.start>=a.indexOf(this.settings.currencySymbol)&&""!==this.settings.currencySymbol,this.selection.start===a.indexOf(this.settings.negativeSignCharacter)&&(i=i.substring(1)),o=o.substring(1))}return[i,o]}},{key:"_processCharacterDeletion",value:function(){var e,t;if(this.selection.length){this._expandSelectionOnSign();var n=y(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);e=n[0],t=n[1]}else{var i=y(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);if(e=i[0],t=i[1],""===e&&""===t&&(this.throwInput=!1),this.isTrailingNegative&&d.isNegative(d.getElementValue(this.domElement),this.settings.negativeSignCharacter)){var o=y(this._processCharacterDeletionIfTrailingNegativeSign([e,t]),2);e=o[0],t=o[1]}else this.eventKey===r.keyName.Backspace?e=e.substring(0,e.length-1):t=t.substring(1,t.length)}return!!this.constructor._isWithinRangeWithOverrideOption("".concat(e).concat(t),this.settings)&&(this._setValueParts(e,t),!0)}},{key:"_isDecimalCharacterInsertionAllowed",value:function(){return String(this.settings.decimalPlacesShownOnFocus)!==String(e.options.decimalPlacesShownOnFocus.none)&&String(this.settings.decimalPlaces)!==String(e.options.decimalPlaces.none)}},{key:"_processCharacterInsertion",value:function(){var e=y(this._getUnformattedLeftAndRightPartAroundTheSelection(),2),t=e[0],n=e[1];if(this.eventKey!==r.keyName.AndroidDefault&&(this.throwInput=!0),this.eventKey===this.settings.decimalCharacter||this.settings.decimalCharacterAlternative&&this.eventKey===this.settings.decimalCharacterAlternative){if(!this._isDecimalCharacterInsertionAllowed()||!this.settings.decimalCharacter)return!1;if(this.settings.alwaysAllowDecimalCharacter)t=t.replace(this.settings.decimalCharacter,""),n=n.replace(this.settings.decimalCharacter,"");else{if(d.contains(t,this.settings.decimalCharacter))return!0;if(0<n.indexOf(this.settings.decimalCharacter))return!0;0===n.indexOf(this.settings.decimalCharacter)&&(n=n.substr(1))}return this.settings.negativeSignCharacter&&d.contains(n,this.settings.negativeSignCharacter)&&(t="".concat(this.settings.negativeSignCharacter).concat(t),n=n.replace(this.settings.negativeSignCharacter,"")),this._setValueParts(t+this.settings.decimalCharacter,n),!0}if(("-"===this.eventKey||"+"===this.eventKey)&&this.settings.isNegativeSignAllowed)return""===t&&d.contains(n,"-")?n=n.replace("-",""):t=d.isNegativeStrict(t,"-")?t.replace("-",""):"".concat(this.settings.negativeSignCharacter).concat(t),this._setValueParts(t,n),!0;var i=Number(this.eventKey);return 0<=i&&i<=9?(this.settings.isNegativeSignAllowed&&""===t&&d.contains(n,"-")&&(t="-",n=n.substring(1,n.length)),this.settings.maximumValue<=0&&this.settings.minimumValue<this.settings.maximumValue&&!d.contains(d.getElementValue(this.domElement),this.settings.negativeSignCharacter)&&"0"!==this.eventKey&&(t="-".concat(t)),this._setValueParts("".concat(t).concat(this.eventKey),n),!0):this.throwInput=!1}},{key:"_formatValue",value:function(t){var n=d.getElementValue(this.domElement),i=y(this._getUnformattedLeftAndRightPartAroundTheSelection(),1)[0];if((""===this.settings.digitGroupSeparator||""!==this.settings.digitGroupSeparator&&!d.contains(n,this.settings.digitGroupSeparator))&&(""===this.settings.currencySymbol||""!==this.settings.currencySymbol&&!d.contains(n,this.settings.currencySymbol))){var o=y(n.split(this.settings.decimalCharacter),1)[0],a="";d.isNegative(o,this.settings.negativeSignCharacter)&&(a=this.settings.negativeSignCharacter,o=o.replace(this.settings.negativeSignCharacter,""),i=i.replace("-","")),""===a&&o.length>this.settings.mIntPos&&"0"===i.charAt(0)&&(i=i.slice(1)),a===this.settings.negativeSignCharacter&&o.length>this.settings.mIntNeg&&"0"===i.charAt(0)&&(i=i.slice(1)),this.isTrailingNegative||(i="".concat(a).concat(i))}var s=this.constructor._addGroupSeparators(n,this.settings,this.isFocused,this.rawValue),l=s.length;if(s){var u,c=i.split("");if((this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)&&c[0]===this.settings.negativeSignCharacter&&!this.settings.isNegativeSignAllowed&&(c.shift(),(this.eventKey===r.keyName.Backspace||this.eventKey===r.keyName.Delete)&&this.caretFix&&((this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left||this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix)&&(c.push(this.settings.negativeSignCharacter),this.caretFix="keydown"===t.type),this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.right))){var f=this.settings.currencySymbol.split(""),h=["\\","^","$",".","|","?","*","+","(",")","["],p=[];f.forEach((function(e,t){t=f[e],d.isInArray(t,h)?p.push("\\"+t):p.push(t)})),this.eventKey===r.keyName.Backspace&&"-"===this.settings.negativeSignCharacter&&p.push("-"),c.push(p.join("")),this.caretFix="keydown"===t.type}for(var m=0;m<c.length;m++)c[m].match("\\d")||(c[m]="\\"+c[m]);u=this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?new RegExp("^.*?".concat(c.join(".*?"))):new RegExp("^.*?".concat(this.settings.currencySymbol).concat(c.join(".*?")));var g=s.match(u);g?(l=g[0].length,this.settings.showPositiveSign&&(0===l&&g.input.charAt(0)===this.settings.positiveSignCharacter&&(l=1===g.input.indexOf(this.settings.currencySymbol)?this.settings.currencySymbol.length+1:1),0===l&&g.input.charAt(this.settings.currencySymbol.length)===this.settings.positiveSignCharacter&&(l=this.settings.currencySymbol.length+1)),(0===l&&s.charAt(0)!==this.settings.negativeSignCharacter||1===l&&s.charAt(0)===this.settings.negativeSignCharacter)&&this.settings.currencySymbol&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(l=this.settings.currencySymbol.length+(d.isNegativeStrict(s,this.settings.negativeSignCharacter)?1:0))):(this.settings.currencySymbol&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&(l-=this.settings.currencySymbol.length),this.settings.suffixText&&(l-=this.settings.suffixText.length))}s!==n&&(this._setElementValue(s,!1),this._setCaretPosition(l)),this.formatted=!0}}]),E(t,n),e}();function T(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}x.multiple=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=[];if(d.isObject(t)&&(n=t,t=null),d.isString(e))e=v(document.querySelectorAll(e));else if(d.isObject(e)){Object.prototype.hasOwnProperty.call(e,"rootElement")||d.throwError("The object passed to the 'multiple' function is invalid ; no 'rootElement' attribute found.");var r=v(e.rootElement.querySelectorAll("input"));e=Object.prototype.hasOwnProperty.call(e,"exclude")?(Array.isArray(e.exclude)||d.throwError("The 'exclude' array passed to the 'multiple' function is invalid."),d.filterOut(r,e.exclude)):r}else d.isArray(e)||d.throwError("The given parameters to the 'multiple' function are invalid.");if(0===e.length){var o=!0;return!d.isNull(n)&&d.isBoolean(n.showWarnings)&&(o=n.showWarnings),d.warning("No valid DOM elements were given hence no AutoNumeric objects were instantiated.",o),[]}var a=d.isArray(t)&&1<=t.length,s=!1,l=!1;if(a){var u=S(Number(t[0]));(s="number"===u&&!isNaN(Number(t[0])))||"string"!==u&&!isNaN(u)&&"object"!==u||(l=!0)}var c,f=!1;if(d.isArray(n)&&1<=n.length){var h=S(n[0]);"string"!==h&&"object"!==h||(f=!0)}c=l?x.mergeOptions(t):f?x.mergeOptions(n):n;var p,m=d.isNumber(t);return s&&(p=t.length),e.forEach((function(e,n){m?i.push(new x(e,t,c)):s&&n<=p?i.push(new x(e,t[n],c)):i.push(new x(e,null,c))})),i},Array.from||(Array.from=function(e){return[].slice.call(e)}),"undefined"!=typeof window&&"function"!=typeof window.CustomEvent&&(T.prototype=window.Event.prototype,window.CustomEvent=T),x.events={correctedValue:"autoNumeric:correctedValue",initialized:"autoNumeric:initialized",invalidFormula:"autoNumeric:invalidFormula",invalidValue:"autoNumeric:invalidValue",formatted:"autoNumeric:formatted",rawValueModified:"autoNumeric:rawValueModified",minRangeExceeded:"autoNumeric:minExceeded",maxRangeExceeded:"autoNumeric:maxExceeded",native:{input:"input",change:"change"},validFormula:"autoNumeric:validFormula"},Object.freeze(x.events.native),Object.freeze(x.events),Object.defineProperty(x,"events",{configurable:!1,writable:!1}),x.options={allowDecimalPadding:{always:!0,never:!1,floats:"floats"},alwaysAllowDecimalCharacter:{alwaysAllow:!0,doNotAllow:!1},caretPositionOnFocus:{start:"start",end:"end",decimalLeft:"decimalLeft",decimalRight:"decimalRight",doNoForceCaretPosition:null},createLocalList:{createList:!0,doNotCreateList:!1},currencySymbol:{none:"",currencySign:"¤",austral:"₳",australCentavo:"¢",baht:"฿",cedi:"₵",cent:"¢",colon:"₡",cruzeiro:"₢",dollar:"$",dong:"₫",drachma:"₯",dram:"​֏",european:"₠",euro:"€",florin:"ƒ",franc:"₣",guarani:"₲",hryvnia:"₴",kip:"₭",att:"ອັດ",lepton:"Λ.",lira:"₺",liraOld:"₤",lari:"₾",mark:"ℳ",mill:"₥",naira:"₦",peseta:"₧",peso:"₱",pfennig:"₰",pound:"£",real:"R$",riel:"៛",ruble:"₽",rupee:"₹",rupeeOld:"₨",shekel:"₪",shekelAlt:"ש״ח‎‎",taka:"৳",tenge:"₸",togrog:"₮",won:"₩",yen:"¥"},currencySymbolPlacement:{prefix:"p",suffix:"s"},decimalCharacter:{comma:",",dot:".",middleDot:"·",arabicDecimalSeparator:"٫",decimalSeparatorKeySymbol:"⎖"},decimalCharacterAlternative:{none:null,comma:",",dot:"."},decimalPlaces:{none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesRawValue:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnBlur:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnFocus:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},defaultValueOverride:{doNotOverride:null},digitalGroupSpacing:{two:"2",twoScaled:"2s",three:"3",four:"4"},digitGroupSeparator:{comma:",",dot:".",normalSpace:" ",thinSpace:" ",narrowNoBreakSpace:" ",noBreakSpace:" ",noSeparator:"",apostrophe:"'",arabicThousandsSeparator:"٬",dotAbove:"˙",privateUseTwo:"’"},divisorWhenUnfocused:{none:null,percentage:100,permille:1e3,basisPoint:1e4},emptyInputBehavior:{focus:"focus",press:"press",always:"always",zero:"zero",min:"min",max:"max",null:"null"},eventBubbles:{bubbles:!0,doesNotBubble:!1},eventIsCancelable:{isCancelable:!0,isNotCancelable:!1},failOnUnknownOption:{fail:!0,ignore:!1},formatOnPageLoad:{format:!0,doNotFormat:!1},formulaMode:{enabled:!0,disabled:!1},historySize:{verySmall:5,small:10,medium:20,large:50,veryLarge:100,insane:Number.MAX_SAFE_INTEGER},invalidClass:"an-invalid",isCancellable:{cancellable:!0,notCancellable:!1},leadingZero:{allow:"allow",deny:"deny",keep:"keep"},maximumValue:{tenTrillions:"10000000000000",oneBillion:"1000000000",zero:"0"},minimumValue:{tenTrillions:"-10000000000000",oneBillion:"-1000000000",zero:"0"},modifyValueOnWheel:{modifyValue:!0,doNothing:!1},negativeBracketsTypeOnBlur:{parentheses:"(,)",brackets:"[,]",chevrons:"<,>",curlyBraces:"{,}",angleBrackets:"〈,〉",japaneseQuotationMarks:"｢,｣",halfBrackets:"⸤,⸥",whiteSquareBrackets:"⟦,⟧",quotationMarks:"‹,›",guillemets:"«,»",none:null},negativePositiveSignPlacement:{prefix:"p",suffix:"s",left:"l",right:"r",none:null},negativeSignCharacter:{hyphen:"-",minus:"−",heavyMinus:"➖",fullWidthHyphen:"－",circledMinus:"⊖",squaredMinus:"⊟",triangleMinus:"⨺",plusMinus:"±",minusPlus:"∓",dotMinus:"∸",minusTilde:"≂",not:"¬"},noEventListeners:{noEvents:!0,addEvents:!1},onInvalidPaste:{error:"error",ignore:"ignore",clamp:"clamp",truncate:"truncate",replace:"replace"},outputFormat:{string:"string",number:"number",dot:".",negativeDot:"-.",comma:",",negativeComma:"-,",dotNegative:".-",commaNegative:",-",none:null},overrideMinMaxLimits:{ceiling:"ceiling",floor:"floor",ignore:"ignore",invalid:"invalid",doNotOverride:null},positiveSignCharacter:{plus:"+",fullWidthPlus:"＋",heavyPlus:"➕",doublePlus:"⧺",triplePlus:"⧻",circledPlus:"⊕",squaredPlus:"⊞",trianglePlus:"⨹",plusMinus:"±",minusPlus:"∓",dotPlus:"∔",altHebrewPlus:"﬩",normalSpace:" ",thinSpace:" ",narrowNoBreakSpace:" ",noBreakSpace:" "},rawValueDivisor:{none:null,percentage:100,permille:1e3,basisPoint:1e4},readOnly:{readOnly:!0,readWrite:!1},roundingMethod:{halfUpSymmetric:"S",halfUpAsymmetric:"A",halfDownSymmetric:"s",halfDownAsymmetric:"a",halfEvenBankersRounding:"B",upRoundAwayFromZero:"U",downRoundTowardZero:"D",toCeilingTowardPositiveInfinity:"C",toFloorTowardNegativeInfinity:"F",toNearest05:"N05",toNearest05Alt:"CHF",upToNext05:"U05",downToNext05:"D05"},saveValueToSessionStorage:{save:!0,doNotSave:!1},selectNumberOnly:{selectNumbersOnly:!0,selectAll:!1},selectOnFocus:{select:!0,doNotSelect:!1},serializeSpaces:{plus:"+",percent:"%20"},showOnlyNumbersOnFocus:{onlyNumbers:!0,showAll:!1},showPositiveSign:{show:!0,hide:!1},showWarnings:{show:!0,hide:!1},styleRules:{none:null,positiveNegative:{positive:"autoNumeric-positive",negative:"autoNumeric-negative"},range0To100With4Steps:{ranges:[{min:0,max:25,class:"autoNumeric-red"},{min:25,max:50,class:"autoNumeric-orange"},{min:50,max:75,class:"autoNumeric-yellow"},{min:75,max:100,class:"autoNumeric-green"}]},evenOdd:{userDefined:[{callback:function(e){return e%2==0},classes:["autoNumeric-even","autoNumeric-odd"]}]},rangeSmallAndZero:{userDefined:[{callback:function(e){return-1<=e&&e<0?0:0===Number(e)?1:0<e&&e<=1?2:null},classes:["autoNumeric-small-negative","autoNumeric-zero","autoNumeric-small-positive"]}]}},suffixText:{none:"",percentage:"%",permille:"‰",basisPoint:"‱"},symbolWhenUnfocused:{none:null,percentage:"%",permille:"‰",basisPoint:"‱"},unformatOnHover:{unformat:!0,doNotUnformat:!1},unformatOnSubmit:{unformat:!0,keepCurrentValue:!1},valuesToStrings:{none:null,zeroDash:{0:"-"},oneAroundZero:{"-1":"Min",1:"Max"}},watchExternalChanges:{watch:!0,doNotWatch:!1},wheelOn:{focus:"focus",hover:"hover"},wheelStep:{progressive:"progressive"}},C=x.options,Object.getOwnPropertyNames(C).forEach((function(e){"valuesToStrings"===e?Object.getOwnPropertyNames(C.valuesToStrings).forEach((function(e){d.isIE11()||null===C.valuesToStrings[e]||Object.freeze(C.valuesToStrings[e])})):"styleRules"!==e&&(d.isIE11()||null===C[e]||Object.freeze(C[e]))})),Object.freeze(C),Object.defineProperty(x,"options",{configurable:!1,writable:!1}),x.defaultSettings={allowDecimalPadding:x.options.allowDecimalPadding.always,alwaysAllowDecimalCharacter:x.options.alwaysAllowDecimalCharacter.doNotAllow,caretPositionOnFocus:x.options.caretPositionOnFocus.doNoForceCaretPosition,createLocalList:x.options.createLocalList.createList,currencySymbol:x.options.currencySymbol.none,currencySymbolPlacement:x.options.currencySymbolPlacement.prefix,decimalCharacter:x.options.decimalCharacter.dot,decimalCharacterAlternative:x.options.decimalCharacterAlternative.none,decimalPlaces:x.options.decimalPlaces.two,decimalPlacesRawValue:x.options.decimalPlacesRawValue.useDefault,decimalPlacesShownOnBlur:x.options.decimalPlacesShownOnBlur.useDefault,decimalPlacesShownOnFocus:x.options.decimalPlacesShownOnFocus.useDefault,defaultValueOverride:x.options.defaultValueOverride.doNotOverride,digitalGroupSpacing:x.options.digitalGroupSpacing.three,digitGroupSeparator:x.options.digitGroupSeparator.comma,divisorWhenUnfocused:x.options.divisorWhenUnfocused.none,emptyInputBehavior:x.options.emptyInputBehavior.focus,eventBubbles:x.options.eventBubbles.bubbles,eventIsCancelable:x.options.eventIsCancelable.isCancelable,failOnUnknownOption:x.options.failOnUnknownOption.ignore,formatOnPageLoad:x.options.formatOnPageLoad.format,formulaMode:x.options.formulaMode.disabled,historySize:x.options.historySize.medium,invalidClass:x.options.invalidClass,isCancellable:x.options.isCancellable.cancellable,leadingZero:x.options.leadingZero.deny,maximumValue:x.options.maximumValue.tenTrillions,minimumValue:x.options.minimumValue.tenTrillions,modifyValueOnWheel:x.options.modifyValueOnWheel.modifyValue,negativeBracketsTypeOnBlur:x.options.negativeBracketsTypeOnBlur.none,negativePositiveSignPlacement:x.options.negativePositiveSignPlacement.none,negativeSignCharacter:x.options.negativeSignCharacter.hyphen,noEventListeners:x.options.noEventListeners.addEvents,onInvalidPaste:x.options.onInvalidPaste.error,outputFormat:x.options.outputFormat.none,overrideMinMaxLimits:x.options.overrideMinMaxLimits.doNotOverride,positiveSignCharacter:x.options.positiveSignCharacter.plus,rawValueDivisor:x.options.rawValueDivisor.none,readOnly:x.options.readOnly.readWrite,roundingMethod:x.options.roundingMethod.halfUpSymmetric,saveValueToSessionStorage:x.options.saveValueToSessionStorage.doNotSave,selectNumberOnly:x.options.selectNumberOnly.selectNumbersOnly,selectOnFocus:x.options.selectOnFocus.select,serializeSpaces:x.options.serializeSpaces.plus,showOnlyNumbersOnFocus:x.options.showOnlyNumbersOnFocus.showAll,showPositiveSign:x.options.showPositiveSign.hide,showWarnings:x.options.showWarnings.show,styleRules:x.options.styleRules.none,suffixText:x.options.suffixText.none,symbolWhenUnfocused:x.options.symbolWhenUnfocused.none,unformatOnHover:x.options.unformatOnHover.unformat,unformatOnSubmit:x.options.unformatOnSubmit.keepCurrentValue,valuesToStrings:x.options.valuesToStrings.none,watchExternalChanges:x.options.watchExternalChanges.doNotWatch,wheelOn:x.options.wheelOn.focus,wheelStep:x.options.wheelStep.progressive},Object.freeze(x.defaultSettings),Object.defineProperty(x,"defaultSettings",{configurable:!1,writable:!1});var I={digitGroupSeparator:x.options.digitGroupSeparator.dot,decimalCharacter:x.options.decimalCharacter.comma,decimalCharacterAlternative:x.options.decimalCharacterAlternative.dot,currencySymbol:" €",currencySymbolPlacement:x.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:x.options.negativePositiveSignPlacement.prefix},k={digitGroupSeparator:x.options.digitGroupSeparator.comma,decimalCharacter:x.options.decimalCharacter.dot,currencySymbol:x.options.currencySymbol.dollar,currencySymbolPlacement:x.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:x.options.negativePositiveSignPlacement.right},O={digitGroupSeparator:x.options.digitGroupSeparator.comma,decimalCharacter:x.options.decimalCharacter.dot,currencySymbol:x.options.currencySymbol.yen,currencySymbolPlacement:x.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:x.options.negativePositiveSignPlacement.right};d.cloneObject(I).formulaMode=x.options.formulaMode.enabled;var A=d.cloneObject(I);A.minimumValue=0;var D=d.cloneObject(I);D.maximumValue=0,D.negativePositiveSignPlacement=x.options.negativePositiveSignPlacement.prefix;var P=d.cloneObject(I);P.digitGroupSeparator=x.options.digitGroupSeparator.normalSpace;var N=d.cloneObject(P);N.minimumValue=0;var R=d.cloneObject(P);R.maximumValue=0,R.negativePositiveSignPlacement=x.options.negativePositiveSignPlacement.prefix;var L=d.cloneObject(I);L.currencySymbol=x.options.currencySymbol.none,L.suffixText=" ".concat(x.options.suffixText.percentage),L.wheelStep=1e-4,L.rawValueDivisor=x.options.rawValueDivisor.percentage;var F=d.cloneObject(L);F.minimumValue=0;var M=d.cloneObject(L);M.maximumValue=0,M.negativePositiveSignPlacement=x.options.negativePositiveSignPlacement.prefix;var B=d.cloneObject(L);B.decimalPlaces=3;var V=d.cloneObject(F);V.decimalPlaces=3;var $=d.cloneObject(M);$.decimalPlaces=3,d.cloneObject(k).formulaMode=x.options.formulaMode.enabled;var j=d.cloneObject(k);j.minimumValue=0;var U=d.cloneObject(k);U.maximumValue=0,U.negativePositiveSignPlacement=x.options.negativePositiveSignPlacement.prefix;var z=d.cloneObject(U);z.negativeBracketsTypeOnBlur=x.options.negativeBracketsTypeOnBlur.parentheses;var q=d.cloneObject(k);q.currencySymbol=x.options.currencySymbol.none,q.suffixText=x.options.suffixText.percentage,q.wheelStep=1e-4,q.rawValueDivisor=x.options.rawValueDivisor.percentage;var H=d.cloneObject(q);H.minimumValue=0;var G=d.cloneObject(q);G.maximumValue=0,G.negativePositiveSignPlacement=x.options.negativePositiveSignPlacement.prefix;var W=d.cloneObject(q);W.decimalPlaces=3;var Y=d.cloneObject(H);Y.decimalPlaces=3;var K=d.cloneObject(G);K.decimalPlaces=3;var X=d.cloneObject(I);X.currencySymbol=x.options.currencySymbol.lira,x.predefinedOptions={euro:I,euroPos:A,euroNeg:D,euroSpace:P,euroSpacePos:N,euroSpaceNeg:R,percentageEU2dec:L,percentageEU2decPos:F,percentageEU2decNeg:M,percentageEU3dec:B,percentageEU3decPos:V,percentageEU3decNeg:$,dollar:k,dollarPos:j,dollarNeg:U,dollarNegBrackets:z,percentageUS2dec:q,percentageUS2decPos:H,percentageUS2decNeg:G,percentageUS3dec:W,percentageUS3decPos:Y,percentageUS3decNeg:K,French:I,Spanish:I,NorthAmerican:k,British:{digitGroupSeparator:x.options.digitGroupSeparator.comma,decimalCharacter:x.options.decimalCharacter.dot,currencySymbol:x.options.currencySymbol.pound,currencySymbolPlacement:x.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:x.options.negativePositiveSignPlacement.right},Swiss:{digitGroupSeparator:x.options.digitGroupSeparator.apostrophe,decimalCharacter:x.options.decimalCharacter.dot,currencySymbol:" CHF",currencySymbolPlacement:x.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:x.options.negativePositiveSignPlacement.prefix},Japanese:O,Chinese:O,Brazilian:{digitGroupSeparator:x.options.digitGroupSeparator.dot,decimalCharacter:x.options.decimalCharacter.comma,currencySymbol:x.options.currencySymbol.real,currencySymbolPlacement:x.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:x.options.negativePositiveSignPlacement.right},Turkish:X,dotDecimalCharCommaSeparator:{digitGroupSeparator:x.options.digitGroupSeparator.comma,decimalCharacter:x.options.decimalCharacter.dot},commaDecimalCharDotSeparator:{digitGroupSeparator:x.options.digitGroupSeparator.dot,decimalCharacter:x.options.decimalCharacter.comma,decimalCharacterAlternative:x.options.decimalCharacterAlternative.dot},integer:{decimalPlaces:0},integerPos:{minimumValue:x.options.minimumValue.zero,decimalPlaces:0},integerNeg:{maximumValue:x.options.maximumValue.zero,decimalPlaces:0},float:{allowDecimalPadding:x.options.allowDecimalPadding.never},floatPos:{allowDecimalPadding:x.options.allowDecimalPadding.never,minimumValue:x.options.minimumValue.zero,maximumValue:x.options.maximumValue.tenTrillions},floatNeg:{allowDecimalPadding:x.options.allowDecimalPadding.never,minimumValue:x.options.minimumValue.tenTrillions,maximumValue:x.options.maximumValue.zero},numeric:{digitGroupSeparator:x.options.digitGroupSeparator.noSeparator,decimalCharacter:x.options.decimalCharacter.dot,currencySymbol:x.options.currencySymbol.none},numericPos:{digitGroupSeparator:x.options.digitGroupSeparator.noSeparator,decimalCharacter:x.options.decimalCharacter.dot,currencySymbol:x.options.currencySymbol.none,minimumValue:x.options.minimumValue.zero,maximumValue:x.options.maximumValue.tenTrillions},numericNeg:{digitGroupSeparator:x.options.digitGroupSeparator.noSeparator,decimalCharacter:x.options.decimalCharacter.dot,currencySymbol:x.options.currencySymbol.none,minimumValue:x.options.minimumValue.tenTrillions,maximumValue:x.options.maximumValue.zero}},Object.getOwnPropertyNames(x.predefinedOptions).forEach((function(e){Object.freeze(x.predefinedOptions[e])})),Object.freeze(x.predefinedOptions),Object.defineProperty(x,"predefinedOptions",{configurable:!1,writable:!1}),t.default=x}],e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=0).default;function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t,n}));var Datatable={init:function(e){!function(e){if($().DataTable){$.extend($.fn.dataTable.defaults,{dom:"lrt",language:{search:"<span>Filter:</span> _INPUT_",searchPlaceholder:"Type to filter...",lengthMenu:"<span>Show:</span> _MENU_",paginate:{first:"First",last:"Last",next:"rtl"==$("html").attr("dir")?"&larr;":"&rarr;",previous:"rtl"==$("html").attr("dir")?"&rarr;":"&larr;"}}}),$(".datatable_report").length>0&&setTimeout((function(){e.find(".datatable_report").DataTable({dom:'<"datatable-header"fBl><"datatable-scroll-wrap"t><"datatable-footer"ip>',language:{search:"<span>Filter:</span> _INPUT_",searchPlaceholder:"Type to filter...",lengthMenu:"<span>Show:</span> _MENU_",paginate:{first:"First",last:"Last",next:"rtl"==$("html").attr("dir")?"&larr;":"&rarr;",previous:"rtl"==$("html").attr("dir")?"&rarr;":"&larr;"}},responsive:!0,paging:!1,autoWidth:!0,processing:!0,bInfo:!1,ordering:!0,autoWidth:!0,searching:!0,scrollY:"60vh",scrollCollapse:!0,buttons:{dom:{button:{className:"btn btn-light"}},buttons:["copyHtml5","excelHtml5","csvHtml5","pdfHtml5"]}})}),2e3),$(".datatable_report_sum").length>0&&setTimeout((function(){e.find(".datatable_report_sum").DataTable({dom:'<"datatable-header"fBl><"datatable-scroll-wrap"t><"datatable-footer"ip>',language:{search:"<span>Filter:</span> _INPUT_",searchPlaceholder:"Type to filter...",lengthMenu:"<span>Show:</span> _MENU_",paginate:{first:"First",last:"Last",next:"rtl"==$("html").attr("dir")?"&larr;":"&rarr;",previous:"rtl"==$("html").attr("dir")?"&rarr;":"&larr;"}},responsive:!0,paging:!1,autoWidth:!0,processing:!0,bInfo:!1,ordering:!0,autoWidth:!0,searching:!0,scrollY:"60vh",scrollCollapse:!0,buttons:{dom:{button:{className:"btn btn-light"}},buttons:[{extend:"copyHtml5",footer:!0,text:"Copy",title:document.title},{extend:"excelHtml5",footer:!0,text:"Excel",title:document.title},{extend:"csvHtml5",footer:!0,text:"CSV",title:document.title},{extend:"pdfHtml5",footer:!0,text:"PDF",title:document.title}]},footerCallback:function(e,t,n,i,r){var o=this.api();if($("tfoot",o.table().container()).length){var a=function(e){return"string"==typeof e?1*e.replace(/[\$,]/g,""):"number"==typeof e?e:0};o.columns(".sum-column",{page:"current"}).every((function(){var e=this.data().reduce((function(e,t){return a(e)+a(t)}),0);e=Math.round(e),$(this.footer()).html(e.toLocaleString("en-US"))}))}}})}),2e3);var t=[],n=[];$(".datatable-fixed-left").length>0&&($.fn.DataTable.isDataTable(".datatable-fixed-left")&&$(".datatable-fixed-left").DataTable().destroy(),$(".datatable-fixed-left").each((function(){var e=$(this);if(0!==e.find("tbody tr").length){var n=$(this).attr("data-position")||1,i=$(this).attr("data-right-position")||0,r=$(this).attr("data-responsive-position")||0,o={leftColumns:window.innerWidth>768?n:r};i>0&&(o.rightColumns=i);var a=$(this).DataTable({scrollX:!0,paging:!1,searching:!1,bInfo:!1,ordering:!1,scrollY:"60vh",scrollCollapse:!0,fixedColumns:o});$(window).on("resize",(function(){var t=window.innerWidth>768?n:r;t!==o.leftColumns&&(o.leftColumns=t,a.destroy(),a=e.DataTable({scrollX:!0,paging:!1,searching:!0,bInfo:!1,ordering:!1,scrollY:"60vh",scrollCollapse:!0,fixedColumns:o}))})),t.push(setInterval((function(){a.columns.adjust()}),2e3))}}))),$(".datatable-fixed-left-search").length>0&&($.fn.DataTable.isDataTable(".datatable-fixed-left-search")&&$(".datatable-fixed-left-search").DataTable().destroy(),$(".datatable-fixed-left-search").each((function(){var e=$(this);if(0!==e.find("tbody tr").length){var n=$(this).attr("data-position")||1,i=$(this).attr("data-right-position")||0,r=$(this).attr("data-responsive-position")||0,o={leftColumns:window.innerWidth>768?n:r};i>0&&(o.rightColumns=i);var a=$(this).DataTable({scrollX:!0,paging:!1,dom:'<"datatable-header"fBl><"datatable-scroll-wrap"t><"datatable-footer"ip>',searching:!0,bInfo:!1,ordering:!1,scrollY:"60vh",scrollCollapse:!0,fixedColumns:o,buttons:[]});$(window).on("resize",(function(){var t=window.innerWidth>768?n:r;t!==o.leftColumns&&(o.leftColumns=t,a.destroy(),a=e.DataTable({scrollX:!0,paging:!1,searching:!0,bInfo:!1,ordering:!1,scrollY:"60vh",scrollCollapse:!0,fixedColumns:o}))})),t.push(setInterval((function(){a.columns.adjust()}),2e3))}})));var i={responsive:!0,scrollX:!1,dom:'<"datatable-header"fBl><"datatable-scroll-wrap"t><"datatable-footer"ip>',retrieve:!0,scrollY:"60vh",scrollCollapse:!0,paging:!1,searching:!1,bInfo:!1,ordering:!1,buttons:[]},r={responsive:!0,scrollX:!1,dom:'<"datatable-header"fBl><"datatable-scroll-wrap"t><"datatable-footer"ip>',retrieve:!0,scrollY:"60vh",scrollCollapse:!0,paging:!1,searching:!0,bInfo:!1,ordering:!1,buttons:[]};e.find(".datatable-fixed-both").each((function(){$.fn.DataTable.fnIsDataTable(this)&&this.distroy()})),$(".datatable-fixed-both").length>0&&n.push(setTimeout((function(){var n=e.find(".datatable-fixed-both").DataTable(i);n.buttons().container().appendTo(".datatable-button"),t.push(setInterval((function(){n.columns.adjust()}),2e3))}),3e3)),e.find(".datatable-fixed-both-search").each((function(){$.fn.DataTable.fnIsDataTable(this)&&this.distroy()})),$(".datatable-fixed-both-search").length>0&&n.push(setTimeout((function(){var n=e.find(".datatable-fixed-both-search").DataTable(r);n.buttons().container().appendTo(".datatable-button"),t.push(setInterval((function(){n.columns.adjust()}),2e3))}),3e3)),$(document).on("MainContentReloaded",(function(e){if(0===t.length)return!0;t.map((e=>{clearInterval(e),t=[]})),n.map((e=>{clearTimeout(e),n=[]}))}))}else console.warn("Warning - datatables.min.js is not loaded.")}(e)}};$(document).on("DOMContentLoaded MainContentReloaded",(function(e){Datatable.init($(e.target))}));const AutoloadDataService=function(){var e={contact:{url:window.API_SERVICE_URL_V2+"/crm/contacts/search",search_param:"keyword",formated:"$(_id) - $(fullname)",html:"$(_id) - $(fullname)<br>$(phone) - $(email) - $(birthdate)",id:"_id",query:["type"],version:2},account:{url:window.API_SERVICE_URL_V2+"/crm/accounts",search_param:"name",formated:"$(name)",id:"_id",query:[],version:2},"document-type":{url:window.API_SERVICE_URL_V2+"/crm/contact-document-type",formated:"$(name)",id:"_id",query:["status","_id"],version:2},document:{url:window.API_SERVICE_URL_V2+"/lms/documents",search_param:"name",formated:"$(name)",id:"_id",query:[],version:2},"document-category":{url:window.API_SERVICE_URL_V2+"/lms/document-categories",search_param:"name",formated:"$(name)",id:"_id",query:["brand_id"],version:2},campaigns:{url:window.API_SERVICE_URL_V2+"/crm/campaigns/search",search_param:"keyword",formated:"$(name)",id:"_id",version:2},source:{url:window.API_SERVICE_URL_V2+"/crm/sources",formated:"$(name)",id:"name",query:[],version:2},setting_document:{url:window.API_SERVICE_URL_V2+"/support/setting_document",formated:"$(name)",id:"_id",query:["type_file","service","_id"],version:2},employee:{url:window.API_SERVICE_URL_V2+"/hr/employees/custom/search",search_param:"keyword",formated:"$(fullname) ($(email))",id:"_id",query:["type","manager_id","branch_id","status","department_id","_id"],version:2},employee_v2:{url:window.API_SERVICE_URL_V2+"/hr/employees",formated:"$(fullname) ($(email))",id:"_id",query:["type","manager_id","branch_id","status","department_id","_id"],version:2},department:{url:window.API_SERVICE_URL_V2+"/hr/departments",id:"_id",formated:"$(name)",version:2},"setting-categories":{url:window.API_SERVICE_URL_V2+"/hr/setting/category",id:"_id",formated:"$(name)",query:["type","code"],version:2},"job-title":{url:window.API_SERVICE_URL_V2+"/hr/setting/job_title",formated:"$(name)",id:"_id",query:["_id","type","code"],version:2},"hr-documents":{url:window.API_SERVICE_URL_V2+"/hr/documents",search_param:"name",formated:"$(name)",id:"_id",query:["name","category","type","relate_type","relate_id"],version:2},"recruit-jobs":{url:window.API_SERVICE_URL+"/hr/recruit-jobs",formated:"$(title)",id:"job_id",query:["status"]},"recruit-candidates":{url:window.API_SERVICE_URL+"/hr/recruit-candidates",formated:"$(name)",id:"candidate_id",query:["status"]},position:{url:window.API_SERVICE_URL_V2+"/hr/positions",formated:"$(name)",id:"_id",query:["status"],version:2},allowance:{url:window.API_SERVICE_URL_V2+"/hr/allowances",formated:"$(name)",id:"_id",query:["_id","status","department_id","job_title_id"],version:2},hr_setting_shifts:{url:window.API_SERVICE_URL_V2+"/hr/setting-shifts",formated:"$(name)",query:["type"],id:"_id",version:2},salary_type:{url:window.API_SERVICE_URL_V2+"/hr/salary-type",formated:"$(name)",id:"_id",query:["status"],version:2},branch:{url:window.API_SERVICE_URL_V2+"/org/branch",formated:"$(name)",id:"_id",query:["brand_id","city_code","_id"],version:2},brand:{url:window.API_SERVICE_URL_V2+"/org/brand",formated:"$(name)",id:"_id",query:["status","_id"],version:2},"sys-city":{url:window.API_SERVICE_URL_V2+"/org/city",formated:"$(name)",id:"_id",version:2},"sys-district":{url:window.API_SERVICE_URL_V2+"/org/districts",formated:"$(name)",query:["city_id","code","name"],id:"_id",version:2},city:{url:window.API_SERVICE_URL+"/org/location-cities",formated:"$(name)",id:"city_id"},district:{url:window.API_SERVICE_URL+"/org/location/district",formated:"$(name)",query:["city_id"],id:"district_id"},commune:{url:window.API_SERVICE_URL+"/org/location/commune",formated:"$(name)",query:["district_id"],id:"commune_id"},"course-level":{url:window.API_SERVICE_URL_V2+"/lms/course-levels",formated:"$(name)",query:["brand_id"],id:"_id",version:2},edu_reasons:{url:window.API_SERVICE_URL_V2+"/lms/reasons",formated:"$(name)",query:["type","status"],id:"_id",version:2},"course-price":{url:window.API_SERVICE_URL_V2+"/lms/course-price",formated:"$(name)",query:["course_id","type"],id:"_id",version:2},edu_setting_shifts:{url:window.API_SERVICE_URL_V2+"/lms/setting-shifts",formated:"$(name)",query:["brand_id"],id:"_id",version:2},edu_setting_reviews:{url:window.API_SERVICE_URL_V2+"/lms/setting-reviews",formated:"$(name)",query:["brand_id"],id:"_id",version:2},edu_category_album:{url:window.API_SERVICE_URL_V2+"/lms/cate_album",formated:"$(title)",query:["class_id"],id:"_id",version:2},"class-schedule":{url:window.API_SERVICE_URL_V2+"/lms/class-schedules",formated:"$(lesson_name) Buổi $(schedule_number) Ngày $(time:date)",query:["class_id","is_completed","review_classification","test_classification","consultation_classification"],id:"schedule_number",version:2},test:{url:window.API_SERVICE_URL_V2+"/tests/tests",search_param:"title",formated:"$(title)",id:"_id",query:[],version:2},course:{url:window.API_SERVICE_URL_V2+"/lms/courses",formated:"$(name)",id:"_id",query:["brand_id","contact_id","status","course_level_id","type"],version:2},"course-search":{url:window.API_SERVICE_URL_V2+"/lms/courses/search",search_param:"keyword",formated:"$(name)",id:"_id",version:2},"course-prices":{url:window.API_SERVICE_URL_V2+"/lms/course-prices",formated:"$(name)",id:"_id",query:["course_id","from_date","to_date","status","type"],version:2},"course-unit":{url:window.API_SERVICE_URL_V2+"/lms/course-unit-prices",formated:"$(name)",id:"_id",query:["course_id"],version:2},classes:{url:window.API_SERVICE_URL_V2+"/lms/classes",formated:"$(name) $(time:start_date)",query:["branch_id","course_id","lt_end_date","schedule_number_available"],id:"_id",version:2},"classes-search":{url:window.API_SERVICE_URL_V2+"/lms/classes/custom/search",search_param:"keyword",formated:"$(name) - $(time:start_date)",id:"_id",version:2},"cost-level":{url:window.API_SERVICE_URL_V2+"/lms/cost-levels",formated:"$(name) - $(type)",id:"_id",query:["type"],version:2},"class-rooms":{url:window.API_SERVICE_URL_V2+"/lms/classroom",formated:"$(name)",id:"_id",query:["branch_id"],version:2},practices:{url:window.API_SERVICE_URL_V2+"/lms/practices/search",search_param:"keyword",formated:"$(name)",id:"_id",version:2},"practices-template":{url:window.API_SERVICE_URL_V2+"/lms/practices-template",formated:"$(name)",id:"_id",version:2},finance_invoices:{url:window.API_SERVICE_URL_V2+"/finance/invoices",formated:"$(_id) ($(total_amt))",id:"_id",query:["contact_id","brand_id","sales.sale_id","payment_contact_id"],version:2},finance_wallets:{url:window.API_SERVICE_URL_V2+"/finance/wallets",formated:"$(name) - $(code)",id:"_id",query:["relate_type","relate_id","type"],version:2},finance_transaction_type:{url:window.API_SERVICE_URL_V2+"/finance/transaction-type",formated:"$(name)",id:"_id",query:["type","status","is_show_form"],version:2},finance_vouchers_category:{url:window.API_SERVICE_URL_V2+"/finance/vouchers-category",formated:"$(name)",id:"_id",query:["name"],version:2},finance_vouchers:{url:window.API_SERVICE_URL_V2+"/finance/vouchers",formated:"$(name)",id:"_id",query:["category_id","name"],version:2},ticket_topic:{url:window.API_SERVICE_URL+"/pm/ticket-topics",formated:"$(name)",id:"topic_id",query:["department_id","status"]},ticket_object:{url:window.API_SERVICE_URL+"/pm/ticket-objects",formated:"$(name)",id:"object_id",query:["name","status"]},store:{url:window.API_SERVICE_URL+"/inventory/stores",id:"store_id",formated:"$(name)"},product:{url:window.API_SERVICE_URL+"/inventory/products/custom/search",search_param:"keyword",formated:"$(name)",id:"product_id",query:["name","product_id"]},"inventory-products":{url:window.API_SERVICE_URL_V2+"/inventory/products",formated:"$(name)",search_param:"name",id:"_id",query:["name","store_id"],version:2},"products-to-inventory":{url:window.API_SERVICE_URL_V2+"/inventory/inventory-products",formated:"$(name)",search_param:"name",id:"_id",query:["name","store_id"],version:2},"inventory-stores":{url:window.API_SERVICE_URL_V2+"/inventory/stores",formated:"$(name)",search_param:"name",id:"_id",query:["name","status","_id","relate_id"],version:2},"inventory-category":{url:window.API_SERVICE_URL_V2+"/inventory/category",formated:"$(name)",id:"_id",query:["name","parent_id","status"],version:2},"inventory-brand":{url:window.API_SERVICE_URL_V2+"/inventory/product_brand",formated:"$(name)",id:"_id",query:["name","status"],version:2},"inventory-supplier":{url:window.API_SERVICE_URL_V2+"/inventory/supplier",formated:"$(name)",id:"_id",query:["name","status"],version:2},"inventory-order-group":{url:window.API_SERVICE_URL_V2+"/inventory/order_group",formated:"$(name)",id:"_id",query:["name","status","city","_id"],version:2},"inventory-products-shipment":{url:window.API_SERVICE_URL_V2+"/inventory/products_shipment",formated:"$(name)",id:"_id",query:["name","product_id","status"],version:2},"inventory-follows":{url:window.API_SERVICE_URL_V2+"/inventory/follows",formated:"$(name)",id:"_id",query:["name"],version:2},"inventory-follows-details":{url:window.API_SERVICE_URL_V2+"/inventory/follow_details",formated:"$(name)",id:"_id",query:["name","follow_id"],version:2},"inventory-policy":{url:window.API_SERVICE_URL_V2+"/inventory/policys",formated:"$(title)",id:"_id",query:["title","parent_id"],version:2},"support-flow":{url:window.API_SERVICE_URL_V2+"/support/flow",formated:"$(name)",search_param:"name",id:"_id",query:["name","status"],version:2},"notification-template":{url:window.API_SERVICE_URL_V2+"/notification/template",formated:"$(name)",id:"_id",query:["name","brand_id","noti-type","status","code"],version:2},callcenter_ticket_topic:{url:window.API_SERVICE_URL_V2+"/call-center/ticket-topics",formated:"$(name)",id:"_id",query:["category_id","status"],version:2},callcenter_ticket:{url:window.API_SERVICE_URL_V2+"/call-center/ticket",formated:"$(name) - $(_id)",id:"_id",query:["topic_id","status","_id"],version:2},callcenter_ticket_process:{url:window.API_SERVICE_URL_V2+"/call-center/ticket-proccess",formated:"$(name)",id:"_id",query:["topic_id","_id"],version:2},"core-service":{url:window.API_SERVICE_URL_V2+"/core/services",formated:"$(name)",id:"_id",query:["name"],version:2},"core-workflow":{url:window.API_SERVICE_URL_V2+"/core/workflows",formated:"$(name)",id:"_id",query:["name","service_code","service_id"],version:2},"core-event":{url:window.API_SERVICE_URL_V2+"/core/events",formated:"$(name)",id:"_id",query:["name","service_code","service_id"],version:2},"core-listener":{url:window.API_SERVICE_URL_V2+"/core/listeners",formated:"$(name)",id:"_id",query:["name","service_code","service_id"],version:2},project:{url:window.API_SERVICE_URL_V2+"/task/projects",formated:"$(name)",id:"_id",query:["category_id","status"],version:2},"task-category":{url:window.API_SERVICE_URL_V2+"/task/category",formated:"$(name)",id:"_id",query:["status"],version:2},payroll_variable:{url:window.API_SERVICE_URL_V2+"/payroll/system-variable",formated:"$(name)",id:"_id",query:["_id","name","code","status","type","type_module"],version:2},payroll_template:{url:window.API_SERVICE_URL_V2+"/payroll/payroll-template",formated:"$(name)",id:"_id",query:["_id","status"],version:2},payroll_cycle:{url:window.API_SERVICE_URL_V2+"/payroll/cycle",formated:"$(name)",id:"_id",query:["_id","status_payroll","is_lock","is_pay","payroll_template_id"],version:2},allocation_type:{url:window.API_SERVICE_URL_V2+"/asset/allocation-type",formated:"$(name)",id:"_id",query:["_id","is_template"],version:2},allocation_template:{url:window.API_SERVICE_URL_V2+"/asset/asset-allocation-template",formated:"$(name)",id:"_id",query:["_id","status"],version:2},asset_unit:{url:window.API_SERVICE_URL_V2+"/asset/asset-units",formated:"$(name)",id:"_id",query:["_id","status","asset_category_id"],version:2},asset_attribute:{url:window.API_SERVICE_URL_V2+"/asset/asset-attributes",formated:"$(name)",id:"_id",query:["_id","status"],version:2},asset_category:{url:window.API_SERVICE_URL_V2+"/asset/asset-categories",formated:"$(name)",id:"_id",query:["_id","status"],version:2},assets:{url:window.API_SERVICE_URL_V2+"/asset/assets",formated:"$(title) - $(code)",id:"_id",query:["_id","unit_id","category_id"],version:2},asset_attribute_group:{url:window.API_SERVICE_URL_V2+"/asset/asset_attribute_group",formated:"$(name)",id:"_id",query:["_id","asset_id"],version:2},asset_setting_key:{url:window.API_SERVICE_URL_V2+"/asset/asset_setting_key",formated:"$(name)",id:"_id",query:["_id","asset_category_id"],version:2},asset_allocation:{url:window.API_SERVICE_URL_V2+"/asset/asset-allocation",formated:"$(title) - $(code)",id:"_id",query:["_id"],version:2},asset_allocation_detail:{url:window.API_SERVICE_URL_V2+"/asset/asset-allocation-detail",formated:"$(title)",id:"_id",query:["_id","allocated_entity","related_id","status"],version:2},suppliers:{url:window.API_SERVICE_URL_V2+"/asset/suppliers",formated:"$(name)",id:"_id",query:["_id"],version:2},allocation_reason:{url:window.API_SERVICE_URL_V2+"/asset/allocation-reason",formated:"$(name)",id:"_id",query:["_id"],version:2},sub_asset:{url:window.API_SERVICE_URL_V2+"/asset/sub-asset",formated:"$(code)",id:"_id",query:["_id","asset_id","attribute_id","status","status_detail","allocation_status"],version:2},internal_topic:{url:window.API_SERVICE_URL_V2+"/internal/topic",formated:"$(name)",id:"_id",query:["_id"],version:2},internal_category:{url:window.API_SERVICE_URL_V2+"/internal/category",formated:"$(name)",id:"_id",query:["_id","topic_id","parent_id"],version:2},"recruitment-job":{url:window.API_SERVICE_URL_V2+"/recruitment/job",formated:"$(title)",id:"_id",query:["_id","type","status","employee_type","category_id","brand_id","branch_id"],version:2},"recruitment-candidate":{url:window.API_SERVICE_URL_V2+"/recruitment/candidate",formated:"$(fullname)",id:"_id",query:["_id"],version:2},"recruitment-profile":{url:window.API_SERVICE_URL_V2+"/recruitment/profile",formated:"$(fullname)",id:"_id",query:["_id"],version:2},"recruitment-job-category":{url:window.API_SERVICE_URL_V2+"/recruitment/job_category",formated:"$(name)",id:"_id",query:["_id","status","code","rel_parent"],version:2},"member-role":{url:window.API_SERVICE_URL_V2+"/openai/member-role",formated:"$(label)",id:"_id",query:["_id","code","is_publish"],version:2}},t=[{url:window.API_SERVICE_URL_V2+"/hr/employees",dom:".em-profile",attr:"data-id",pquery:"_id",formated:"$(last_name) $(first_name)",link:"/hr/employee/profile/$(_id)",query:["type","branch_id","manager_id","department_id"],fk:"_id",version:2,indexedDB:"yes",indexdFormat:["first_name","last_name","fullname","email","phone","status","job_title_id","position_id"]},{url:window.API_SERVICE_URL_V2+"/org/brand",dom:".em-brand",attr:"data-id",formated:"$(name)",query:["_id","status"],fk:"_id",version:2,indexedDB:"yes",indexdFormat:["name","status"]},{url:window.API_SERVICE_URL_V2+"/tests/tests",dom:".em-test",attr:"data-id",formated:"$(title)",query:["title"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/lms/reasons",dom:".em-reason",attr:"data-id",formated:"$(name)",query:["type","status"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/lms/courses",dom:".em-course",attr:"data-id",formated:"$(name)",query:["brand_id","contact_id","status","course_level_id","type"],fk:"_id",version:2,indexedDB:"yes",indexdFormat:["name","course_level_id","description","lesson_num","number_unit","status","unit","price","type","type_code"]},{url:window.API_SERVICE_URL_V2+"/lms/course-levels",dom:".em-course-level",attr:"data-id",formated:"$(name)",query:["brand_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/lms/course-price",dom:".em-course-price",attr:"data-id",formated:"$(name)",query:["course_id","type"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/lms/cost-levels",dom:".em-cost-level",attr:"data-id",formated:"$(name)",query:["type"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/lms/classroom",dom:".em-class-room",attr:"data-id",formated:"$(name)",query:["branch_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/lms/classes",dom:".em-class",pquery:"class_id",attr:"data-id",formated:"$(name)",link:"/lms/edu/class/$(_id)",query:["branch_id","course_id","lt_end_date","schedule_number_available"],fk:"_id",version:2,indexedDB:"yes",indexdFormat:["name","status","type","email","phone","status","price","salary","method","teacher_type","rate"]},{url:window.API_SERVICE_URL_V2+"/lms/setting-shifts",dom:".em-edu-shift",attr:"data-id",formated:"$(name)",query:["brand_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/lms/setting-reviews",dom:".em-setting-review",attr:"data-id",formated:"$(name)",query:["brand_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/lms/practices",dom:".em-practices",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/lms/practices-template",dom:".em-practices-template",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/lms/cate_album",dom:".em-category-album",attr:"data-id",formated:"$(title)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/lms/document-categories",dom:".em-lms-document-category",attr:"data-id",formated:"$(name)",query:["brand_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/hr/setting/shifts",dom:".em-hr-shift",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/hr/employee_salary",dom:".em-hr-salary",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/hr/positions",dom:".em-position",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2,indexedDB:"yes",indexdFormat:["name","status"]},{url:window.API_SERVICE_URL_V2+"/hr/allowances",dom:".em-allowance",attr:"data-id",formated:"$(name)",query:["_id","status","department_id","job_title_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/hr/salary-type",dom:".em-salary-type",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/recruitment/profile",dom:".recruitment-profile",attr:"data-id",formated:"$(fullname)",query:["_id"],link:"/recruitment/profile/$(_id)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/recruitment/candidate",dom:".recruitment-candidate",attr:"data-id",formated:"$(fullname)",link:"/recruitment/candidate/$(_id)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/recruitment/job",dom:".recruitment-job",attr:"data-id",formated:"$(title)",query:["_id"],fk:"_id",version:2,link:"/recruitment/jobs/$(_id)"},{url:window.API_SERVICE_URL_V2+"/recruitment/job_category",dom:".recruitment-job-category",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/support/setting_document",dom:".em-setting-document",attr:"data-id",formated:"$(name)",query:["name"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/org/branch",dom:".em-branch",attr:"data-id",formated:"$(name)",query:["brand_id","city_code"],fk:"_id",version:2,indexedDB:"yes",indexdFormat:["name","status"]},{url:window.API_SERVICE_URL_V2+"/org/city",dom:".em-sys-city",attr:"data-id",formated:"$(name)",fk:"_id",version:2,indexedDB:"yes",indexdFormat:["name","status"]},{url:window.API_SERVICE_URL_V2+"/org/districts",dom:".em-sys-district",attr:"data-id",formated:"$(name)",fk:"_id",version:2,indexedDB:"yes",indexdFormat:["name","status"]},{url:window.API_SERVICE_URL+"/org/location-cities",dom:".em-city",attr:"data-id",formated:"$(name)",fk:"city_id"},{url:window.API_SERVICE_URL+"/org/location/district",dom:".em-district",attr:"data-id",formated:"$(name)",pquery:["city_id"],fk:"district_id"},{url:window.API_SERVICE_URL+"/org/location/commune",dom:".em-commune",attr:"data-id",formated:"$(name)",query:["district_id"],fk:"commune_id"},{url:window.API_SERVICE_URL_V2+"/hr/departments",dom:".em-department",attr:"data-id",formated:"$(name)",fk:"_id",version:2,indexedDB:"yes",indexdFormat:["name","status","parent","manager_id","code"]},{url:window.API_SERVICE_URL_V2+"/hr/setting/category",dom:".em-document-categories",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/hr/setting/job_title",dom:".em-job-title",attr:"data-id",formated:"$(name)",fk:"_id",version:2,indexedDB:"yes",indexdFormat:["name","status"]},{url:window.API_SERVICE_URL_V2+"/hr/documents",dom:".em-hr-documents",attr:"data-id",formated:"$(name)",query:["name","category","type","relate_type","relate_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/hr/employee-document-categories",dom:".em-hr-document-categories",attr:"data-id",formated:"$(name)",query:["type"],fk:"_id",version:2},{url:window.API_SERVICE_URL+"/hr/recruit-jobs",dom:".em-job",attr:"data-id",formated:"$(title)",query:["status"],fk:"job_id"},{url:window.API_SERVICE_URL+"/hr/recruit-candidates",dom:".em-candidate",attr:"data-id",formated:"$(name)",query:["status"],fk:"candidate_id"},{url:"/setting/role?json=1",dom:".em-role",attr:"data-id",formated:"$(role_name)",fk:"role_id"},{url:window.API_SERVICE_URL_V2+"/crm/campaigns",dom:".em-crm-campaigns",attr:"data-id",formated:"$(name)",fk:"_id",version:2,indexedDB:"yes",indexdFormat:["name","type","brand_id","status","start_time","assigned_employee_id","branch_id","course_id"]},{url:window.API_SERVICE_URL_V2+"/crm/contact-document-type",dom:".crm-document-type",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/crm/contacts",dom:".crm-contact",attr:"data-id",formated:"$(fullname)",link:"/crm/contacts/$(_id)",fk:"_id",pquery:"_id",version:2,indexedDB:"yes",indexdFormat:["first_name","last_name","fullname","email","phone","branch_id","brand_id","birthdate","is_accout","is_student","is_children","is_locked","parents_info","parent_id","relation","relation_name","is_account"]},{url:window.API_SERVICE_URL_V2+"/crm/accounts",dom:".crm-account",attr:"data-id",formated:"$(name)",link:"/crm/accounts/$(_id)",fk:"_id",pquery:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/crm/sources",dom:".crm-source",attr:"data-id",formated:"$(name)",fk:"name",version:2},{url:window.API_SERVICE_URL_V2+"/crm/demands",dom:".crm-contact-demand",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL+"/inner-training/courses",dom:".em-inner-course",attr:"data-id",formated:"$(name) (áp dụng từ: $(from_date))",query:["brand_id","contact_id","status"],fk:"course_id"},{url:window.API_SERVICE_URL+"/inner-training/classes",dom:".em-inner-class",pquery:"class_id",attr:"data-id",formated:"$(name)",query:["course_id","lt_end_date","schedule_number_available"],fk:"class_id"},{url:window.API_SERVICE_URL+"/inner-training/course-categories",dom:".em-course-categories",attr:"data-id",formated:"$(name)",fk:"category_id"},{url:window.API_SERVICE_URL+"/payroll/formulas",dom:".em-formula",attr:"data-id",formated:"$(name)",query:["formula_id"],fk:"formula_id"},{url:window.API_SERVICE_URL+"/payroll/templates",dom:".em-template",attr:"data-id",formated:"$(name)",query:["template_id"],fk:"template_id"},{url:window.API_SERVICE_URL+"/payroll/modules",dom:".em-module",attr:"data-id",formated:"$(module_name)",query:["module_id"],fk:"module_id"},{url:window.API_SERVICE_URL+"/pm/ticket-objects",dom:".em-ticket-object",attr:"data-id",formated:"$(name)",fk:"object_id"},{url:window.API_SERVICE_URL+"/inventory/stores",dom:".em-store",attr:"data-id",formated:"$(name)",fk:"store_id"},{url:window.API_SERVICE_URL+"/inventory/products",dom:".em-product",attr:"data-id",pquery:"product_id",formated:"$(name)",link:"/inventory/product/$(product_id)",query:["product_id"],fk:"product_id"},{url:window.API_SERVICE_URL_V2+"/inventory/policys",dom:".em-inventory-policy",attr:"data-id",formated:"$(title)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/inventory/follows",dom:".em-inventory-follow",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/inventory/follow_details",dom:".em-inventory-follow_detail",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/finance/wallets",dom:".finance_wallets",attr:"data-id",formated:"$(name)",link:"/finance/$(type)/wallets/$(_id)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/finance/transaction-type",dom:".finance-transaction-type",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/finance/vouchers-category",dom:".finance_vouchers_category",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/finance/vouchers",dom:".finance_vouchers",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/inventory/stores",dom:".em-stores",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/inventory/supplier",dom:".em-supplier",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/inventory/category",dom:".em-category",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/inventory/product_brand",dom:".em-inventory-brand",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/inventory/products_shipment",dom:".em-shipment",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/inventory/products",dom:".em-products",attr:"data-id",formated:"$(name)",link:"/inventory/product/$(_id)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/inventory/order_group",dom:".em-order_group",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/support/flow",dom:".em-flow",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/notification/template",dom:".em-notification-template",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/call-center/ticket-topics",dom:".em-ticket-topic",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/call-center/ticket-proccess",dom:".em-ticket-proccess",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/call-center/ticket",dom:".em-ticket",attr:"data-id",formated:"$(name)",fk:"_id",link:"/call-center/ticket/$(_id)",version:2},{url:window.API_SERVICE_URL_V2+"/core/services",dom:".em-core-service",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/core/workflows",dom:".em-core-workflow",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/core/events",dom:".em-core-event",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/core/listeners",dom:".em-core-listener",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/task/projects",dom:".em-project",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/task/category",dom:".em-task-category",attr:"data-id",formated:"$(name)",fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/payroll/system-variable",dom:".em-payroll-variable",attr:"data-id",formated:"$(name)",query:["_id","status"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/payroll/payroll-template",dom:".em-payroll-template",attr:"data-id",formated:"$(name)",query:["_id","status"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/payroll/cycle",dom:".em-payroll-cycle",attr:"data-id",formated:"$(name)",query:["_id","status_payroll","is_lock","is_pay","payroll_template_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/allocation-type",dom:".em-allocation-type",attr:"data-id",formated:"$(name)",query:["_id","is_template"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/asset-allocation-template",dom:".em-allocation-template",attr:"data-id",formated:"$(name)",query:["_id","status"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/asset-units",dom:".em-asset-unit",attr:"data-id",formated:"$(name)",query:["_id","status"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/asset-attributes",dom:".em-asset-attribute",attr:"data-id",formated:"$(name)",query:["_id","status"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/asset-categories",dom:".em-asset-category",attr:"data-id",formated:"$(name)",query:["_id","status"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/assets",dom:".em-asset",attr:"data-id",formated:"$(title) - $(code)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/asset_attribute_group",dom:".em-asset_attribute_group",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/asset_setting_key",dom:".em-asset_setting_key",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/asset-allocation",dom:".em-asset_allocation",attr:"data-id",formated:"$(title) - $(code)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/asset-allocation-detail",dom:".em-asset_allocation_detail",attr:"data-id",formated:"$(title)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/suppliers",dom:".em-suppliers",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/allocation-reason",dom:".em-allocation_reason",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/sub-asset",dom:".em-sub_asset",attr:"data-id",formated:"$(code)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/asset/entity-asset",dom:".em-entity_asset",attr:"data-id",formated:"$(_id)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/openai/member-role",dom:".em-member-role",attr:"data-id",formated:"$(label)",query:["_id","code"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/internal/topic",dom:".em-internal-topic",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2},{url:window.API_SERVICE_URL_V2+"/internal/category",dom:".em-internal-category",attr:"data-id",formated:"$(name)",query:["_id"],fk:"_id",version:2}];const n=1,r="ERPDBV6",o=["em-profile","em-class","em-branch","em-department","em-brand","em-course","em-sys-city","em-position","em-job-title","em-crm-campaigns","crm-contact","em-sys-district"],a=2592e5;let s=null;function l(){return new Promise(((e,t)=>{if(s)return void e(s);const i=indexedDB.open(r,n);i.onupgradeneeded=function(e){const t=e.target.result;o.forEach((e=>{t.objectStoreNames.contains(e)||t.createObjectStore(e,{keyPath:"_id",autoIncrement:!0})}))},i.onsuccess=function(t){s=t.target.result,e(s)},i.onerror=function(e){t(`IndexedDB error: ${e.target.errorCode}`)}}))}function u(e,t){return new Promise(((n,i)=>{if(!s)return i("Database is not initialized");const r=s.transaction([e],"readonly").objectStore(e);var o=Number(t);(isNaN(o)||o<=0)&&(o=0);const a=r.get(o);a.onsuccess=e=>{n(a.result?a.result:null)},a.onerror=e=>{i("Error querying IndexedDB")}}))}function c(e,t,n){return e=String(e).replace(/\./g,""),new Promise(((i,r)=>{if(!s)return r("Database is not initialized");const o=s.transaction([e],"readwrite").objectStore(e).put({_id:t,...n});o.onsuccess=()=>{i()},o.onerror=e=>{r(`Error saving to IndexedDB: ${e.target.errorCode}`)}}))}async function d(e,t,n){const i=String(t.dom).replace(/\./g,"");await l();const r=[],o={};for(const t of e){const e=await u(i,t);e?o[t]=e:r.push(t)}o&&Object.keys(o).length>0&&await f(n,o,t),r&&r.length>0&&async function(e,t,n){const i=t;if(1===i.length&&0==i[0])return!1;let r={};2===e.version?r[e.fk]=i:r[e.fk]={inq:i};let o=e.url;e.url_arg&&$.each(e.url_arg,(function(e,t){o=o.replace("{"+e+"}",r[t]),delete r[t]}));let a={};$.isEmptyObject(r)||(a=2==e.version?{filter:r,limit:1e3}:{filter:JSON.stringify({where:r,limit:500})});try{const t=await function(e,t,n){return new Promise(((n,i)=>{$.ajax({url:e,type:"GET",dataType:"json",data:t,contentType:"application/x-www-form-urlencoded; charset=UTF-8",headers:{Authorization:"Bearer "+getCookie("imap_authen_access_token")},success:function(e){n(e)},error:function(e){i(e)}})}))}(o,a);if(t.error)return!1;const i={};for(const r of t){const t=r[e.fk];i[t]=r;let o={};if(e.indexdFormat){const t=e.indexdFormat;o=Object.fromEntries(Object.entries(r).filter((([e])=>t.includes(e))))}else o={...r},delete o._id;i&&Object.keys(i).length>0&&await f(n,i,e),await c(e.dom,t,o)}}catch(e){console.log("Error in AJAX request:",e)}}(t,r,n)}function f(e,t,n){e.each((function(){if("SELECT"==$(this).prop("tagName")){const e=$(this),i=$(this).attr("data-format")||n.formated;e.find("option").each((function(){const n=$(this).val();if(t[n]){const r=formatReplace(i,t[n]);$(this).text(r),setTimeout((()=>{e.trigger("change_select2")}),1e3)}})),e.trigger("change")}else{const e=$(this).attr(n.attr);if(t[e]){const i=$(this).attr("data-format")||n.formated;n.link?$(this).html(`<a href="${formatReplace(n.link,t[e])}" class="load_not_ajax" target="_blank">\n                                ${formatReplace(i,t[e])}\n                            </a>`):$(this).text(formatReplace(i,t[e]))}}}))}function h(){const e=Date.now()+a;localStorage.setItem("clearDataIndexDBScheduled",e.toString())}function p(){const e=localStorage.getItem("clearDataIndexDBScheduled");if(e){Date.now()>=parseInt(e,10)&&new Promise((async(e,t)=>{try{const n=(await l()).transaction(o,"readwrite");o.forEach((e=>{const t=n.objectStore(e).clear();t.onsuccess=()=>{console.log(`Cleared ${e}`)},t.onerror=t=>{console.log(`Error clearing ${e}: ${t.target.errorCode}`)}})),n.oncomplete=()=>{h(),e()},n.onerror=e=>{t(`Error clearing object stores: ${e.target.errorCode}`)}}catch(e){t(`Error in clearAllObjectStores: ${e}`)}})).catch((e=>console.log(`Error in scheduled clear: ${e}`)))}else h()}var m=function(t,n={}){var i=n.module||t.attr("data-module"),r=n.show||t.attr("data-show");if(!i)return!1;var o=e[i];if(void 0===e||!o)return console.log("Suggest data"+i+" not found"),!1;var a=o.url||"";if(!a)return console.log("Thieu config cho suggest"),!1;var s={};void 0!==n.query?$.each(n.query,(function(e,t){void 0!==o["url_to_"+e]?a=formatReplace(o["url_to_"+e],{[e]:t}):2==o.version?s[e]=t:s[e]="object"==typeof t?{inq:t}:{eq:t}})):void 0!==o.query&&$.each(o.query,(function(e,n){var i=n;"_id"==n&&(i="id");var r=t.attr("data-query-"+i);r&&(void 0!==o["url_to_"+n]?a=formatReplace(o["url_to_"+n],{[n]:r}):2==o.version?(r.indexOf(",")>0&&(r=r.split(",")),s[n]=r):r.indexOf(",")>0?(r=r.split(","),s[n]={inq:r}):s[n]={eq:r})}));var l=o.search_param||"",u=void 0!==r&&"all"==r||!l?0:2,c=l?50:500,d=[];t.select2({minimumInputLength:u,allowClear:!0,closeOnSelect:!0===t.data("close-on-select"),cache:!0,placeholder:t.attr("placeholder")||"Select an option",ajax:{url:a,dataType:"json",delay:300,cache:!0,data:function(e){var t={};if(u>0)if("keyword"==l)var n={keyword:e.term};else t=2==o.version?{[l]:{like:e.term}}:{[l]:{like:"%"+e.term+"%"}};$.extend(t,s);var i=e.page>1?(e.page-1)*c:0;if(2==o.version)var r={filter:t,limit:c,offset:i};else r={filter:JSON.stringify({where:t,limit:c,offset:i})};return void 0!==n&&$.extend(r,n),r},headers:{Authorization:"Bearer "+getCookie("imap_authen_access_token")},processResults:function(e,n){if(e.error)return!1;var i=stringToSlug($.trim(n.term).toLowerCase()),r=o.formated,a=t.attr("data-format")?t.attr("data-format"):r,s=t.attr("data-format-val")?t.attr("data-format-val"):"$("+o.id+")",u=o.html||"",d=[];return $.each(e,(function(e,t){if(t){var r=formatReplace(a,t),o=formatReplace(s,t),c=u?formatReplace(u,t):r;n.term&&!l?stringToSlug(r.toLowerCase()).indexOf(i)>-1&&d.push({id:o,text:r,html:c}):d.push({id:o,text:r,html:c})}})),{results:d,pagination:{more:d.length==c}}},transport:function(e,t,n){var i=e.url+"?"+$.param(e.data);if(void 0===d[i]){var r=$.ajax(e);r.then((function(e){d[i]=e,t(d[i])})),r.fail(n)}else t(d[i])}},...n.multiple&&{multiple:!0},templateResult:function(e){return $($.parseHTML(e.html))}})};return $.fn.loadSuggestData=function(e){$(this[0]);return m($(this),e),this},{init:function(e){!function(e){$.each(t,(function(t,n){var r=e.find(n.dom);if(!r.length)return!0;var o=[];if(r.each((function(){var e=$(this);if("SELECT"==e.prop("tagName"))e.find("option").each((function(){var e=$(this).val();e&&-1==$.inArray(e,o)&&o.push(e)}));else{var t=e.attr(n.attr);t&&-1==$.inArray(t,o)&&o.push(t)}})),o.length){var a=1;for((o=o.filter(unique)).length>200&&(a=Math.ceil(o.length/200)),i=1;i<=a;i++){var s={},l=o.slice(200*(i-1),200*i);if(2==n.version?s[n.fk]=l:s[n.fk]={inq:l},n.indexedDB&&"yes"==n.indexedDB)s._id&&s._id.length>0&&d(s._id,n,r);else{var u=n.url;n.url_arg&&$.each(n.url_arg,(function(e,t){u=u.replace("{"+e+"}",s[t]),delete s[t]}));var c={};$.isEmptyObject(s)||(c=2==n.version?{filter:s,limit:1e3}:{filter:JSON.stringify({where:s,limit:500})}),$.ajax({url:u,type:"GET",dataType:"json",data:c,contentType:"application/x-www-form-urlencoded; charset=UTF-8",headers:{Authorization:"Bearer "+getCookie("imap_authen_access_token")},success:function(e){if(e.error)return!1;var t=n.formated,i=n.link,o={};objLink={},$.each(e,(function(e,t){o[t[n.fk]]=t})),r.each((function(){if("SELECT"==$(this).prop("tagName")){var e=$(this),r=$(this).attr("data-format")?$(this).attr("data-format"):t;e.find("option").each((function(t,n){var i=$(this).val();if(o[i]){var a=formatReplace(r,o[i]);$(this).text(a),setTimeout((function(){e.trigger("change_select2")}),1e3)}})),e.trigger("change")}else{var a=$(this).attr(n.attr);o[a]&&(r=$(this).attr("data-format")?$(this).attr("data-format"):t,i?$(this).html('<a href="'+formatReplace(i,o[a])+'" class="load_not_ajax" target="_blank">'+formatReplace(r,o[a])+"</a>"):$(this).text(formatReplace(r,o[a])))}}))},error:function(){}})}}}}))}(e),function(e){e.find(".select2_suggest").each((function(){var e=$(this);m(e),$(this).bind("change_select2",(function(t){var n=$(this).select2("data")[0]._resultId.split("-result-");$("#"+n[0]+"-container").html($("#"+n[0]+"-container").find("span").prop("outerHTML")+e.find("option:selected").text())}))}))}(e),function(){const e=n,t=indexedDB.open(r,e);t.onupgradeneeded=function(e){const t=e.target.result;let n=!1;o.forEach((e=>{e=String(e).replace(/\./g,""),t.objectStoreNames.contains(e)||(t.createObjectStore(e,{keyPath:"_id",autoIncrement:!0}),n=!0)})),n&&h()},t.onsuccess=function(e){s=e.target.result},t.onerror=function(e){console.log("Lỗi cơ sở dữ liệu: "+e.target.errorCode)}}(),p()},getDataFromIndexedDB:u}}();$(document).on("DOMContentLoaded MainContentReloaded",(function(e){AutoloadDataService.init($(e.target))}));var DateTimePickers={init:function(){$().pickadate?(new Date,(new Date).getFullYear(),$(".datepicker").each((function(){var e=!0===$(this).data("edit");$(this).pickadate({format:"dd/mm/yyyy",formatSubmit:"yyyy-mm-dd",selectYears:100,selectMonths:!0,hiddenName:!0,editable:e,onSet:function(e){e.select&&this.$node.trigger("blur")}})})),$(".datepicker").on("blur",(function(){var e=$(this).val();if(""!==e.trim())if(/^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[012])\/\d{4}$/.test(e)){var t=e.split("/"),n=t[2]+"-"+t[1]+"-"+t[0];$(this).siblings("input[type=hidden]").val(n)}else alert("Ngày nhập không đúng định dạng dd/mm/yyyy!"),$(this).siblings("input[type=hidden]").val(""),$(this).val("")}))):console.warn("Warning - picker.js and/or picker.date.js is not loaded."),$().pickatime?$(".timepicker").pickatime({format:"HH:i",formatSubmit:"HH:i:00",interval:15,editable:!0,hiddenSuffix:"",hiddenName:!0}):console.warn("Warning - picker.js and/or picker.time.js is not loaded.")}};$(document).on("DOMContentLoaded MainContentReloaded",(function(e){DateTimePickers.init()}));const Layout=function(){var e=function(e){var t=Math.random().toString(36).substring(2);html='<div id="'+t+'" class="modal right fade bd-example-modal-lg" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">                    <div class="modal-dialog">                    <div class="modal-content">                        <div class="d-flex justify-content-center" style="position: absolute; top: 45%; left: 45%;">                            <div class="spinner-grow text-primary" role="status">                                <span class="sr-only">Loading...</span>                            </div>                            <div class="spinner-grow text-secondary" role="status">                                <span class="sr-only">Loading...</span>                            </div>                            <div class="spinner-grow text-success" role="status">                                <span class="sr-only">Loading...</span>                            </div>                            <div class="spinner-grow text-danger" role="status">                                <span class="sr-only">Loading...</span>                            </div>                            <div class="spinner-grow text-warning" role="status">                                <span class="sr-only">Loading...</span>                            </div>                        </div>                        <div class="modal-body-content d-none">                        </div>                    </div>                    </div>                </div>',$("body").append(html);var n=$("#"+t);n.modal(),$.ajax({url:e,data:{view:"popup"},beforeSend:function(){},success:function(e){return n.find(".justify-content-center").remove(),n.find(".modal-body-content").html(e),n.find(".page-header").remove(),n.find(".content").removeClass("content"),n.find(".card").removeClass("card"),n.find(".card").removeClass("card"),n.find("form").attr("data-redirect-uri","popup_close"),n.find("form").attr("data-popup-id",t),n.find(".modal-body-content").removeClass("d-none"),n.on("hidden.bs.modal",(function(e){$(this).remove()})),n.trigger("MainContentReloaded",[]),!0},error:function(e,t,i){if(n.modal("hide"),e.responseText)var r=JSON.parse(e.responseText),o=r.message||r.error_description||"Vui lòng liên hệ IT để được hỗ trợ";else o="Vui lòng liên hệ IT để được xử lý";show_notify_error({message:"Lỗi "+e.status+": "+o})}})};return{initReload:function(e){!function(e){e.find(".format_price").priceFormat({prefix:"",thousandsSeparator:",",centsLimit:0,allowNegative:!0,clearOnEmpty:!1})}(e)},onload:function(){$("body").on("submit",".ajax-submit-form",(function(e){self=$(this);var t=self.serializeArray(),n={};self.find(".format_price").each((function(){var e=$(this).attr("name");if(!e)return!0;n[e]=$(this).unmask()})),Object.keys(n).length>0&&$.each(t,(function(e,i){i.name in n&&(t[e].value=n[i.name])})),self.find(".ajax-submit-button").attr("disabled","true").addClass("disabled"),$.ajax({type:self.attr("method"),url:self.attr("action"),crossDomain:!0,method:self.attr("method"),data:t,dataType:"json",beforeSend:function(e){progress_loading.show(".ajax-submit-form"),$.each(t,(function(t,n){console.debug(t,n.name),"authorization"==n.name&&(e.setRequestHeader("Authorization","Bearer "+n.value),delete this.data[t])}))},success:function(e){if(progress_loading.hide(),e.error&&(e.status="error",e.message=e.error_description),"error"==e.status){if("object"==typeof e.message){var n="";$.each(e.message,(function(e,t){n+=t+"<br>"}))}else n=e.message;return new PNotify({title:"Error",text:n,type:"error",styling:"bootstrap3",delay:2e3,mouse_reset:!1}),self.find(".ajax-submit-button").removeAttr("disabled").removeClass("disabled"),!1}if(new PNotify({title:"Success",text:void 0!==e.message?e.message:"Dữ liệu được cập nhật thành công",type:"success",styling:"bootstrap3",delay:2e3,mouse_reset:!1}),"true"===self.attr("data-reload-page"))return window.location.reload(),!0;var i="";if(e.redirect_uri&&(i=e.redirect_uri),self.attr("data-redirect-uri")&&(i=self.attr("data-redirect-uri")),self.attr("data-trigger")){var r={};$.each(t,(function(e,t){r[t.name]=t.value})),$(document).trigger(self.attr("data-trigger"),Object.assign(r,e))}var o=self.attr("data-popup-id");if(self.attr("data-callback")){let t,n=self.attr("data-callback");if(n.includes(".")){let e=n.split(".");t=window;for(let n=0;n<e.length&&(t=t[e[n]],"function"!=typeof t);n++);}else t=window[n];"function"==typeof t?t(e):console.warn("Callback function not found or is not a function:",n)}if(self.attr("data-not-refesh")&&"true"==self.attr("data-not-refesh"))return $("#"+o).modal("hide").data("bs.modal",null),!0;if(self.attr("data-redirect-load-modal")&&"true"==self.attr("data-redirect-load-modal")){let t=e.redirect_uri||"";return $.ajax({url:t,data:{view:"popup"},dataType:"html",beforeSend:function(e){progress_loading.show(".content-inner")},success:function(e,t,n){progress_loading.hide(),$("#"+o).find(".modal-body-content").html(e),$("#"+o).trigger("MainContentReloaded",[])},error:function(e,t,n){if(e.responseText)var i=JSON.parse(e.responseText),r=i.message||i.error_description||"Vui lòng liên hệ IT để được hỗ trợ";else r="Vui lòng liên hệ IT để được xử lý";show_notify_error({message:"Lỗi "+e.status+": "+r}),progress_loading.hide()}}).done((function(){})),redirectAjaxUrl(window.location.href),!0}return"popup_close"==i?($("#"+o).modal("hide").data("bs.modal",null),redirectAjaxUrl(window.location.href),!0):(redirectAjaxUrl(i),!0)},error:function(e){console.debug(e),self.find(".ajax-submit-button").removeAttr("disabled").removeClass("disabled"),progress_loading.hide(),show_notify_error(e.responseText)}}).done((function(){$(this).closest("form").find("input[type=text], textarea").val("")})),e.preventDefault()})),$("body").on("click",".quick-action-confirm",(function(){var e=$(this).attr("action"),t=$(this).attr("method")||"POST",n=$(this).attr("content")||"Bạn có chắc muốn thực hiện thao tác không ?";if(!e)return show_notify_error("Lỗi mã code. Liên hệ với IT để được hỗ trợ"),!1;new PNotify({title:"Xác nhận thông tin",text:"<p>"+n+"</p>",hide:!1,type:"warning",confirm:{confirm:!0,buttons:[{text:"Đồng ý",addClass:"btn btn-sm btn-primary"},{addClass:"btn btn-sm btn-link"}]},buttons:{closer:!1,sticker:!1}}).get().on("pnotify.confirm",(function(){$.ajax({type:t,url:e,dataType:"json",success:function(e){if(e.error||"error"==e.status)return show_notify_error(e),!1;new PNotify({title:"Success",text:void 0!==e.message?e.message:"Đã cập nhật thông tin thành công",type:"success",styling:"bootstrap3",delay:2e3,mouse_reset:!1}),redirectAjaxUrl(window.location.href)},error:function(e){show_notify_error(e.responseText)}})}))})),$("body").on("click",".quick-action-confirm-loading",(function(){var e=$(this).attr("action"),t=$(this).attr("method")||"POST",n=$(this).attr("content")||"Bạn có chắc muốn thực hiện thao tác không ?";if(!e)return show_notify_error("Lỗi mã code. Liên hệ với IT để được hỗ trợ"),!1;new PNotify({title:"Xác nhận thông tin",text:"<p>"+n+"</p>",hide:!1,type:"warning",confirm:{confirm:!0,buttons:[{text:"Đồng ý",addClass:"btn btn-sm btn-primary"},{addClass:"btn btn-sm btn-link"}]},buttons:{closer:!1,sticker:!1}}).get().on("pnotify.confirm",(function(){$.ajax({type:t,url:e,dataType:"json",beforeSend:function(){progress_loading.show()},success:function(e){if(progress_loading.hide(),e.error||"error"==e.status)return show_notify_error(e),!1;new PNotify({title:"Success",text:void 0!==e.message?e.message:"Đã cập nhật thông tin thành công",type:"success",styling:"bootstrap3",delay:2e3,mouse_reset:!1}),redirectAjaxUrl(window.location.href)},error:function(e){progress_loading.hide(),show_notify_error(e.responseText)}})}))})),$("body").on("click",".quick-action-not-confirm",(function(){var e=$(this).attr("action"),t=$(this).attr("method")||"POST",n=$(this).attr("callback")||"";$.ajax({type:t,url:e,dataType:"json",success:function(e){return e.error||"error"==e.status?(show_notify_error(e),!1):(new PNotify({title:"Success",text:"Đã cập nhật thông tin thành công",type:"success",styling:"bootstrap3",delay:2e3,mouse_reset:!1}),n?window[functionName](e):void redirectAjaxUrl(window.location.href))},error:function(e){show_notify_error(e.responseText)}})})),$("body").on("click","a",(function(e){var t=$(this).attr("href");if($(this).hasClass("load_not_ajax")||$(this).hasClass("call_ajax_modal")||!t||"#"==t||void 0!==$(this).data("toggle"))return!0;$.ajax({url:t,headers:{view:"ajax"},beforeSend:function(){progress_loading.show()},success:function(e){history.pushState({},"",t),$(".content-wrapper").remove(),$(".sidebar-secondary").remove(),$(".sidebar-right").remove(),$(".page-content").append(e),$(".sidebar-mobile-expanded").removeClass("sidebar-mobile-expanded"),progress_loading.hide(),$(".page-content").trigger("MainContentReloaded",[])},error:function(e,t,n){if(e.responseText)var i=JSON.parse(e.responseText),r=i.message||i.error_description||"Vui lòng liên hệ IT để được hỗ trợ";else r="Vui lòng liên hệ IT để được xử lý";show_notify_error({message:"Lỗi "+e.status+" : "+r}),progress_loading.hide()}}),e.preventDefault()})),$("body").on("submit",".ajax-filter-form",(function(e){self=$(this);var t=self.serializeArray();self.find(".ajax-submit-button").attr("disabled","true").addClass("disabled"),$.ajax({type:self.attr("method"),url:self.attr("action"),method:self.attr("method"),headers:{view:"popup"},data:t,dataType:"html",beforeSend:function(e){var n=this;progress_loading.show(".content-inner"),$.each(t,(function(t,i){"authorization"==i.name&&(e.setRequestHeader("Authorization","Bearer "+i.value),delete n.data[t])}))},success:function(e,t,n){progress_loading.hide(),$(".content-inner").html(e),history.pushState({},"",this.url),$(".sidebar-mobile-expanded").removeClass("sidebar-mobile-expanded"),$(".content-inner").trigger("MainContentReloaded",[])},error:function(e,t,n){if(e.responseText)var i=JSON.parse(e.responseText),r=i.message||i.error_description||"Vui lòng liên hệ IT để được hỗ trợ";else r="Vui lòng liên hệ IT để được xử lý";show_notify_error({message:"Lỗi "+e.status+": "+r}),history.pushState({},"",this.url),progress_loading.hide()}}).done((function(){})),e.preventDefault()})),$("body").on("click",".report_ajax_modal",(function(e){var t=$(this),n=t.attr("action")||window.location.href,i=t.attr("data-page-action")||"export";t.hide();var r=new PNotify({title:"Xác nhận xuất dữ liệu",text:"<p>Bạn có chắc muốn tải dữ liệu về không ?</p>",hide:!1,type:"warning",confirm:{confirm:!0,buttons:[{text:"Yes",addClass:"btn btn-sm btn-primary"},{addClass:"btn btn-sm btn-link"}]},buttons:{closer:!1,sticker:!1}});r.get().on("pnotify.confirm",(function(){$.ajax({url:n,headers:{"page-action":i},dataType:"json",beforeSend:function(e){progress_loading.show()},success:function(e,n,i){if(progress_loading.hide(),t.show(),e.error||"error"==e.status)return show_notify_error({message:e.message}),!1;new PNotify({title:"Success",text:"Hệ thống đã đưa vào danh sách export, sẽ có notification từ app khi xong",type:"success",styling:"bootstrap3",delay:2e3,mouse_reset:!1})},error:function(e,n,i){if(t.show(),e.responseText)var r=JSON.parse(e.responseText),o=r.message||r.error_description||"Vui lòng liên hệ IT để được hỗ trợ";else o="Vui lòng liên hệ IT để được xử lý";show_notify_error({message:"Lỗi "+e.status+": "+o}),progress_loading.hide()}}).done((function(){}))})),r.get().on("pnotify.cancel",(function(){t.show()}))})),$("body").on("click",".call_ajax_modal",(function(t){if(t.preventDefault(),!(n=$(this).attr("data-url")))var n=$(this).attr("href");e(n)}))},ajaxModal:function(t){e(t)}}}();$(document).on("DOMContentLoaded MainContentReloaded",(function(e){Layout.initReload($(e.target))})),window.addEventListener("load",(function(){Layout.onload()})),$(document).on("pricechange",".format_price",(function(e){$(e.target).priceFormat({prefix:"",thousandsSeparator:",",clearOnEmpty:!1,centsLimit:0,allowNegative:!0})}));var Select2Selects={init:function(){!function(){function e(e,t){return 0==t.toUpperCase().indexOf(e.toUpperCase())}$().select2?($.fn.select2.amd.require(["select2/compat/matcher"],(function(t){$(".select-matched-customize").select2({minimumResultsForSearch:1/0,placeholder:"Select a State",matcher:t(e)})})),$(".select2_single").select2({minimumResultsForSearch:1/0})):console.warn("Warning - select2.min.js is not loaded.")}()}};$(document).on("DOMContentLoaded MainContentReloaded",(function(){Select2Selects.init()}));var BootstrapMultiselect={init:function(e){!function(e){$().multiselect?(e.find(".multiselect").multiselect({enableFiltering:!0,includeSelectAllOption:!0,enableCaseInsensitiveFiltering:!0}),e.find(".multiselect-basic").multiselect()):console.warn("Warning - bootstrap-multiselect.js is not loaded.")}(e)}};$(document).on("DOMContentLoaded MainContentReloaded",(function(e){BootstrapMultiselect.init($(e.target))}));var FileUpload={init:function(e){var t;t=e,FilePond.registerPlugin(FilePondPluginImagePreview),FilePond.registerPlugin(FilePondPluginMediaPreview),t.find('input[type="file"]').each((function(){var e=$(this),t=e.attr("data-field"),n=e.attr("data-channel");if(!n)return!1;var i,r=[],o=e.attr("data-type")||"image",a=e.attr("multiple")?1:0,s=e.parent(),l=s.find('input[name="'+t+'"'),u=e.attr("data-callback");l&&(0==a?(i=l.val())&&r.push({source:i,options:{type:"local"}}):(i=l.map((function(){return $(this).val()})).get()).length>0&&$.each(i,(function(e,t){r.push({source:t,options:{type:"local"}})}))),e.filepond({files:r,maxParallelUploads:10,checkValidity:!0,forceRevert:!0,server:{url:"",timeout:7e3,process:{url:window.SERVICE_UPLOAD_URL+"/",method:"POST",headers:{Authorization:"Bearer "+getCookie("imap_authen_access_token"),channel:n,type:o},withCredentials:!1,onload:n=>{let i=n;if(!(n=JSON.parse(n)).error)return r=e.filepond("getFiles"),console.log(t,s,r),a||l.remove(),s.append('<input type="hidden" name="'+t+'" value="'+n.path+'">'),u&&"function"==typeof window[u]?window[u](i):n.path;alert(n.message),pond.removeFile()},onerror:e=>{alert("Lỗi Upload: "+e)}},revert:null,restore:null,load:window.SERVICE_MEDIA_URL+"/",fetch:null},onremovefile:(n,i)=>{r=e.filepond("getFiles"),s.find('input[name="'+t+'"').remove(),$.each(r,(function(e,n){s.append('<input type="hidden" name="'+t+'" value="'+n.serverId+'">')}))}})}))}};$(document).on("DOMContentLoaded MainContentReloaded",(function(e){FileUpload.init($(e.target))}));const App=function(){const e=function(){const e=$(".sidebar-secondary"),t=$(".sidebar:not(.sidebar-secondary):not(.sidebar-component)"),n=$(".sidebar-secondary-toggle"),i=$(".sidebar-mobile-secondary-toggle"),r="sidebar-mobile-expanded";n.off("click").on("click",(function(t){t.preventDefault(),e.toggleClass("sidebar-collapsed")})),i.on("click",(function(n){n.preventDefault(),e.toggleClass(r),t.removeClass(r)}))},t=function(){const e=$(".sidebar-right"),t=$(".sidebar:not(.sidebar-right):not(.sidebar-component)"),n=$(".sidebar-right-toggle"),i=$(".sidebar-mobile-right-toggle"),r="sidebar-mobile-expanded";n.on("click",(function(t){t.preventDefault(),e.toggleClass("sidebar-collapsed")})),i.on("click",(function(n){n.preventDefault(),e.toggleClass(r),t.removeClass(r)}))},n=function(){const e=$('.ripple-light, .ripple-dark, .sp-replacer, .list-group-item-action, button[class*="trumbowyg-"], .btn:not(.disabled):not(.file-drag-handle):not(.multiselect):not(.btn-sidebar-expand):not(.btn-file), .nav-link:not(.disabled), .navbar-nav-link:not(.disabled), .sidebar-user-material-footer > a, .wizard > .actions a, .ui-button:not(.ui-dialog-titlebar-close):not(.ui-selectmenu-button), .ui-controlgroup .ui-selectmenu-button, .ui-tabs-anchor:not(.ui-state-disabled), .plupload_button:not(.plupload_disabled), .fc-button, .page-item:not(.disabled) > .page-link');e.on("mousedown",(function(t){if(!e)return;const n=$(t.currentTarget),i=n.find(".ripple-effect"),r=t.currentTarget.getBoundingClientRect().left,o=t.currentTarget.getBoundingClientRect().top;let a=t.currentTarget.getBoundingClientRect().width,s=t.currentTarget.getBoundingClientRect().height;i&&i.remove(),n.addClass("ripple-container"),n.hasClass("dropdown-toggle")&&n.is(":empty")&&n.addClass("ripple-only-child"),n.append('<span class="ripple-effect ripple-animation"></span>'),a>=s?s=a:a=s;const l=t.clientX-r-a/2,u=t.clientY-o-s/2;n.find(".ripple-effect").css({width:a,height:s,left:l,top:u}),n.on("animationend animationcancel",(function(){n.removeClass("ripple-container ripple-only-child"),n.find(".ripple-effect").remove()}))}))};return{initBeforeLoad:function(){!function(){const e=window.navigator.platform;-1!=["Win32","Win64","Windows","WinCE"].indexOf(e)&&$("body").addClass("custom-scrollbars")}()},initAfterLoad:function(){},initComponents:function(){n(),$('[data-popup="tooltip"]').tooltip({boundary:".page-content"}),function(){const e=$(".content-wrapper"),t=$(".content-inner");if(t){e.append($('<div class="btn-to-top"><button type="button" class="btn btn-dark btn-icon rounded-pill"><i class="icon-arrow-up8"></i></button></div>'));const n=$(".btn-to-top"),i=function(){n.addClass("btn-to-top-visible")},r=function(){n.removeClass("btn-to-top-visible")};t.on("scroll",(function(){t.scrollTop()>=250?i():r()})),$(".btn-to-top .btn").on("click",(function(){t.scrollTop(0)}))}}(),$(".header-elements-toggle").on("click",(function(e){e.preventDefault(),$(this).parents("[class*=header-elements-]:not(.header-elements-toggle)").find(".header-elements").toggleClass("d-none")})),$(".footer-elements-toggle").on("click",(function(e){e.preventDefault(),$(this).parents(".card-footer").find(".footer-elements").toggleClass("d-none")}))},initSidebars:function(){!function(){const e=$(".sidebar-main"),t=$(".sidebar-main-resize"),n="sidebar-main-resized",i="sidebar-main-unfold";let r,o;t.on("click",(function(t){e.toggleClass(n),!e.hasClass(n)&&e.removeClass(i)})),e.on("mouseenter",(function(){clearTimeout(o),r=setTimeout((function(){e.hasClass(n)&&e.addClass(i)}),150)})),e.on("mouseleave",(function(){clearTimeout(r),o=setTimeout((function(){e.removeClass(i)}),150)}))}(),function(){const e=$(".sidebar-main"),t=$(".sidebar:not(.sidebar-main):not(.sidebar-component)"),n=$(".sidebar-main-toggle"),i=$(".sidebar-mobile-main-toggle"),r="sidebar-mobile-expanded";n.on("click",(function(t){t.preventDefault(),e.toggleClass("sidebar-collapsed")})),i.on("click",(function(n){n.preventDefault(),e.toggleClass(r),t.removeClass(r)}))}(),e(),t(),function(){const e=$(".sidebar-component");$(".sidebar-mobile-component-toggle").on("click",(function(t){t.preventDefault(),e.toggleClass("sidebar-mobile-expanded")}))}()},initNavigations:function(e){!function(e){var t="nav-sidebar",n="nav-item",i="nav-item-open",r="nav-group-sub";e.find("."+t+":not(.nav-scrollspy)").each((function(){$(this).find("."+n).has("."+r).children("."+n+" > .nav-link").not(".disabled").on("click",(function(e){e.preventDefault();var o=$(this);o.parent("."+n).hasClass(i)?o.parent("."+n).removeClass(i).children("."+r).slideUp(250):o.parent("."+n).addClass(i).children("."+r).slideDown(250),"accordion"==o.parents("."+t).data("nav-type")&&o.parent("."+n).siblings(":has(."+r+")").removeClass(i).children("."+r).slideUp(250)}))})),$(document).on("click","."+t+" .disabled",(function(e){e.preventDefault()}))}(e),function(e){$(document).on("click",".dropdown-content",(function(e){e.stopPropagation()})),$(".navbar-nav .disabled a, .nav-item-levels .disabled").on("click",(function(e){e.preventDefault(),e.stopPropagation()})),e.find('.dropdown-content a[data-toggle="tab"]').on("click",(function(){$(this).tab("show")}))}(e)},initCardActions:function(){!function(){const e=$("[data-action=reload]"),t="card-overlay";e.on("click",(function(e){e.preventDefault(),$(this).parents(".card").append($('<div class="'+t+'"><i class="icon-spinner9 spinner text-body"></i></div>')),setTimeout((function(){$("."+t).addClass("card-overlay-fadeout").on("animationend animationcancel",(function(){$(this).remove()}))}),2500)}))}(),function(){const e=$("[data-action=collapse]"),t="card-collapsed";e.on("click",(function(e){e.preventDefault();const n=$(this).parents(".card"),i=n.find("> .collapse");n.hasClass(t)?(n.removeClass(t),i.collapse("show")):(n.addClass(t),i.collapse("hide"))}))}(),$("[data-action=remove]").on("click",(function(e){e.preventDefault(),$(this).parents(".card").slideUp(150)})),function(){const e="[data-action=fullscreen]",t="list-icons-item",n="list-icons",i="card-fullscreen",r="collapsed-in-fullscreen",o="content-inner",a="data-fullscreen";$(e).on("click",(function(s){s.preventDefault();const l=$(this),u=l.parents(".card");u.toggleClass(i),u.hasClass(i)?(l.attr(a,"active"),u.removeAttr("style"),u.find(".collapse:not(.show)").addClass("show "+r),$("."+o).addClass("overflow-hidden"),l.parents("."+n).find("."+t+":not("+e+")").addClass("d-none")):(l.removeAttr(a),u.find("."+r).removeClass("show"),$("."+o).removeClass("overflow-hidden"),l.parents("."+n).find("."+t+":not("+e+")").removeClass("d-none"))}))}()},initDropdowns:function(){$.fn.dropdown.Constructor.Default.boundary=".page-content",$(".dropdown-menu").find(".dropdown-submenu").not(".disabled").find(".dropdown-toggle").on("click",(function(e){e.stopPropagation(),e.preventDefault();const t=$(this);t.parent().siblings().removeClass("show").find(".show").removeClass("show"),t.parent().toggleClass("show").children(".dropdown-menu").toggleClass("show"),t.parents(".show").on("hidden.bs.dropdown",(function(e){$(".dropdown-submenu .show, .dropdown-submenu.show").removeClass("show")}))}))},initCore:function(e){App.initBeforeLoad(),App.initSidebars(),App.initNavigations(e),App.initComponents(),App.initCardActions(),App.initDropdowns()},initReload:function(){e(),t()}}}();function popup_modal(e,t){var n=Math.random().toString(36).substring(2);html='<div id="'+n+'" class="modal fade bd-example-modal-lg" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">              <div class="modal-dialog modal-xl" style="width: 80%;">                <div class="modal-content">                    <div class="modal-body"></div>                </div>              </div>            </div>',$("body").append(html),$.ajax({url:e,data:{view:"popup"},success:function(e){return $("#"+n).find(".modal-body").html(e),$("#"+n).find(".x_title").remove(),$("#"+n).find("form").attr("data-redirect-uri","popup_close"),$("#"+n).find("form").attr("data-popup-id",n),$("#"+n).modal(),$("#"+n).on("hidden.bs.modal",(function(e){$(this).remove()})),$("#"+n).on("shown.bs.modal",(function(e){AutoloadDataService.init($("#"+n)),$("#"+n).find(".format_price")&&AutoNumeric.multiple('[id="'+n+'"] .format_price',{decimalPlaces:0,unformatOnSubmit:!0,watchExternalChanges:!0,wheelStep:1e3,decimalPlacesRawValue:0})})),!0},error:function(e){show_notify_error(e.responseText)}})}function loadTinyMce(e){var t=$("."+e);tinymce.init({selector:"textarea."+e,readonly:window.tinymce_readonly?1:0,plugins:"print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap emoticons filery textcolor colorpicker",toolbar:"undo redo | formatselect | styleselect | bold italic | alignleft aligncenter alignright alignjustify | checklist numlist | link image  | forecolor backcolor",filery_api_url:"/test.json",convert_urls:!1,relative_urls:!1,remove_script_host:!1,color_cols:5,automatic_uploads:!0,file_picker_types:"file image media",images_upload_handler:function(e,n,i){var r,o,a;(r=new XMLHttpRequest).withCredentials=!1,r.open("POST",window.SERVICE_UPLOAD_URL),r.setRequestHeader("Authorization","Bearer "+getCookie("imap_authen_access_token")),r.setRequestHeader("channel",t.attr("data-channel")),r.setRequestHeader("type","image"),r.onload=function(){if(200!=r.status)return void i("HTTP Error: "+r.status);let e=JSON.parse(r.responseText);a=e.path,n(window.SERVICE_MEDIA_URL+a)},(o=new FormData).append("files",e.blob(),e.filename()),r.send(o)},file_picker_callback:function(e,n,i){var r,o,a,s=document.createElement("input");s.setAttribute("type","file"),s.setAttribute("class","domId"),s.onchange=function(){(r=new XMLHttpRequest).withCredentials=!1,r.open("POST",window.SERVICE_UPLOAD_URL),r.setRequestHeader("Authorization","Bearer "+getCookie("imap_authen_access_token")),r.setRequestHeader("channel",t.attr("data-channel")),r.setRequestHeader("type","file"),r.onload=function(){if(200!=r.status)return void console.log("HTTP Error: "+r.status);let t=JSON.parse(r.responseText);a=t.path,e(window.SERVICE_MEDIA_URL+a)};var n=this.files[0],i=new FileReader;i.readAsDataURL(n),i.onload=function(){var e="blobid"+(new Date).getTime(),t=tinymce.activeEditor.editorUpload.blobCache,a=i.result.split(",")[1],s=t.create(e,n,a);(o=new FormData).append("files",s.blob(),s.filename()),r.send(o)}},s.click()}})}$(document).on("DOMContentLoaded",(function(e){App.initCore($(e.target))})),$(document).on("MainContentReloaded",(function(){App.initReload()})),window.addEventListener("load",(function(){App.initAfterLoad()})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).FilePond={})}(this,(function(e){"use strict";var t=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},n=function(e){var n={};return t(e,(function(t){!function(e,t,n){"function"!=typeof n?Object.defineProperty(e,t,Object.assign({},n)):e[t]=n}(n,t,e[t])})),n},i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},r=["svg","path"],o=function(e){return r.includes(e)},a=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof n&&(r=n,n=null);var a=o(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n&&(o(e)?i(a,"class",n):a.className=n),t(r,(function(e,t){i(a,e,t)})),a},s=function(e,t){return function(e,n){return void 0!==n?t.splice(n,0,e):t.push(e),e}},l=function(e,t){return function(n){return t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n}},u="undefined"!=typeof window&&void 0!==window.document,c=function(){return u},d="children"in(c()?a("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},f=function(e,t,n,i){var r=n[0]||e.left,o=n[1]||e.top,a=r+e.width,s=o+e.height*(i[1]||1),l={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:r,top:o,right:a,bottom:s}};return t.filter((function(e){return!e.isRectIgnored()})).map((function(e){return e.rect})).forEach((function(e){h(l.inner,Object.assign({},e.inner)),h(l.outer,Object.assign({},e.outer))})),p(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,p(l.outer),l},h=function(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},p=function(e){e.width=e.right-e.left,e.height=e.bottom-e.top},m=function(e){return"number"==typeof e},g=function(e){return e<.5?2*e*e:(4-2*e)*e-1},v={spring:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,i=void 0===t?.5:t,r=e.damping,o=void 0===r?.75:r,a=e.mass,s=void 0===a?10:a,l=null,u=null,c=0,d=!1,f=n({interpolate:function(e,t){if(!d){if(!m(l)||!m(u))return d=!0,void(c=0);(function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<i&&Math.abs(n)<i})(u+=c+=-(u-l)*i/s,l,c*=o)||t?(u=l,c=0,d=!0,f.onupdate(u),f.oncomplete(u)):f.onupdate(u)}},target:{set:function(e){if(m(e)&&!m(u)&&(u=e),null===l&&(l=e,u=e),u===(l=e)||void 0===l)return d=!0,c=0,f.onupdate(u),void f.oncomplete(u);d=!1},get:function(){return l}},resting:{get:function(){return d}},onupdate:function(e){},oncomplete:function(e){}});return f},tween:function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.duration,o=void 0===r?500:r,a=i.easing,s=void 0===a?g:a,l=i.delay,u=void 0===l?0:l,c=null,d=!0,f=!1,h=null,p=n({interpolate:function(n,i){d||null===h||(null===c&&(c=n),n-c<u||((e=n-c-u)>=o||i?(e=1,t=f?0:1,p.onupdate(t*h),p.oncomplete(t*h),d=!0):(t=e/o,p.onupdate((e>=0?s(f?1-t:t):0)*h))))},target:{get:function(){return f?0:h},set:function(e){if(null===h)return h=e,p.onupdate(e),void p.oncomplete(e);e<h?(h=1,f=!0):(f=!1,h=e),d=!1,c=null}},resting:{get:function(){return d}},onupdate:function(e){},oncomplete:function(e){}});return p}},y=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach((function(t){e.forEach((function(e){var r=e,o=function(){return n[e]},a=function(t){return n[e]=t};"object"==typeof e&&(r=e.key,o=e.getter||o,a=e.setter||a),t[r]&&!i||(t[r]={get:o,set:a})}))}))},b=function(e){return null!=e},_={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},w={styles:function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewInternalAPI,r=e.viewExternalAPI,o=e.view,a=Object.assign({},n),s={};y(t,[i,r],n);var l=function(){return o.rect?f(o.rect,o.childViews,[n.translateX||0,n.translateY||0],[n.scaleX||0,n.scaleY||0]):null};return i.rect={get:l},r.rect={get:l},t.forEach((function(e){n[e]=void 0===a[e]?_[e]:a[e]})),{write:function(){if(function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1}(s,n))return function(e,t){var n=t.opacity,i=t.perspective,r=t.translateX,o=t.translateY,a=t.scaleX,s=t.scaleY,l=t.rotateX,u=t.rotateY,c=t.rotateZ,d=t.originX,f=t.originY,h=t.width,p=t.height,m="",g="";(b(d)||b(f))&&(g+="transform-origin: "+(d||0)+"px "+(f||0)+"px;"),b(i)&&(m+="perspective("+i+"px) "),(b(r)||b(o))&&(m+="translate3d("+(r||0)+"px, "+(o||0)+"px, 0) "),(b(a)||b(s))&&(m+="scale3d("+(b(a)?a:1)+", "+(b(s)?s:1)+", 1) "),b(c)&&(m+="rotateZ("+c+"rad) "),b(l)&&(m+="rotateX("+l+"rad) "),b(u)&&(m+="rotateY("+u+"rad) "),m.length&&(g+="transform:"+m+";"),b(n)&&(g+="opacity:"+n+";",0===n&&(g+="visibility:hidden;"),n<1&&(g+="pointer-events:none;")),b(p)&&(g+="height:"+p+"px;"),b(h)&&(g+="width:"+h+"px;");var v=e.elementCurrentStyle||"";g.length===v.length&&g===v||(e.style.cssText=g,e.elementCurrentStyle=g)}(o.element,n),Object.assign(s,Object.assign({},n)),!0},destroy:function(){}}},listeners:function(e){e.mixinConfig,e.viewProps,e.viewInternalAPI;var t,n=e.viewExternalAPI,i=(e.viewState,e.view),r=[],o=(t=i.element,function(e,n){t.addEventListener(e,n)}),a=function(e){return function(t,n){e.removeEventListener(t,n)}}(i.element);return n.on=function(e,t){r.push({type:e,fn:t}),o(e,t)},n.off=function(e,t){r.splice(r.findIndex((function(n){return n.type===e&&n.fn===t})),1),a(e,t)},{write:function(){return!0},destroy:function(){r.forEach((function(e){a(e.type,e.fn)}))}}},animations:function(e){var n=e.mixinConfig,i=e.viewProps,r=e.viewInternalAPI,o=e.viewExternalAPI,a=Object.assign({},i),s=[];return t(n,(function(e,t){var n=function(e,t,n){var i=e[t]&&"object"==typeof e[t][n]?e[t][n]:e[t]||e,r="string"==typeof i?i:i.type,o="object"==typeof i?Object.assign({},i):{};return v[r]?v[r](o):null}(t);n&&(n.onupdate=function(t){i[e]=t},n.target=a[e],y([{key:e,setter:function(e){n.target!==e&&(n.target=e)},getter:function(){return i[e]}}],[r,o],i,!0),s.push(n))})),{write:function(e){var t=document.hidden,n=!0;return s.forEach((function(i){i.resting||(n=!1),i.interpolate(e,t)})),n},destroy:function(){}}},apis:function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewExternalAPI;y(t,i,n)}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,i=void 0===t?"div":t,r=e.name,o=void 0===r?null:r,u=e.attributes,c=void 0===u?{}:u,h=e.read,p=void 0===h?function(){}:h,m=e.write,g=void 0===m?function(){}:m,v=e.create,y=void 0===v?function(){}:v,b=e.destroy,_=void 0===b?function(){}:b,E=e.filterFrameActionsForChild,C=void 0===E?function(e,t){return t}:E,x=e.didCreateView,T=void 0===x?function(){}:x,I=e.didWriteView,k=void 0===I?function(){}:I,O=e.ignoreRect,A=void 0!==O&&O,D=e.ignoreRectUpdate,P=void 0!==D&&D,N=e.mixins,R=void 0===N?[]:N;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=a(i,"filepond--"+o,c),h=window.getComputedStyle(u,null),m=S(),v=null,b=!1,E=[],x=[],I={},O={},D=[g],N=[p],L=[_],F=function(){return u},M=function(){return E.concat()},B=function(){return v||(v=f(m,E,[0,0],[1,1]))},V={element:{get:F},style:{get:function(){return h}},childViews:{get:M}},$=Object.assign({},V,{rect:{get:B},ref:{get:function(){return I}},is:function(e){return o===e},appendChild:(t=u,function(e,n){void 0!==n&&t.children[n]?t.insertBefore(e,t.children[n]):t.appendChild(e)}),createChildView:function(e){return function(t,n){return t(e,n)}}(e),linkView:function(e){return E.push(e),e},unlinkView:function(e){E.splice(E.indexOf(e),1)},appendChildView:s(0,E),removeChildView:l(u,E),registerWriter:function(e){return D.push(e)},registerReader:function(e){return N.push(e)},registerDestroyer:function(e){return L.push(e)},invalidateLayout:function(){return u.layoutCalculated=!1},dispatch:e.dispatch,query:e.query}),j={element:{get:F},childViews:{get:M},rect:{get:B},resting:{get:function(){return b}},isRectIgnored:function(){return A},_read:function(){v=null,E.forEach((function(e){return e._read()})),!(P&&m.width&&m.height)&&S(m,u,h);var e={root:z,props:r,rect:m};N.forEach((function(t){return t(e)}))},_write:function(e,t,n){var i=0===t.length;return D.forEach((function(o){!1===o({props:r,root:z,actions:t,timestamp:e,shouldOptimize:n})&&(i=!1)})),x.forEach((function(t){!1===t.write(e)&&(i=!1)})),E.filter((function(e){return!!e.element.parentNode})).forEach((function(r){r._write(e,C(r,t),n)||(i=!1)})),E.forEach((function(r,o){r.element.parentNode||(z.appendChild(r.element,o),r._read(),r._write(e,C(r,t),n),i=!1)})),b=i,k({props:r,root:z,actions:t,timestamp:e}),i},_destroy:function(){x.forEach((function(e){return e.destroy()})),L.forEach((function(e){e({root:z,props:r})})),E.forEach((function(e){return e._destroy()}))}},U=Object.assign({},V,{rect:{get:function(){return m}}});Object.keys(R).sort((function(e,t){return"styles"===e?1:"styles"===t?-1:0})).forEach((function(e){var t=w[e]({mixinConfig:R[e],viewProps:r,viewState:O,viewInternalAPI:$,viewExternalAPI:j,view:n(U)});t&&x.push(t)}));var z=n($);y({root:z,props:r});var q=d(u);return E.forEach((function(e,t){z.appendChild(e.element,q+t)})),T(z),n(j)}},C=function(e,t){return function(n){var i=n.root,r=n.props,o=n.actions,a=void 0===o?[]:o,s=n.timestamp,l=n.shouldOptimize;a.filter((function(t){return e[t.type]})).forEach((function(t){return e[t.type]({root:i,props:r,action:t.data,timestamp:s,shouldOptimize:l})})),t&&t({root:i,props:r,actions:a,timestamp:s,shouldOptimize:l})}},x=function(e,t){return t.parentNode.insertBefore(e,t)},T=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},I=function(e){return Array.isArray(e)},k=function(e){return null==e},O=function(e){return e.trim()},A=function(e){return""+e},D=function(e){return"boolean"==typeof e},P=function(e){return D(e)?e:"true"===e},N=function(e){return"string"==typeof e},R=function(e){return m(e)?e:N(e)?A(e).replace(/[a-z]+/gi,""):0},L=function(e){return parseInt(R(e),10)},F=function(e){return parseFloat(R(e))},M=function(e){return m(e)&&isFinite(e)&&Math.floor(e)===e},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(M(e))return e;var n=A(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),L(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),L(n)*t):L(n)},V=function(e){return"function"==typeof e},$={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},j=function(e){return"object"==typeof e&&null!==e},U=function(e){return I(e)?"array":function(e){return null===e}(e)?"null":M(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":function(e){return j(e)&&N(e.url)&&j(e.process)&&j(e.revert)&&j(e.restore)&&j(e.fetch)}(e)?"api":typeof e},z={array:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return k(e)?[]:I(e)?e:A(e).split(t).map(O).filter((function(e){return e.length}))},boolean:P,int:function(e){return"bytes"===U(e)?B(e):L(e)},number:F,float:F,bytes:B,string:function(e){return V(e)?e:A(e)},function:function(e){return function(e){for(var t=self,n=e.split("."),i=null;i=n.shift();)if(!(t=t[i]))return null;return t}(e)},serverapi:function(e){return(i={}).url=N(n=e)?n:n.url||"",i.timeout=n.timeout?parseInt(n.timeout,10):0,i.headers=n.headers?n.headers:{},t($,(function(e){i[e]=function(e,t,n,i,r){if(null===t)return null;if("function"==typeof t)return t;var o={url:"GET"===n||"PATCH"===n?"?"+e+"=":"",method:n,headers:r,withCredentials:!1,timeout:i,onload:null,ondata:null,onerror:null};if(N(t))return o.url=t,o;if(Object.assign(o,t),N(o.headers)){var a=o.headers.split(/:(.+)/);o.headers={header:a[0],value:a[1]}}return o.withCredentials=P(o.withCredentials),o}(e,n[e],$[e],i.timeout,i.headers)})),i.process=n.process||N(n)||n.url?i.process:null,i.remove=n.remove||null,delete i.headers,i;var n,i},object:function(e){try{return JSON.parse(e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'))}catch(e){return null}}},q=function(e,t,n){if(e===t)return e;var i,r=U(e);if(r!==n){var o=(i=e,z[n](i));if(r=U(o),null===o)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';e=o}return e},H=function(e){var i={};return t(e,(function(t){var n,r,o,a=e[t];i[t]=(n=a[0],r=a[1],o=n,{enumerable:!0,get:function(){return o},set:function(e){o=q(e,n,r)}})})),n(i)},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join(t)},W=function(e){return function(n,i,r){var o={};return t(e,(function(e){var t=G(e,"_").toUpperCase();o["SET_"+t]=function(i){try{r.options[e]=i.value}catch(e){}n("DID_SET_"+t,{value:r.options[e]})}})),o}},Y=function(e){return function(n){var i={};return t(e,(function(e){i["GET_"+G(e,"_").toUpperCase()]=function(t){return n.options[e]}})),i}},K=function(){return Math.random().toString(36).substr(2,9)};function X(e){this.wrapped=e}function Z(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,s=a instanceof X;Promise.resolve(s?a.wrapped:a).then((function(e){s?i("next",e):r(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function Q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&(Z.prototype[Symbol.asyncIterator]=function(){return this}),Z.prototype.next=function(e){return this._invoke("next",e)},Z.prototype.throw=function(e){return this._invoke("throw",e)},Z.prototype.return=function(e){return this._invoke("return",e)};var J,ee,te=function(e,t){return e.splice(t,1)},ne=function(){var e=[],t=function(t,n){te(e,e.findIndex((function(e){return e.event===t&&(e.cb===n||!n)})))},n=function(t,n,i){e.filter((function(e){return e.event===t})).map((function(e){return e.cb})).forEach((function(e){return function(e,t){t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)}((function(){return e.apply(void 0,Q(n))}),i)}))};return{fireSync:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];n(e,i,!0)},fire:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];n(e,i,!1)},on:function(t,n){e.push({event:t,cb:n})},onOnce:function(n,i){e.push({event:n,cb:function(){t(n,i),i.apply(void 0,arguments)}})},off:t}},ie=function(e,t,n){Object.getOwnPropertyNames(e).filter((function(e){return!n.includes(e)})).forEach((function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))},re=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],oe=function(e){var t={};return ie(e,t,re),t},ae={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},se={INPUT:1,LIMBO:2,LOCAL:3},le=function(e){return/[^0-9]+/.exec(e)},ue=function(){return le(1.1.toLocaleString())[0]},ce={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},de=[],fe=function(e,t,n){return new Promise((function(i,r){var o=de.filter((function(t){return t.key===e})).map((function(e){return e.cb}));if(0!==o.length){var a=o.shift();o.reduce((function(e,t){return e.then((function(e){return t(e,n)}))}),a(t,n)).then((function(e){return i(e)})).catch((function(e){return r(e)}))}else i(t)}))},he=function(e,t,n){return de.filter((function(t){return t.key===e})).map((function(e){return e.cb(t,n)}))},pe=function(e,t){return de.push({key:e,cb:t})},me=function(){return Object.assign({},ge)},ge={id:[null,ce.STRING],name:["filepond",ce.STRING],disabled:[!1,ce.BOOLEAN],className:[null,ce.STRING],required:[!1,ce.BOOLEAN],captureMethod:[null,ce.STRING],allowSyncAcceptAttribute:[!0,ce.BOOLEAN],allowDrop:[!0,ce.BOOLEAN],allowBrowse:[!0,ce.BOOLEAN],allowPaste:[!0,ce.BOOLEAN],allowMultiple:[!1,ce.BOOLEAN],allowReplace:[!0,ce.BOOLEAN],allowRevert:[!0,ce.BOOLEAN],allowRemove:[!0,ce.BOOLEAN],allowProcess:[!0,ce.BOOLEAN],allowReorder:[!1,ce.BOOLEAN],allowDirectoriesOnly:[!1,ce.BOOLEAN],storeAsFile:[!1,ce.BOOLEAN],forceRevert:[!1,ce.BOOLEAN],maxFiles:[null,ce.INT],checkValidity:[!1,ce.BOOLEAN],itemInsertLocationFreedom:[!0,ce.BOOLEAN],itemInsertLocation:["before",ce.STRING],itemInsertInterval:[75,ce.INT],dropOnPage:[!1,ce.BOOLEAN],dropOnElement:[!0,ce.BOOLEAN],dropValidation:[!1,ce.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],ce.ARRAY],instantUpload:[!0,ce.BOOLEAN],maxParallelUploads:[2,ce.INT],allowMinimumUploadDuration:[!0,ce.BOOLEAN],chunkUploads:[!1,ce.BOOLEAN],chunkForce:[!1,ce.BOOLEAN],chunkSize:[5e6,ce.INT],chunkRetryDelays:[[500,1e3,3e3],ce.ARRAY],server:[null,ce.SERVER_API],fileSizeBase:[1e3,ce.INT],labelFileSizeBytes:["bytes",ce.STRING],labelFileSizeKilobytes:["KB",ce.STRING],labelFileSizeMegabytes:["MB",ce.STRING],labelFileSizeGigabytes:["GB",ce.STRING],labelDecimalSeparator:[ue(),ce.STRING],labelThousandsSeparator:[(J=ue(),ee=1e3.toLocaleString(),ee!==1e3.toString()?le(ee)[0]:"."===J?",":"."),ce.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',ce.STRING],labelInvalidField:["Field contains invalid files",ce.STRING],labelFileWaitingForSize:["Waiting for size",ce.STRING],labelFileSizeNotAvailable:["Size not available",ce.STRING],labelFileCountSingular:["file in list",ce.STRING],labelFileCountPlural:["files in list",ce.STRING],labelFileLoading:["Loading",ce.STRING],labelFileAdded:["Added",ce.STRING],labelFileLoadError:["Error during load",ce.STRING],labelFileRemoved:["Removed",ce.STRING],labelFileRemoveError:["Error during remove",ce.STRING],labelFileProcessing:["Uploading",ce.STRING],labelFileProcessingComplete:["Upload complete",ce.STRING],labelFileProcessingAborted:["Upload cancelled",ce.STRING],labelFileProcessingError:["Error during upload",ce.STRING],labelFileProcessingRevertError:["Error during revert",ce.STRING],labelTapToCancel:["tap to cancel",ce.STRING],labelTapToRetry:["tap to retry",ce.STRING],labelTapToUndo:["tap to undo",ce.STRING],labelButtonRemoveItem:["Remove",ce.STRING],labelButtonAbortItemLoad:["Abort",ce.STRING],labelButtonRetryItemLoad:["Retry",ce.STRING],labelButtonAbortItemProcessing:["Cancel",ce.STRING],labelButtonUndoItemProcessing:["Undo",ce.STRING],labelButtonRetryItemProcessing:["Retry",ce.STRING],labelButtonProcessItem:["Upload",ce.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',ce.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',ce.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',ce.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',ce.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',ce.STRING],oninit:[null,ce.FUNCTION],onwarning:[null,ce.FUNCTION],onerror:[null,ce.FUNCTION],onactivatefile:[null,ce.FUNCTION],oninitfile:[null,ce.FUNCTION],onaddfilestart:[null,ce.FUNCTION],onaddfileprogress:[null,ce.FUNCTION],onaddfile:[null,ce.FUNCTION],onprocessfilestart:[null,ce.FUNCTION],onprocessfileprogress:[null,ce.FUNCTION],onprocessfileabort:[null,ce.FUNCTION],onprocessfilerevert:[null,ce.FUNCTION],onprocessfile:[null,ce.FUNCTION],onprocessfiles:[null,ce.FUNCTION],onremovefile:[null,ce.FUNCTION],onpreparefile:[null,ce.FUNCTION],onupdatefiles:[null,ce.FUNCTION],onreorderfiles:[null,ce.FUNCTION],beforeDropFile:[null,ce.FUNCTION],beforeAddFile:[null,ce.FUNCTION],beforeRemoveFile:[null,ce.FUNCTION],beforePrepareFile:[null,ce.FUNCTION],stylePanelLayout:[null,ce.STRING],stylePanelAspectRatio:[null,ce.STRING],styleItemPanelAspectRatio:[null,ce.STRING],styleButtonRemoveItemPosition:["left",ce.STRING],styleButtonProcessItemPosition:["right",ce.STRING],styleLoadIndicatorPosition:["right",ce.STRING],styleProgressIndicatorPosition:["right",ce.STRING],styleButtonRemoveItemAlign:[!1,ce.BOOLEAN],files:[[],ce.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],ce.ARRAY]},ve=function(e,t){return k(t)?e[0]||null:M(t)?e[t]||null:("object"==typeof t&&(t=t.id),e.find((function(e){return e.id===t}))||null)},ye=function(e){if(k(e))return e;if(/:/.test(e)){var t=e.split(":");return t[1]/t[0]}return parseFloat(e)},be=function(e){return e.filter((function(e){return!e.archived}))},_e={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},we=null,Se=[ae.LOAD_ERROR,ae.PROCESSING_ERROR,ae.PROCESSING_REVERT_ERROR],Ee=[ae.LOADING,ae.PROCESSING,ae.PROCESSING_QUEUED,ae.INIT],Ce=[ae.PROCESSING_COMPLETE],xe=function(e){return Se.includes(e.status)},Te=function(e){return Ee.includes(e.status)},Ie=function(e){return Ce.includes(e.status)},ke=function(e){return j(e.options.server)&&(j(e.options.server.process)||V(e.options.server.process))},Oe=function(e){return{GET_STATUS:function(){var t=be(e.items),n=_e.EMPTY,i=_e.ERROR,r=_e.BUSY,o=_e.IDLE,a=_e.READY;return 0===t.length?n:t.some(xe)?i:t.some(Te)?r:t.some(Ie)?a:o},GET_ITEM:function(t){return ve(e.items,t)},GET_ACTIVE_ITEM:function(t){return ve(be(e.items),t)},GET_ACTIVE_ITEMS:function(){return be(e.items)},GET_ITEMS:function(){return e.items},GET_ITEM_NAME:function(t){var n=ve(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:function(t){var n=ve(e.items,t);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(e.options).filter((function(e){return/^style/.test(e)})).map((function(t){return{name:t,value:e.options[t]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(e.options.stylePanelLayout)?1:ye(e.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return e.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(t){return be(e.items).filter((function(e){return e.status===t}))},GET_TOTAL_ITEMS:function(){return be(e.items).length},SHOULD_UPDATE_FILE_INPUT:function(){return e.options.storeAsFile&&function(){if(null===we)try{var e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));var t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,we=1===t.files.length}catch(e){we=!1}return we}()&&!ke(e)},IS_ASYNC:function(){return ke(e)},GET_FILE_SIZE_LABELS:function(e){return{labelBytes:e("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:e("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:e("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:e("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}}}},Ae=function(e,t,n){return Math.max(Math.min(n,e),t)},De=function(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},Pe=function(e){return e.split("/").pop().split("?").shift()},Ne=function(e){return e.split(".").pop()},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+Re(e.getMonth()+1,"00")+"-"+Re(e.getDate(),"00")+"_"+Re(e.getHours(),"00")+"-"+Re(e.getMinutes(),"00")+"-"+Re(e.getSeconds(),"00")},Fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="string"==typeof n?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return r.lastModifiedDate=new Date,e._relativePath&&(r._relativePath=e._relativePath),N(t)||(t=Le()),t&&null===i&&Ne(t)?r.name=t:(i=i||function(e){if("string"!=typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""}(r.type),r.name=t+(i?"."+i:"")),r},Me=function(e,t){var n=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(n){var i=new n;return i.append(e),i.getBlob(t)}return new Blob([e],{type:t})},Be=function(e){return(/^data:(.+);/.exec(e)||[])[1]||null},Ve=function(e){if(!/^content-disposition:/i.test(e))return null;var t=e.split(/filename=|filename\*=.+''/).splice(1).map((function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(e){return e.length}));return t.length?decodeURI(t[t.length-1]):null},$e=function(e){if(/content-length:/i.test(e)){var t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},je=function(e){return/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null},Ue=function(e){var t={source:null,name:null,size:null},n=e.split("\n"),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=Ve(l);if(u)t.name=u;else{var c=$e(l);if(c)t.size=c;else{var d=je(l);d&&(t.source=d)}}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return t},ze=function(e){var t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(n){e?(t.timestamp=Date.now(),t.request=e(n,(function(e){t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=Fe(e,e.name||Pe(n))),i.fire("load",e instanceof Blob?e:e?e.body:null)}),(function(e){i.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)}),(function(e,n,r){r&&(t.size=r),t.duration=Date.now()-t.timestamp,e?(t.progress=n/r,i.fire("progress",t.progress)):t.progress=null}),(function(){i.fire("abort")}),(function(e){var n=Ue("string"==typeof e?e:e.headers);i.fire("meta",{size:t.size||n.size,filename:n.name,source:n.source})}))):i.fire("error",{type:"error",body:"Can't load URL",code:400})},i=Object.assign({},ne(),{setSource:function(e){return t.source=e},getProgress:function(){return t.progress},abort:function(){t.request&&t.request.abort&&t.request.abort()},load:function(){var e=t.source;i.fire("init",e),e instanceof File?i.fire("load",e):e instanceof Blob?i.fire("load",Fe(e,e.name)):De(e)?i.fire("load",Fe(function(e){var t=Be(e);return function(e,t){for(var n=new ArrayBuffer(e.length),i=new Uint8Array(n),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return Me(n,t)}(function(e){return atob(function(e){return e.split(",")[1].replace(/\s/g,"")}(e))}(e),t)}(e),undefined,null,undefined)):n(e)}});return i},qe=function(e){return/GET|HEAD/.test(e)},He=function(e,t,n){var i={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){r=!0,a.abort()}},r=!1,o=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),t=encodeURI(t),qe(n.method)&&e&&(t=""+t+encodeURIComponent("string"==typeof e?e:JSON.stringify(e)));var a=new XMLHttpRequest;return(qe(n.method)?a:a.upload).onprogress=function(e){r||i.onprogress(e.lengthComputable,e.loaded,e.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||o||(o=!0,i.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?i.onload(a):i.onerror(a)},a.onerror=function(){return i.onerror(a)},a.onabort=function(){r=!0,i.onabort()},a.ontimeout=function(){return i.ontimeout(a)},a.open(n.method,t,!0),M(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach((function(e){var t=unescape(encodeURIComponent(n.headers[e]));a.setRequestHeader(e,t)})),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(e),i},Ge=function(e,t,n,i){return{type:e,code:t,body:n,headers:i}},We=function(e){return function(t){e(Ge("error",0,"Timeout",t.getAllResponseHeaders()))}},Ye=function(e){return/\?/.test(e)},Ke=function(){for(var e="",t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e+=Ye(e)&&Ye(t)?t.replace(/\?/,"&"):t})),e},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!N(t.url))return null;var n=t.onload||function(e){return e},i=t.onerror||function(e){return null};return function(r,o,a,s,l,u){var c=He(r,Ke(e,t.url),Object.assign({},t,{responseType:"blob"}));return c.onload=function(e){var i=e.getAllResponseHeaders(),a=Ue(i).name||Pe(r);o(Ge("load",e.status,"HEAD"===t.method?null:Fe(n(e.response),a),i))},c.onerror=function(e){a(Ge("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},c.onheaders=function(e){u(Ge("headers",e.status,null,e.getAllResponseHeaders()))},c.ontimeout=We(a),c.onprogress=s,c.onabort=l,c}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return"function"==typeof t?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(void 0,[n].concat(r,[i]))}:t&&N(t.url)?function(e,t,n,i){return function(r,o,a,s,l,u,c){if(r){var d=i.chunkUploads,f=d&&r.size>i.chunkSize,h=d&&(f||i.chunkForce);if(r instanceof Blob&&h)return function(e,t,n,i,r,o,a,s,l,u,c){for(var d=[],f=c.chunkTransferId,h=c.chunkServer,p=c.chunkSize,m=c.chunkRetryDelays,g={serverId:f,aborted:!1},v=t.ondata||function(e){return e},y=t.onload||function(e,t){return"HEAD"===t?e.getResponseHeader("Upload-Offset"):e.response},b=t.onerror||function(e){return null},_=Math.floor(i.size/p),w=0;w<=_;w++){var S=w*p,E=i.slice(S,S+p,"application/offset+octet-stream");d[w]={index:w,size:E.size,offset:S,data:E,file:i,progress:0,retries:Q(m),status:0,error:null,request:null,timeout:null}}var C,x,T,I,k=function(e){return 0===e.status||3===e.status},O=function(t){if(!g.aborted)if(t=t||d.find(k)){t.status=2,t.progress=null;var n=h.ondata||function(e){return e},r=h.onerror||function(e){return null},s=Ke(e,h.url,g.serverId),u="function"==typeof h.headers?h.headers(t):Object.assign({},h.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":t.offset,"Upload-Length":i.size,"Upload-Name":i.name}),c=t.request=He(n(t.data),s,Object.assign({},h,{headers:u}));c.onload=function(){t.status=1,t.request=null,P()},c.onprogress=function(e,n,i){t.progress=e?n:null,D()},c.onerror=function(e){t.status=3,t.request=null,t.error=r(e.response)||e.statusText,A(t)||a(Ge("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},c.ontimeout=function(e){t.status=3,t.request=null,A(t)||We(a)(e)},c.onabort=function(){t.status=0,t.request=null,l()}}else d.every((function(e){return 1===e.status}))&&o(g.serverId)},A=function(e){return 0!==e.retries.length&&(e.status=4,clearTimeout(e.timeout),e.timeout=setTimeout((function(){O(e)}),e.retries.shift()),!0)},D=function(){var e=d.reduce((function(e,t){return null===e||null===t.progress?null:e+t.progress}),0);if(null===e)return s(!1,0,0);var t=d.reduce((function(e,t){return e+t.size}),0);s(!0,e,t)},P=function(){d.filter((function(e){return 2===e.status})).length>=1||O()};return g.serverId?(C=function(e){g.aborted||(d.filter((function(t){return t.offset<e})).forEach((function(e){e.status=1,e.progress=e.size})),P())},x=Ke(e,h.url,g.serverId),T={headers:"function"==typeof t.headers?t.headers(g.serverId):Object.assign({},t.headers),method:"HEAD"},(I=He(null,x,T)).onload=function(e){return C(y(e,T.method))},I.onerror=function(e){return a(Ge("error",e.status,b(e.response)||e.statusText,e.getAllResponseHeaders()))},I.ontimeout=We(a)):function(o){var s=new FormData;j(r)&&s.append(n,JSON.stringify(r));var l="function"==typeof t.headers?t.headers(i,r):Object.assign({},t.headers,{"Upload-Length":i.size}),u=Object.assign({},t,{headers:l}),c=He(v(s),Ke(e,t.url),u);c.onload=function(e){return o(y(e,u.method))},c.onerror=function(e){return a(Ge("error",e.status,b(e.response)||e.statusText,e.getAllResponseHeaders()))},c.ontimeout=We(a)}((function(e){g.aborted||(u(e),g.serverId=e,P())})),{abort:function(){g.aborted=!0,d.forEach((function(e){clearTimeout(e.timeout),e.request&&e.request.abort()}))}}}(e,t,n,r,o,a,s,l,u,c,i);var p=t.ondata||function(e){return e},m=t.onload||function(e){return e},g=t.onerror||function(e){return null},v="function"==typeof t.headers?t.headers(r,o)||{}:Object.assign({},t.headers),y=Object.assign({},t,{headers:v}),b=new FormData;j(o)&&b.append(n,JSON.stringify(o)),(r instanceof Blob?[{name:null,file:r}]:r).forEach((function(e){b.append(n,e.file,null===e.name?e.file.name:""+e.name+e.file.name)}));var _=He(p(b),Ke(e,t.url),y);return _.onload=function(e){a(Ge("load",e.status,m(e.response),e.getAllResponseHeaders()))},_.onerror=function(e){s(Ge("error",e.status,g(e.response)||e.statusText,e.getAllResponseHeaders()))},_.ontimeout=We(s),_.onprogress=l,_.onabort=u,_}}}(e,t,n,i):null},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!N(t.url))return function(e,t){return t()};var n=t.onload||function(e){return e},i=t.onerror||function(e){return null};return function(r,o,a){var s=He(r,e+t.url,t);return s.onload=function(e){o(Ge("load",e.status,n(e.response),e.getAllResponseHeaders()))},s.onerror=function(e){a(Ge("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},s.ontimeout=We(a),s}},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},et=function(e){return e.substr(0,e.lastIndexOf("."))||e},tt=function(e){return!!(e instanceof File||e instanceof Blob&&e.name)},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=K(),o={archived:!1,frozen:!1,released:!1,source:null,file:i,serverFileReference:t,transferId:null,processingAborted:!1,status:t?ae.PROCESSING_COMPLETE:ae.INIT,activeLoader:null,activeProcessor:null},a=null,s={},l=function(e){return o.status=e},u=function(e){if(!o.released&&!o.frozen){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.fire.apply(d,[e].concat(n))}},c=function(e,t,n){var i=e.split("."),r=i[0],o=i.pop(),a=s;i.forEach((function(e){return a=a[e]})),JSON.stringify(a[o])!==JSON.stringify(t)&&(a[o]=t,u("metadata-update",{key:r,value:s[r],silent:n}))},d=Object.assign({id:{get:function(){return r}},origin:{get:function(){return e},set:function(t){return e=t}},serverId:{get:function(){return o.serverFileReference}},transferId:{get:function(){return o.transferId}},status:{get:function(){return o.status}},filename:{get:function(){return o.file.name}},filenameWithoutExtension:{get:function(){return et(o.file.name)}},fileExtension:{get:function(){return Ne(o.file.name)}},fileType:{get:function(){return o.file.type}},fileSize:{get:function(){return o.file.size}},file:{get:function(){return o.file}},relativePath:{get:function(){return o.file._relativePath}},source:{get:function(){return o.source}},getMetadata:function(e){return function e(t){if(!j(t))return t;var n=I(t)?[]:{};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];n[i]=r&&j(r)?e(r):r}return n}(e?s[e]:s)},setMetadata:function(e,t,n){if(j(e)){var i=e;return Object.keys(i).forEach((function(e){c(e,i[e],t)})),e}return c(e,t,n),t},extend:function(e,t){return f[e]=t},abortLoad:function(){o.activeLoader?o.activeLoader.abort():(l(ae.INIT),u("load-abort"))},retryLoad:function(){o.activeLoader&&o.activeLoader.load()},requestProcessing:function(){o.processingAborted=!1,l(ae.PROCESSING_QUEUED)},abortProcessing:function(){return new Promise((function(e){if(!o.activeProcessor)return o.processingAborted=!0,l(ae.IDLE),u("process-abort"),void e();a=function(){e()},o.activeProcessor.abort()}))},load:function(t,n,i){o.source=t,d.fireSync("init"),o.file?d.fireSync("load-skip"):(o.file=function(e){var t=[e.name,e.size,e.type];return e instanceof Blob||De(e)?t[0]=e.name||Le():De(e)?(t[1]=e.length,t[2]=Be(e)):N(e)&&(t[0]=Pe(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}}(t),n.on("init",(function(){u("load-init")})),n.on("meta",(function(t){o.file.size=t.size,o.file.filename=t.filename,t.source&&(e=se.LIMBO,o.serverFileReference=t.source,o.status=ae.PROCESSING_COMPLETE),u("load-meta")})),n.on("progress",(function(e){l(ae.LOADING),u("load-progress",e)})),n.on("error",(function(e){l(ae.LOAD_ERROR),u("load-request-error",e)})),n.on("abort",(function(){l(ae.INIT),u("load-abort")})),n.on("load",(function(t){o.activeLoader=null;var n=function(t){o.file=tt(t)?t:o.file,e===se.LIMBO&&o.serverFileReference?l(ae.PROCESSING_COMPLETE):l(ae.IDLE),u("load")};o.serverFileReference?n(t):i(t,n,(function(e){o.file=t,u("load-meta"),l(ae.LOAD_ERROR),u("load-file-error",e)}))})),n.setSource(t),o.activeLoader=n,n.load())},process:function e(t,n){if(o.processingAborted)o.processingAborted=!1;else if(l(ae.PROCESSING),a=null,o.file instanceof Blob){t.on("load",(function(e){o.transferId=null,o.serverFileReference=e})),t.on("transfer",(function(e){o.transferId=e})),t.on("load-perceived",(function(e){o.activeProcessor=null,o.transferId=null,o.serverFileReference=e,l(ae.PROCESSING_COMPLETE),u("process-complete",e)})),t.on("start",(function(){u("process-start")})),t.on("error",(function(e){o.activeProcessor=null,l(ae.PROCESSING_ERROR),u("process-error",e)})),t.on("abort",(function(e){o.activeProcessor=null,o.serverFileReference=e,l(ae.IDLE),u("process-abort"),a&&a()})),t.on("progress",(function(e){u("process-progress",e)}));var i=console.error;n(o.file,(function(e){o.archived||t.process(e,Object.assign({},s))}),i),o.activeProcessor=t}else d.on("load",(function(){e(t,n)}))},revert:function(e,t){return new Promise((function(n,i){var r=null!==o.serverFileReference?o.serverFileReference:o.transferId;null!==r?(e(r,(function(){o.serverFileReference=null,o.transferId=null,n()}),(function(e){t?(l(ae.PROCESSING_REVERT_ERROR),u("process-revert-error"),i(e)):n()})),l(ae.IDLE),u("process-revert")):n()}))}},ne(),{freeze:function(){return o.frozen=!0},release:function(){return o.released=!0},released:{get:function(){return o.released}},archive:function(){return o.archived=!0},archived:{get:function(){return o.archived}}}),f=n(d);return f},it=function(e,t){var n=function(e,t){return k(t)?0:N(t)?e.findIndex((function(e){return e.id===t})):-1}(e,t);if(!(n<0))return e[n]||null},rt=function(e,t,n,i,r,o){var a=He(null,e,{method:"GET",responseType:"blob"});return a.onload=function(n){var i=n.getAllResponseHeaders(),r=Ue(i).name||Pe(e);t(Ge("load",n.status,Fe(n.response,r),i))},a.onerror=function(e){n(Ge("error",e.status,e.statusText,e.getAllResponseHeaders()))},a.onheaders=function(e){o(Ge("headers",e.status,null,e.getAllResponseHeaders()))},a.ontimeout=We(n),a.onprogress=i,a.onabort=r,a},ot=function(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},at=function(e){return function(){return V(e)?e.apply(void 0,arguments):e}},st=function(e,t){clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout((function(){e("DID_UPDATE_ITEMS",{items:be(t.items)})}),0)},lt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Promise((function(t){if(!e)return t(!0);var i=e.apply(void 0,n);return null==i?t(!0):"boolean"==typeof i?t(i):void("function"==typeof i.then&&i.then(t))}))},ut=function(e,t){e.items.sort((function(e,n){return t(oe(e),oe(n))}))},ct=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.query,r=n.success,o=void 0===r?function(){}:r,a=n.failure,s=void 0===a?function(){}:a,l=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["query","success","failure"]),u=ve(e.items,i);u?t(u,o,s,l||{}):s({error:Ge("error",0,"Item not found"),file:null})}},dt=function(e,t,n){return{ABORT_ALL:function(){be(n.items).forEach((function(e){e.freeze(),e.abortLoad(),e.abortProcessing()}))},DID_SET_FILES:function(t){var i=t.value,r=(void 0===i?[]:i).map((function(e){return{source:e.source?e.source:e,options:e.options}})),o=be(n.items);o.forEach((function(t){r.find((function(e){return e.source===t.source||e.source===t.file}))||e("REMOVE_ITEM",{query:t,remove:!1})})),o=be(n.items),r.forEach((function(t,n){o.find((function(e){return e.source===t.source||e.file===t.source}))||e("ADD_ITEM",Object.assign({},t,{interactionMethod:5,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(i){var r=i.id,o=i.action,a=i.change;a.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout((function(){var i=it(n.items,r);if(t("IS_ASYNC")){i.origin===se.LOCAL&&e("DID_LOAD_ITEM",{id:i.id,error:null,serverFileReference:i.source});var s,l=function(){setTimeout((function(){e("REQUEST_ITEM_PROCESSING",{query:r})}),32)};return i.status===ae.PROCESSING_COMPLETE?(s=n.options.instantUpload,void i.revert(Qe(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(s?l:function(){}).catch((function(){}))):i.status===ae.PROCESSING?function(e){i.abortProcessing().then(e?l:function(){})}(n.options.instantUpload):void(n.options.instantUpload&&l())}fe("SHOULD_PREPARE_OUTPUT",!1,{item:i,query:t,action:o,change:a}).then((function(n){var o=t("GET_BEFORE_PREPARE_FILE");o&&(n=o(i,n)),n&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:i,success:function(t){e("DID_PREPARE_OUTPUT",{id:r,file:t})}},!0)}))}),0))},MOVE_ITEM:function(e){var t=e.query,i=e.index,r=ve(n.items,t);if(r){var o=n.items.indexOf(r);o!==(i=Ae(i,0,n.items.length-1))&&n.items.splice(i,0,n.items.splice(o,1)[0])}},SORT:function(i){var r=i.compare;ut(n,r),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var i=n.items,r=n.index,o=n.interactionMethod,a=n.success,s=void 0===a?function(){}:a,l=n.failure,u=void 0===l?function(){}:l,c=r;if(-1===r||void 0===r){var d=t("GET_ITEM_INSERT_LOCATION"),f=t("GET_TOTAL_ITEMS");c="before"===d?0:f}var h=t("GET_IGNORED_FILES"),p=i.filter((function(e){return tt(e)?!h.includes(e.name.toLowerCase()):!k(e)})).map((function(t){return new Promise((function(n,i){e("ADD_ITEM",{interactionMethod:o,source:t.source||t,success:n,failure:i,index:c++,options:t.options||{}})}))}));Promise.all(p).then(s).catch(u)},ADD_ITEM:function(i){var r=i.source,o=i.index,a=void 0===o?-1:o,s=i.interactionMethod,l=i.success,u=void 0===l?function(){}:l,c=i.failure,d=void 0===c?function(){}:c,f=i.options,h=void 0===f?{}:f;if(k(r))d({error:Ge("error",0,"No source"),file:null});else if(!tt(r)||!n.options.ignoredFiles.includes(r.name.toLowerCase())){if(!function(e){var t=be(e.items).length;if(!e.options.allowMultiple)return 0===t;var n=e.options.maxFiles;return null===n||t<n}(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var p=Ge("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:r,error:p}),void d({error:p,file:null})}var m=be(n.items)[0];if(m.status===ae.PROCESSING_COMPLETE||m.status===ae.PROCESSING_REVERT_ERROR){var g=t("GET_FORCE_REVERT");if(m.revert(Qe(n.options.server.url,n.options.server.revert),g).then((function(){g&&e("ADD_ITEM",{source:r,index:a,interactionMethod:s,success:u,failure:d,options:h})})).catch((function(){})),g)return}e("REMOVE_ITEM",{query:m.id})}var v="local"===h.type?se.LOCAL:"limbo"===h.type?se.LIMBO:se.INPUT,y=nt(v,v===se.INPUT?null:r,h.file);Object.keys(h.metadata||{}).forEach((function(e){y.setMetadata(e,h.metadata[e])})),he("DID_CREATE_ITEM",y,{query:t,dispatch:e});var b=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(a="before"===b?-1:n.items.length),function(e,t,n){k(t)||(void 0===n?e.push(t):function(e,t,n){e.splice(t,0,n)}(e,n=Ae(n,0,e.length),t))}(n.items,y,a),V(b)&&r&&ut(n,b);var _=y.id;y.on("init",(function(){e("DID_INIT_ITEM",{id:_})})),y.on("load-init",(function(){e("DID_START_ITEM_LOAD",{id:_})})),y.on("load-meta",(function(){e("DID_UPDATE_ITEM_META",{id:_})})),y.on("load-progress",(function(t){e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:_,progress:t})})),y.on("load-request-error",(function(t){var i=at(n.options.labelFileLoadError)(t);if(t.code>=400&&t.code<500)return e("DID_THROW_ITEM_INVALID",{id:_,error:t,status:{main:i,sub:t.code+" ("+t.body+")"}}),void d({error:t,file:oe(y)});e("DID_THROW_ITEM_LOAD_ERROR",{id:_,error:t,status:{main:i,sub:n.options.labelTapToRetry}})})),y.on("load-file-error",(function(t){e("DID_THROW_ITEM_INVALID",{id:_,error:t.status,status:t.status}),d({error:t.status,file:oe(y)})})),y.on("load-abort",(function(){e("REMOVE_ITEM",{query:_})})),y.on("load-skip",(function(){e("COMPLETE_LOAD_ITEM",{query:_,item:y,data:{source:r,success:u}})})),y.on("load",(function(){var i=function(i){i?(y.on("metadata-update",(function(t){e("DID_UPDATE_ITEM_METADATA",{id:_,change:t})})),fe("SHOULD_PREPARE_OUTPUT",!1,{item:y,query:t}).then((function(i){var o=t("GET_BEFORE_PREPARE_FILE");o&&(i=o(y,i));var a=function(){e("COMPLETE_LOAD_ITEM",{query:_,item:y,data:{source:r,success:u}}),st(e,n)};i?e("REQUEST_PREPARE_OUTPUT",{query:_,item:y,success:function(t){e("DID_PREPARE_OUTPUT",{id:_,file:t}),a()}},!0):a()}))):e("REMOVE_ITEM",{query:_})};fe("DID_LOAD_ITEM",y,{query:t,dispatch:e}).then((function(){lt(t("GET_BEFORE_ADD_FILE"),oe(y)).then(i)})).catch((function(t){if(!t||!t.error||!t.status)return i(!1);e("DID_THROW_ITEM_INVALID",{id:_,error:t.error,status:t.status})}))})),y.on("process-start",(function(){e("DID_START_ITEM_PROCESSING",{id:_})})),y.on("process-progress",(function(t){e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:_,progress:t})})),y.on("process-error",(function(t){e("DID_THROW_ITEM_PROCESSING_ERROR",{id:_,error:t,status:{main:at(n.options.labelFileProcessingError)(t),sub:n.options.labelTapToRetry}})})),y.on("process-revert-error",(function(t){e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:_,error:t,status:{main:at(n.options.labelFileProcessingRevertError)(t),sub:n.options.labelTapToRetry}})})),y.on("process-complete",(function(t){e("DID_COMPLETE_ITEM_PROCESSING",{id:_,error:null,serverFileReference:t}),e("DID_DEFINE_VALUE",{id:_,value:t})})),y.on("process-abort",(function(){e("DID_ABORT_ITEM_PROCESSING",{id:_})})),y.on("process-revert",(function(){e("DID_REVERT_ITEM_PROCESSING",{id:_}),e("DID_DEFINE_VALUE",{id:_,value:null})})),e("DID_ADD_ITEM",{id:_,index:a,interactionMethod:s}),st(e,n);var w=n.options.server||{},S=w.url,E=w.load,C=w.restore,x=w.fetch;y.load(r,ze(v===se.INPUT?N(r)&&function(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&ot(location.href)!==ot(e)}(r)&&x?Xe(S,x):rt:Xe(S,v===se.LIMBO?C:E)),(function(e,n,i){fe("LOAD_FILE",e,{query:t}).then(n).catch(i)}))}},REQUEST_PREPARE_OUTPUT:function(e){var n=e.item,i=e.success,r=e.failure,o=void 0===r?function(){}:r,a={error:Ge("error",0,"Item not found"),file:null};if(n.archived)return o(a);fe("PREPARE_OUTPUT",n.file,{query:t,item:n}).then((function(e){fe("COMPLETE_PREPARE_OUTPUT",e,{query:t,item:n}).then((function(e){if(n.archived)return o(a);i(e)}))}))},COMPLETE_LOAD_ITEM:function(i){var r=i.item,o=i.data,a=o.success,s=o.source,l=t("GET_ITEM_INSERT_LOCATION");if(V(l)&&s&&ut(n,l),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===se.INPUT?null:s}),a(oe(r)),r.origin!==se.LOCAL)return r.origin===se.LIMBO?(e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:s}),void e("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||s})):void(t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id}));e("DID_LOAD_LOCAL_ITEM",{id:r.id})},RETRY_ITEM_LOAD:ct(n,(function(e){e.retryLoad()})),REQUEST_ITEM_PREPARE:ct(n,(function(t,n,i){e("REQUEST_PREPARE_OUTPUT",{query:t.id,item:t,success:function(i){e("DID_PREPARE_OUTPUT",{id:t.id,file:i}),n({file:t,output:i})},failure:i},!0)})),REQUEST_ITEM_PROCESSING:ct(n,(function(i,r,o){if(i.status===ae.IDLE||i.status===ae.PROCESSING_ERROR)i.status!==ae.PROCESSING_QUEUED&&(i.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:i.id}),e("PROCESS_ITEM",{query:i,success:r,failure:o},!0));else{var a=function(){return e("REQUEST_ITEM_PROCESSING",{query:i,success:r,failure:o})},s=function(){return document.hidden?a():setTimeout(a,32)};i.status===ae.PROCESSING_COMPLETE||i.status===ae.PROCESSING_REVERT_ERROR?i.revert(Qe(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(s).catch((function(){})):i.status===ae.PROCESSING&&i.abortProcessing().then(s)}})),PROCESS_ITEM:ct(n,(function(i,r,o){var a=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",ae.PROCESSING).length!==a){if(i.status!==ae.PROCESSING){var s=function t(){var i=n.processingQueue.shift();if(i){var r=i.id,o=i.success,a=i.failure,s=ve(n.items,r);s&&!s.archived?e("PROCESS_ITEM",{query:r,success:o,failure:a},!0):t()}};i.onOnce("process-complete",(function(){r(oe(i)),s();var o=n.options.server;if(n.options.instantUpload&&i.origin===se.LOCAL&&V(o.remove)){var a=function(){};i.origin=se.LIMBO,n.options.server.remove(i.source,a,a)}t("GET_ITEMS_BY_STATUS",ae.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")})),i.onOnce("process-error",(function(e){o({error:e,file:oe(i)}),s()}));var l=n.options;i.process(function(e,t){var n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},i=t.allowMinimumUploadDuration,r=function(){n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},o=i?function(){return n.progress?Math.min(n.progress,n.perceivedProgress):null}:function(){return n.progress||null},a=i?function(){return Math.min(n.duration,n.perceivedDuration)}:function(){return n.duration},s=Object.assign({},ne(),{process:function(t,r){var o=function(){0!==n.duration&&null!==n.progress&&s.fire("progress",s.getProgress())},a=function(){n.complete=!0,s.fire("load-perceived",n.response.body)};s.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,r=null,o=Date.now();return t>0&&function a(){var s=Date.now()-o,l=Je(n,i);s+l>t&&(l=s+l-t);var u=s/t;u>=1||document.hidden?e(1):(e(u),r=setTimeout(a,l))}(),{clear:function(){clearTimeout(r)}}}((function(e){n.perceivedProgress=e,n.perceivedDuration=Date.now()-n.timestamp,o(),n.response&&1===n.perceivedProgress&&!n.complete&&a()}),i?Je(750,1500):0),n.request=e(t,r,(function(e){n.response=j(e)?e:{type:"load",code:200,body:""+e,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,s.fire("load",n.response.body),(!i||i&&1===n.perceivedProgress)&&a()}),(function(e){n.perceivedPerformanceUpdater.clear(),s.fire("error",j(e)?e:{type:"error",code:0,body:""+e})}),(function(e,t,i){n.duration=Date.now()-n.timestamp,n.progress=e?t/i:null,o()}),(function(){n.perceivedPerformanceUpdater.clear(),s.fire("abort",n.response?n.response.body:null)}),(function(e){s.fire("transfer",e)}))},abort:r,getProgress:o,getDuration:a,reset:function(){r(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null}});return s}(Ze(l.server.url,l.server.process,l.name,{chunkTransferId:i.transferId,chunkServer:l.server.patch,chunkUploads:l.chunkUploads,chunkForce:l.chunkForce,chunkSize:l.chunkSize,chunkRetryDelays:l.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(function(n,r,o){fe("PREPARE_OUTPUT",n,{query:t,item:i}).then((function(t){e("DID_PREPARE_OUTPUT",{id:i.id,file:t}),r(t)})).catch(o)}))}}else n.processingQueue.push({id:i.id,success:r,failure:o})})),RETRY_ITEM_PROCESSING:ct(n,(function(t){e("REQUEST_ITEM_PROCESSING",{query:t})})),REQUEST_REMOVE_ITEM:ct(n,(function(n){lt(t("GET_BEFORE_REMOVE_FILE"),oe(n)).then((function(t){t&&e("REMOVE_ITEM",{query:n})}))})),RELEASE_ITEM:ct(n,(function(e){e.release()})),REMOVE_ITEM:ct(n,(function(i,r,o,a){var s=function(){var t=i.id;it(n.items,t).archive(),e("DID_REMOVE_ITEM",{error:null,id:t,item:i}),st(e,n),r(oe(i))},l=n.options.server;i.origin===se.LOCAL&&l&&V(l.remove)&&!1!==a.remove?(e("DID_START_ITEM_REMOVE",{id:i.id}),l.remove(i.source,(function(){return s()}),(function(t){e("DID_THROW_ITEM_REMOVE_ERROR",{id:i.id,error:Ge("error",0,t,null),status:{main:at(n.options.labelFileRemoveError)(t),sub:n.options.labelTapToRetry}})}))):((a.revert&&i.origin!==se.LOCAL&&null!==i.serverId||n.options.chunkUploads&&i.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&i.revert(Qe(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),s())})),ABORT_ITEM_LOAD:ct(n,(function(e){e.abortLoad()})),ABORT_ITEM_PROCESSING:ct(n,(function(t){t.serverId?e("REVERT_ITEM_PROCESSING",{id:t.id}):t.abortProcessing().then((function(){n.options.instantUpload&&e("REMOVE_ITEM",{query:t.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:ct(n,(function(i){if(n.options.instantUpload){var r=function(t){t&&e("REVERT_ITEM_PROCESSING",{query:i})},o=t("GET_BEFORE_REMOVE_FILE");if(!o)return r(!0);var a=o(oe(i));return null==a?r(!0):"boolean"==typeof a?r(a):void("function"==typeof a.then&&a.then(r))}e("REVERT_ITEM_PROCESSING",{query:i})})),REVERT_ITEM_PROCESSING:ct(n,(function(i){i.revert(Qe(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then((function(){(n.options.instantUpload||function(e){return!tt(e.file)}(i))&&e("REMOVE_ITEM",{query:i.id})})).catch((function(){}))})),SET_OPTIONS:function(t){var n=t.options,i=Object.keys(n),r=ft.filter((function(e){return i.includes(e)}));[].concat(Q(r),Q(Object.keys(n).filter((function(e){return!r.includes(e)})))).forEach((function(t){e("SET_"+G(t,"_").toUpperCase(),{value:n[t]})}))}}},ft=["server"],ht=function(e){return document.createElement(e)},pt=function(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},mt=function(e,t,n,i){var r=(i%360-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},gt=E({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(e){var t=e.root,n=e.props;n.spin=!1,n.progress=0,n.opacity=0;var i=a("svg");t.ref.path=a("path",{"stroke-width":2,"stroke-linecap":"round"}),i.appendChild(t.ref.path),t.ref.svg=i,t.appendChild(i)},write:function(e){var t=e.root,n=e.props;if(0!==n.opacity){n.align&&(t.element.dataset.align=n.align);var r=parseInt(i(t.ref.path,"stroke-width"),10),o=.5*t.rect.element.width,a=0,s=0;n.spin?(a=0,s=.5):(a=0,s=n.progress);var l=function(e,t,n,i,r){var o=1;return r>i&&r-i<=.5&&(o=0),i>r&&i-r>=.5&&(o=0),function(e,t,n,i,r,o){var a=mt(e,t,n,r),s=mt(e,t,n,i);return["M",a.x,a.y,"A",n,n,0,o,0,s.x,s.y].join(" ")}(e,t,n,360*Math.min(.9999,i),360*Math.min(.9999,r),o)}(o,o,o-r,a,s);i(t.ref.path,"d",l),i(t.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),vt=E({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(e){var t=e.root,n=e.props;t.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},write:function(e){var t=e.root,n=e.props,r=n.isDisabled,o=t.query("GET_DISABLED")||0===n.opacity;o&&!r?(n.isDisabled=!0,i(t.element,"disabled","disabled")):!o&&r&&(n.isDisabled=!1,t.element.removeAttribute("disabled"))}}),yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.labelBytes,o=void 0===r?"bytes":r,a=i.labelKilobytes,s=void 0===a?"KB":a,l=i.labelMegabytes,u=void 0===l?"MB":l,c=i.labelGigabytes,d=void 0===c?"GB":c,f=n,h=n*n,p=n*n*n;return(e=Math.round(Math.abs(e)))<f?e+" "+o:e<h?Math.floor(e/f)+" "+s:e<p?bt(e/h,1,t)+" "+u:bt(e/p,2,t)+" "+d},bt=function(e,t,n){return e.toFixed(t).split(".").filter((function(e){return"0"!==e})).join(n)},_t=function(e){var t=e.root,n=e.props;pt(t.ref.fileSize,yt(t.query("GET_ITEM_SIZE",n.id),".",t.query("GET_FILE_SIZE_BASE"),t.query("GET_FILE_SIZE_LABELS",t.query))),pt(t.ref.fileName,t.query("GET_ITEM_NAME",n.id))},wt=function(e){var t=e.root,n=e.props;M(t.query("GET_ITEM_SIZE",n.id))?_t({root:t,props:n}):pt(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},St=E({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:C({DID_LOAD_ITEM:_t,DID_UPDATE_ITEM_META:_t,DID_THROW_ITEM_LOAD_ERROR:wt,DID_THROW_ITEM_INVALID:wt}),didCreateView:function(e){he("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function(e){var t=e.root,n=e.props,r=ht("span");r.className="filepond--file-info-main",i(r,"aria-hidden","true"),t.appendChild(r),t.ref.fileName=r;var o=ht("span");o.className="filepond--file-info-sub",t.appendChild(o),t.ref.fileSize=o,pt(o,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),pt(r,t.query("GET_ITEM_NAME",n.id))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Et=function(e){return Math.round(100*e)},Ct=function(e){var t=e.root,n=e.action,i=null===n.progress?t.query("GET_LABEL_FILE_LOADING"):t.query("GET_LABEL_FILE_LOADING")+" "+Et(n.progress)+"%";pt(t.ref.main,i),pt(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},xt=function(e){var t=e.root;pt(t.ref.main,""),pt(t.ref.sub,"")},Tt=function(e){var t=e.root,n=e.action;pt(t.ref.main,n.status.main),pt(t.ref.sub,n.status.sub)},It=E({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:C({DID_LOAD_ITEM:xt,DID_REVERT_ITEM_PROCESSING:xt,DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;pt(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),pt(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(e){var t=e.root;pt(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),pt(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;pt(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),pt(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action,i=null===n.progress?t.query("GET_LABEL_FILE_PROCESSING"):t.query("GET_LABEL_FILE_PROCESSING")+" "+Et(n.progress)+"%";pt(t.ref.main,i),pt(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:Ct,DID_THROW_ITEM_LOAD_ERROR:Tt,DID_THROW_ITEM_INVALID:Tt,DID_THROW_ITEM_PROCESSING_ERROR:Tt,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Tt,DID_THROW_ITEM_REMOVE_ERROR:Tt}),didCreateView:function(e){he("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function(e){var t=e.root,n=ht("span");n.className="filepond--file-status-main",t.appendChild(n),t.ref.main=n;var i=ht("span");i.className="filepond--file-status-sub",t.appendChild(i),t.ref.sub=i,Ct({root:t,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),kt={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Ot=[];t(kt,(function(e){Ot.push(e)}));var At,Dt=function(e){if("right"===Lt(e))return 0;var t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},Pt=function(e){return e.ref.buttonAbortItemLoad.rect.element.width},Nt=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},Rt=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},Lt=function(e){return e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Ft={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Mt={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Dt},status:{translateX:Dt}},Bt={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Vt={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Dt},status:{translateX:Dt,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Dt},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Lt},info:{translateX:Dt},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Lt},buttonRemoveItem:{opacity:1},info:{translateX:Dt},status:{opacity:1,translateX:Dt}},DID_LOAD_ITEM:Mt,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Dt},status:{translateX:Dt}},DID_START_ITEM_PROCESSING:Bt,DID_REQUEST_ITEM_PROCESSING:Bt,DID_UPDATE_ITEM_PROCESS_PROGRESS:Bt,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Dt}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Dt},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Mt},$t=E({create:function(e){var t=e.root;t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),jt=C({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(e){var t=e.root;t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=n.progress}}),Ut=E({create:function(e){var n,i=e.root,r=e.props,o=Object.keys(kt).reduce((function(e,t){return e[t]=Object.assign({},kt[t]),e}),{}),a=r.id,s=i.query("GET_ALLOW_REVERT"),l=i.query("GET_ALLOW_REMOVE"),u=i.query("GET_ALLOW_PROCESS"),c=i.query("GET_INSTANT_UPLOAD"),d=i.query("IS_ASYNC"),f=i.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");d?u&&!s?n=function(e){return!/RevertItemProcessing/.test(e)}:!u&&s?n=function(e){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(e)}:u||s||(n=function(e){return!/Process/.test(e)}):n=function(e){return!/Process/.test(e)};var h=n?Ot.filter(n):Ot.concat();if(c&&s&&(o.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",o.RevertItemProcessing.icon="GET_ICON_REMOVE"),d&&!s){var p=Vt.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=Rt,p.info.translateY=Nt,p.status.translateY=Nt,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(d&&!u&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(e){Vt[e].status.translateY=Nt})),Vt.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Pt),f&&s){o.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var m=Vt.DID_COMPLETE_ITEM_PROCESSING;m.info.translateX=Dt,m.status.translateY=Nt,m.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}l||(o.RemoveItem.disabled=!0),t(o,(function(e,t){var n=i.createChildView(vt,{label:i.query(t.label),icon:i.query(t.icon),opacity:0});h.includes(e)&&i.appendChildView(n),t.disabled&&(n.element.setAttribute("disabled","disabled"),n.element.setAttribute("hidden","hidden")),n.element.dataset.align=i.query("GET_STYLE_"+t.align),n.element.classList.add(t.className),n.on("click",(function(e){e.stopPropagation(),t.disabled||i.dispatch(t.action,{query:a})})),i.ref["button"+e]=n})),i.ref.processingCompleteIndicator=i.appendChildView(i.createChildView($t)),i.ref.processingCompleteIndicator.element.dataset.align=i.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),i.ref.info=i.appendChildView(i.createChildView(St,{id:a})),i.ref.status=i.appendChildView(i.createChildView(It,{id:a}));var g=i.appendChildView(i.createChildView(gt,{opacity:0,align:i.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));g.element.classList.add("filepond--load-indicator"),i.ref.loadProgressIndicator=g;var v=i.appendChildView(i.createChildView(gt,{opacity:0,align:i.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));v.element.classList.add("filepond--process-indicator"),i.ref.processProgressIndicator=v,i.ref.activeStyles=[]},write:function(e){var n=e.root,i=e.actions,r=e.props;jt({root:n,actions:i,props:r});var o=i.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return Vt[e.type]}));if(o){n.ref.activeStyles=[];var a=Vt[o.type];t(Ft,(function(e,i){var r=n.ref[e];t(i,(function(t,i){var o=a[e]&&void 0!==a[e][t]?a[e][t]:i;n.ref.activeStyles.push({control:r,key:t,value:o})}))}))}n.ref.activeStyles.forEach((function(e){var t=e.control,i=e.key,r=e.value;t[i]="function"==typeof r?r(n):r}))},didCreateView:function(e){he("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),zt=E({create:function(e){var t=e.root,n=e.props;t.ref.fileName=ht("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(Ut,{id:n.id})),t.ref.data=!1},ignoreRect:!0,write:C({DID_LOAD_ITEM:function(e){var t=e.root,n=e.props;pt(t.ref.fileName,t.query("GET_ITEM_NAME",n.id))}}),didCreateView:function(e){he("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),qt={type:"spring",damping:.6,mass:7},Ht=E({name:"panel",read:function(e){var t=e.root;return e.props.heightCurrent=t.ref.bottom.translateY},write:function(e){var t=e.root,n=e.props;if(null!==t.ref.scalable&&n.scalable===t.ref.scalable||(t.ref.scalable=!D(n.scalable)||n.scalable,t.element.dataset.scalable=t.ref.scalable),n.height){var i=t.ref.top.rect.element,r=t.ref.bottom.rect.element,o=Math.max(i.height+r.height,n.height);t.ref.center.translateY=i.height,t.ref.center.scaleY=(o-i.height-r.height)/100,t.ref.bottom.translateY=o-r.height}},create:function(e){var t=e.root,n=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:qt},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:qt},styles:["translateY"]}}].forEach((function(e){!function(e,t,n){var i=E({name:"panel-"+t.name+" filepond--"+n,mixins:t.mixins,ignoreRectUpdate:!0}),r=e.createChildView(i,t.props);e.ref[t.name]=e.appendChildView(r)}(t,e,n.name)})),t.element.classList.add("filepond--"+n.name),t.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Gt={type:"spring",stiffness:.75,damping:.45,mass:10},Wt={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Yt=C({DID_UPDATE_PANEL_HEIGHT:function(e){var t=e.root,n=e.action;t.height=n.height}}),Kt=C({DID_GRAB_ITEM:function(e){var t=e.root;e.props.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:function(e){e.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(e){var t=e.root,n=e.props;n.dragOffset=null,n.dragOrigin=null,t.element.dataset.dragState="drop"}},(function(e){var t=e.root,n=e.actions,i=e.props,r=e.shouldOptimize;"drop"===t.element.dataset.dragState&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var o=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return Wt[e.type]}));o&&o.type!==i.currentState&&(i.currentState=o.type,t.element.dataset.filepondItemState=Wt[i.currentState]||"");var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");a?r||(t.height=t.rect.element.width*a):(Yt({root:t,actions:n,props:i}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),r&&(t.ref.panel.height=null),t.ref.panel.height=t.height})),Xt=E({create:function(e){var t=e.root,n=e.props;t.ref.handleClick=function(e){return t.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},t.element.id="filepond--item-"+n.id,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(zt,{id:n.id})),t.ref.panel=t.appendChildView(t.createChildView(Ht,{name:"item-panel"})),t.ref.panel.height=null,n.markedForRemoval=!1,t.query("GET_ALLOW_REORDER")&&(t.element.dataset.dragState="idle",t.element.addEventListener("pointerdown",(function(e){if(e.isPrimary){var i=!1,r=e.pageX,o=e.pageY;n.dragOrigin={x:t.translateX,y:t.translateY},n.dragCenter={x:e.offsetX,y:e.offsetY};var a,s,l,u=(a=t.query("GET_ACTIVE_ITEMS"),s=a.map((function(e){return e.id})),l=void 0,{setIndex:function(e){l=e},getIndex:function(){return l},getItemIndex:function(e){return s.indexOf(e.id)}});t.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:u});var c=function(e){e.isPrimary&&(e.stopPropagation(),e.preventDefault(),n.dragOffset={x:e.pageX-r,y:e.pageY-o},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!i&&(i=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:u}))};document.addEventListener("pointermove",c),document.addEventListener("pointerup",(function e(a){a.isPrimary&&(document.removeEventListener("pointermove",c),document.removeEventListener("pointerup",e),n.dragOffset={x:a.pageX-r,y:a.pageY-o},t.dispatch("DID_DROP_ITEM",{id:n.id,dragState:u}),i&&setTimeout((function(){return t.element.addEventListener("click",t.ref.handleClick)}),0))}))}})))},write:Kt,destroy:function(e){var t=e.root,n=e.props;t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:"spring",scaleY:"spring",translateX:Gt,translateY:Gt,opacity:{type:"tween",duration:150}}}}),Zt=function(e,t){return Math.max(1,Math.floor((e+1)/t))},Qt=function(e,t,n){if(n){var i=e.rect.element.width,r=t.length,o=null;if(0===r||n.top<t[0].rect.element.top)return-1;var a=t[0].rect.element,s=a.marginLeft+a.marginRight,l=a.width+s,u=Zt(i,l);if(1===u){for(var c=0;c<r;c++){var d=t[c],f=d.rect.outer.top+.5*d.rect.element.height;if(n.top<f)return c}return r}for(var h=a.marginTop+a.marginBottom,p=a.height+h,m=0;m<r;m++){var g=m%u*l,v=Math.floor(m/u)*p,y=v-a.marginTop,b=g+l,_=v+p+a.marginBottom;if(n.top<_&&n.top>y){if(n.left<b)return m;o=m!==r-1?m:null}}return null!==o?o:r}},Jt={height:0,width:0,get getHeight(){return this.height},set setHeight(e){0!==this.height&&0!==e||(this.height=e)},get getWidth(){return this.width},set setWidth(e){0!==this.width&&0!==e||(this.width=e)},setDimensions:function(e,t){0!==this.height&&0!==e||(this.height=e),0!==this.width&&0!==t||(this.width=t)}},en=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(0===e.opacity&&tn(e,t,n,i,r),e.scaleX=1,e.scaleY=1,e.opacity=1))},tn=function(e,t,n,i,r){5===e.interactionMethod?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):2===e.interactionMethod?(e.translateX=null,e.translateX=t-20*i,e.translateY=null,e.translateY=n-10*r,e.scaleX=.8,e.scaleY=.8):3===e.interactionMethod?(e.translateY=null,e.translateY=n-30):1===e.interactionMethod&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},nn=function(e){return e.rect.element.height+.5*e.rect.element.marginBottom+.5*e.rect.element.marginTop},rn=C({DID_ADD_ITEM:function(e){var t=e.root,n=e.action,i=n.id,r=n.index,o=n.interactionMethod;t.ref.addIndex=r;var a=Date.now(),s=a,l=1;if(5!==o){l=0;var u=t.query("GET_ITEM_INSERT_INTERVAL"),c=a-t.ref.lastItemSpanwDate;s=c<u?a+(u-c):a}t.ref.lastItemSpanwDate=s,t.appendChildView(t.createChildView(Xt,{spawnDate:s,id:i,opacity:l,interactionMethod:o}),r)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action.id,i=t.childViews.find((function(e){return e.id===n}));i&&(i.scaleX=.9,i.scaleY=.9,i.opacity=0,i.markedForRemoval=!0)},DID_DRAG_ITEM:function(e){var t=e.root,n=e.action,i=n.id,r=n.dragState,o=t.query("GET_ITEM",{id:i}),a=t.childViews.find((function(e){return e.id===i})),s=t.childViews.length,l=r.getItemIndex(o);if(a){var u,c=a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,d=a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y,f=nn(a),h=(u=a).rect.element.width+.5*u.rect.element.marginLeft+.5*u.rect.element.marginRight,p=Math.floor(t.rect.outer.width/h);p>s&&(p=s);var m=Math.floor(s/p+1);Jt.setHeight=f*m,Jt.setWidth=h*p;var g={y:Math.floor(d/f),x:Math.floor(c/h),getGridIndex:function(){return d>Jt.getHeight||d<0||c>Jt.getWidth||c<0?l:this.y*p+this.x},getColIndex:function(){for(var e=t.query("GET_ACTIVE_ITEMS"),n=t.childViews.filter((function(e){return e.rect.element.height})),i=e.map((function(e){return n.find((function(t){return t.id===e.id}))})),r=i.findIndex((function(e){return e===a})),o=nn(a),s=i.length,l=s,u=0,c=0,f=0,h=0;h<s;h++)if(u=nn(i[h]),d<(c=(f=c)+u)){if(r>h){if(d<f+o){l=h;break}continue}l=h;break}return l}},v=p>1?g.getGridIndex():g.getColIndex();t.dispatch("MOVE_ITEM",{query:a,index:v});var y=r.getIndex();if(void 0===y||y!==v){if(r.setIndex(v),void 0===y)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:l,target:v})}}}}),on=E({create:function(e){var t=e.root;i(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},write:function(e){var t=e.root,n=e.props,i=e.actions,r=e.shouldOptimize;rn({root:t,props:n,actions:i});var o=n.dragCoordinates,a=t.rect.element.width,s=t.childViews.filter((function(e){return e.rect.element.height})),l=t.query("GET_ACTIVE_ITEMS").map((function(e){return s.find((function(t){return t.id===e.id}))})).filter((function(e){return e})),u=o?Qt(t,l,o):null,c=t.ref.addIndex||null;t.ref.addIndex=null;var d=0,f=0,h=0;if(0!==l.length){var p=l[0].rect.element,m=p.marginTop+p.marginBottom,g=p.marginLeft+p.marginRight,v=p.width+g,y=p.height+m,b=Zt(a,v);if(1===b){var _=0,w=0;l.forEach((function(e,t){if(u){var n=t-u;w=-2===n?.25*-m:-1===n?.75*-m:0===n?.75*m:1===n?.25*m:0}r&&(e.translateX=null,e.translateY=null),e.markedForRemoval||en(e,0,_+w);var i=(e.rect.element.height+m)*(e.markedForRemoval?e.opacity:1);_+=i}))}else{var S=0,E=0;l.forEach((function(e,t){t===u&&(d=1),t===c&&(h+=1),e.markedForRemoval&&e.opacity<.5&&(f-=1);var n=t+h+d+f,i=n%b,o=Math.floor(n/b),a=i*v,s=o*y,l=Math.sign(a-S),p=Math.sign(s-E);S=a,E=s,e.markedForRemoval||(r&&(e.translateX=null,e.translateY=null),en(e,a,s,l,p))}))}}},tag:"ul",name:"list",didWriteView:function(e){var t=e.root;t.childViews.filter((function(e){return e.markedForRemoval&&0===e.opacity&&e.resting})).forEach((function(e){e._destroy(),t.removeChildView(e)}))},filterFrameActionsForChild:function(e,t){return t.filter((function(t){return!t.data||!t.data.id||e.id===t.data.id}))},mixins:{apis:["dragCoordinates"]}}),an=C({DID_DRAG:function(e){var t=e.root,n=e.props,i=e.action;t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:i.position.scopeLeft-t.ref.list.rect.element.left,top:i.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},DID_END_DRAG:function(e){e.props.dragCoordinates=null}}),sn=E({create:function(e){var t=e.root,n=e.props;t.ref.list=t.appendChildView(t.createChildView(on)),n.dragCoordinates=null,n.overflowing=!1},write:function(e){var t=e.root,n=e.props,i=e.actions;if(an({root:t,props:n,actions:i}),t.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,t.element.dataset.state="",t.height=null),n.overflow){var r=Math.round(n.overflow);r!==t.height&&(n.overflowing=!0,t.element.dataset.state="overflow",t.height=r)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),ln=function(e,t,n){n?i(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):e.removeAttribute(t)},un=function(e){var t=e.root,n=e.action;t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&ln(t.element,"accept",!!n.value,n.value?n.value.join(","):"")},cn=function(e){var t=e.root,n=e.action;ln(t.element,"multiple",n.value)},dn=function(e){var t=e.root,n=e.action;ln(t.element,"webkitdirectory",n.value)},fn=function(e){var t=e.root,n=t.query("GET_DISABLED"),i=t.query("GET_ALLOW_BROWSE"),r=n||!i;ln(t.element,"disabled",r)},hn=function(e){var t=e.root;e.action.value?0===t.query("GET_TOTAL_ITEMS")&&ln(t.element,"required",!0):ln(t.element,"required",!1)},pn=function(e){var t=e.root,n=e.action;ln(t.element,"capture",!!n.value,!0===n.value?"":n.value)},mn=function(e){var t=e.root,n=t.element;t.query("GET_TOTAL_ITEMS")>0?(ln(n,"required",!1),ln(n,"name",!1)):(ln(n,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),t.query("GET_REQUIRED")&&ln(n,"required",!0))},gn=E({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:function(e){var t=e.root,n=e.props;t.element.id="filepond--browser-"+n.id,i(t.element,"name",t.query("GET_NAME")),i(t.element,"aria-controls","filepond--assistant-"+n.id),i(t.element,"aria-labelledby","filepond--drop-label-"+n.id),un({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),cn({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),dn({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),fn({root:t}),hn({root:t,action:{value:t.query("GET_REQUIRED")}}),pn({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=function(e){if(t.element.value){var i=Array.from(t.element.files).map((function(e){return e._relativePath=e.webkitRelativePath,e}));setTimeout((function(){n.onload(i),function(e){if(e&&""!==e.value){try{e.value=""}catch(e){}if(e.value){var t=ht("form"),n=e.parentNode,i=e.nextSibling;t.appendChild(e),t.reset(),i?n.insertBefore(e,i):n.appendChild(e)}}}(t.element)}),250)}},t.element.addEventListener("change",t.ref.handleChange)},destroy:function(e){var t=e.root;t.element.removeEventListener("change",t.ref.handleChange)},write:C({DID_LOAD_ITEM:mn,DID_REMOVE_ITEM:mn,DID_THROW_ITEM_INVALID:function(e){var t=e.root;t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:fn,DID_SET_ALLOW_BROWSE:fn,DID_SET_ALLOW_DIRECTORIES_ONLY:dn,DID_SET_ALLOW_MULTIPLE:cn,DID_SET_ACCEPTED_FILE_TYPES:un,DID_SET_CAPTURE_METHOD:pn,DID_SET_REQUIRED:hn})}),vn=function(e,t){e.innerHTML=t;var n=e.querySelector(".filepond--label-action");return n&&i(n,"tabindex","0"),t},yn=E({name:"drop-label",ignoreRect:!0,create:function(e){var t=e.root,n=e.props,r=ht("label");i(r,"for","filepond--browser-"+n.id),i(r,"id","filepond--drop-label-"+n.id),i(r,"aria-hidden","true"),t.ref.handleKeyDown=function(e){(13===e.keyCode||32===e.keyCode)&&(e.preventDefault(),t.ref.label.click())},t.ref.handleClick=function(e){e.target===r||r.contains(e.target)||t.ref.label.click()},r.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),vn(r,n.caption),t.appendChild(r),t.ref.label=r},destroy:function(e){var t=e.root;t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:C({DID_SET_LABEL_IDLE:function(e){var t=e.root,n=e.action;vn(t.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),bn=E({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),_n=C({DID_DRAG:function(e){var t=e.root,n=e.action;t.ref.blob?(t.ref.blob.translateX=n.position.scopeLeft,t.ref.blob.translateY=n.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1):function(e){var t=e.root,n=.5*t.rect.element.width,i=.5*t.rect.element.height;t.ref.blob=t.appendChildView(t.createChildView(bn,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:i}))}({root:t})},DID_DROP:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},DID_END_DRAG:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.opacity=0)}}),wn=E({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:function(e){var t=e.root,n=e.props,i=e.actions;_n({root:t,props:n,actions:i});var r=t.ref.blob;0===i.length&&r&&0===r.opacity&&(t.removeChildView(r),t.ref.blob=null)}}),Sn=function(e,t){try{var n=new DataTransfer;t.forEach((function(e){e instanceof File?n.items.add(e):n.items.add(new File([e],e.name,{type:e.type}))})),e.files=n.files}catch(e){return!1}return!0},En=function(e,t){return e.ref.fields[t]},Cn=function(e){e.query("GET_ACTIVE_ITEMS").forEach((function(t){e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])}))},xn=function(e){var t=e.root;return Cn(t)},Tn=C({DID_SET_DISABLED:function(e){var t=e.root;t.element.disabled=t.query("GET_DISABLED")},DID_ADD_ITEM:function(e){var t=e.root,n=e.action,i=!(t.query("GET_ITEM",n.id).origin===se.LOCAL)&&t.query("SHOULD_UPDATE_FILE_INPUT"),r=ht("input");r.type=i?"file":"hidden",r.name=t.query("GET_NAME"),r.disabled=t.query("GET_DISABLED"),t.ref.fields[n.id]=r,Cn(t)},DID_LOAD_ITEM:function(e){var t=e.root,n=e.action,i=En(t,n.id);if(i&&(null!==n.serverFileReference&&(i.value=n.serverFileReference),t.query("SHOULD_UPDATE_FILE_INPUT"))){var r=t.query("GET_ITEM",n.id);Sn(i,[r.file])}},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action,i=En(t,n.id);i&&(i.parentNode&&i.parentNode.removeChild(i),delete t.ref.fields[n.id])},DID_DEFINE_VALUE:function(e){var t=e.root,n=e.action,i=En(t,n.id);i&&(null===n.value?i.removeAttribute("value"):i.value=n.value,Cn(t))},DID_PREPARE_OUTPUT:function(e){var t=e.root,n=e.action;t.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout((function(){var e=En(t,n.id);e&&Sn(e,[n.file])}),0)},DID_REORDER_ITEMS:xn,DID_SORT_ITEMS:xn}),In=E({tag:"fieldset",name:"data",create:function(e){return e.root.ref.fields={}},write:Tn,ignoreRect:!0}),kn=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],On=["css","csv","html","txt"],An={zip:"zip|compressed",epub:"application/epub+zip"},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),kn.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):On.includes(e)?"text/"+e:An[e]||""},Pn=function(e){return new Promise((function(t,n){var i=Un(e);if(i.length&&!Nn(e))return t(i);Rn(e).then(t)}))},Nn=function(e){return!!e.files&&e.files.length>0},Rn=function(e){return new Promise((function(t,n){var i=(e.items?Array.from(e.items):[]).filter((function(e){return Ln(e)})).map((function(e){return Fn(e)}));i.length?Promise.all(i).then((function(e){var n=[];e.forEach((function(e){n.push.apply(n,e)})),t(n.filter((function(e){return e})).map((function(e){return e._relativePath||(e._relativePath=e.webkitRelativePath),e})))})).catch(console.error):t(e.files?Array.from(e.files):[])}))},Ln=function(e){if($n(e)){var t=jn(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},Fn=function(e){return new Promise((function(t,n){Vn(e)?Mn(jn(e)).then(t).catch(n):t([e.getAsFile()])}))},Mn=function(e){return new Promise((function(t,n){var i=[],r=0,o=0,a=function(){0===o&&0===r&&t(i)};!function e(t){r++;var s=t.createReader();!function t(){s.readEntries((function(n){if(0===n.length)return r--,void a();n.forEach((function(t){t.isDirectory?e(t):(o++,t.file((function(e){var n=Bn(e);t.fullPath&&(n._relativePath=t.fullPath),i.push(n),o--,a()})))})),t()}),n)}()}(e)}))},Bn=function(e){if(e.type.length)return e;var t=e.lastModifiedDate,n=e.name,i=Dn(Ne(e.name));return i.length?((e=e.slice(0,e.size,i)).name=n,e.lastModifiedDate=t,e):e},Vn=function(e){return $n(e)&&(jn(e)||{}).isDirectory},$n=function(e){return"webkitGetAsEntry"in e},jn=function(e){return e.webkitGetAsEntry()},Un=function(e){var t=[];try{if((t=qn(e)).length)return t;t=zn(e)}catch(e){}return t},zn=function(e){var t=e.getData("url");return"string"==typeof t&&t.length?[t]:[]},qn=function(e){var t=e.getData("text/html");if("string"==typeof t&&t.length){var n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Hn=[],Gn=function(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},Wn=function(e){var n=[],i={dragenter:Zn,dragover:Qn,dragleave:ei,drop:Jn},r={};t(i,(function(t,i){r[t]=i(e,n),e.addEventListener(t,r[t],!1)}));var o={element:e,addListener:function(a){return n.push(a),function(){n.splice(n.indexOf(a),1),0===n.length&&(Hn.splice(Hn.indexOf(o),1),t(i,(function(t){e.removeEventListener(t,r[t],!1)})))}}};return o},Yn=function(e,t){var n,i=function(e,t){return"elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)}("getRootNode"in(n=t)?n.getRootNode():document,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return i===t||t.contains(i)},Kn=null,Xn=function(e,t){try{e.dropEffect=t}catch(e){}},Zn=function(e,t){return function(e){e.preventDefault(),Kn=e.target,t.forEach((function(t){var n=t.element,i=t.onenter;Yn(e,n)&&(t.state="enter",i(Gn(e)))}))}},Qn=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;Pn(n).then((function(i){var r=!1;t.some((function(t){var o=t.filterElement,a=t.element,s=t.onenter,l=t.onexit,u=t.ondrag,c=t.allowdrop;Xn(n,"copy");var d=c(i);if(d)if(Yn(e,a)){if(r=!0,null===t.state)return t.state="enter",void s(Gn(e));if(t.state="over",o&&!d)return void Xn(n,"none");u(Gn(e))}else o&&!r&&Xn(n,"none"),t.state&&(t.state=null,l(Gn(e)));else Xn(n,"none")}))}))}},Jn=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;Pn(n).then((function(n){t.forEach((function(t){var i=t.filterElement,r=t.element,o=t.ondrop,a=t.onexit,s=t.allowdrop;if(t.state=null,!i||Yn(e,r))return s(n)?void o(Gn(e),n):a(Gn(e))}))}))}},ei=function(e,t){return function(e){Kn===e.target&&t.forEach((function(t){var n=t.onexit;t.state=null,n(Gn(e))}))}},ti=function(e,t,n){e.classList.add("filepond--hopper");var i=n.catchesDropsOnPage,r=n.requiresDropOnElement,o=n.filterItems,a=void 0===o?function(e){return e}:o,s=function(e,t,n){var i=function(e){var t=Hn.find((function(t){return t.element===e}));if(t)return t;var n=Wn(e);return Hn.push(n),n}(t),r={element:e,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return r.destroy=i.addListener(r),r}(e,i?document.documentElement:e,r),l="",u="";s.allowdrop=function(e){return t(a(e))},s.ondrop=function(e,n){var i=a(n);t(i)?(u="drag-drop",c.onload(i,e)):c.ondragend(e)},s.ondrag=function(e){c.ondrag(e)},s.onenter=function(e){u="drag-over",c.ondragstart(e)},s.onexit=function(e){u="drag-exit",c.ondragend(e)};var c={updateHopperState:function(){l!==u&&(e.dataset.hopperState=u,l=u)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){s.destroy()}};return c},ni=!1,ii=[],ri=function(e){var t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){for(var n=!1,i=t;i!==document.body;){if(i.classList.contains("filepond--root")){n=!0;break}i=i.parentNode}if(!n)return}Pn(e.clipboardData).then((function(e){e.length&&ii.forEach((function(t){return t(e)}))}))},oi=null,ai=null,si=[],li=function(e,t){e.element.textContent=t},ui=function(e,t,n){var i=e.query("GET_TOTAL_ITEMS");li(e,n+" "+t+", "+i+" "+(1===i?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(ai),ai=setTimeout((function(){!function(e){e.element.textContent=""}(e)}),1500)},ci=function(e){return e.element.parentNode.contains(document.activeElement)},di=function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id).filename,r=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");li(t,i+" "+r)},fi=function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id).filename;li(t,n.status.main+" "+i+" "+n.status.sub)},hi=E({create:function(e){var t=e.root,n=e.props;t.element.id="filepond--assistant-"+n.id,i(t.element,"role","status"),i(t.element,"aria-live","polite"),i(t.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:C({DID_LOAD_ITEM:function(e){var t=e.root,n=e.action;if(ci(t)){t.element.textContent="";var i=t.query("GET_ITEM",n.id);si.push(i.filename),clearTimeout(oi),oi=setTimeout((function(){ui(t,si.join(", "),t.query("GET_LABEL_FILE_ADDED")),si.length=0}),750)}},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action;if(ci(t)){var i=n.item;ui(t,i.filename,t.query("GET_LABEL_FILE_REMOVED"))}},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id).filename,r=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");li(t,i+" "+r)},DID_ABORT_ITEM_PROCESSING:di,DID_REVERT_ITEM_PROCESSING:di,DID_THROW_ITEM_REMOVE_ERROR:fi,DID_THROW_ITEM_LOAD_ERROR:fi,DID_THROW_ITEM_INVALID:fi,DID_THROW_ITEM_PROCESSING_ERROR:fi}),tag:"span",name:"assistant"}),pi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp(t+".","g"),(function(e){return e.charAt(1).toUpperCase()}))},mi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Date.now(),r=null;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];clearTimeout(r);var l=Date.now()-i,u=function(){i=Date.now(),e.apply(void 0,a)};l<t?n||(r=setTimeout(u,t-l)):u()}},gi=function(e){return e.preventDefault()},vi=function(e,t){var n=e.query("GET_ALLOW_REPLACE"),i=e.query("GET_ALLOW_MULTIPLE"),r=e.query("GET_TOTAL_ITEMS"),o=e.query("GET_MAX_FILES"),a=t.length;return!i&&a>1||!!(M(o=i||n?o:1)&&r+a>o)&&(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ge("warning",0,"Max files")}),!0)},yi=function(e,t,n){var i=e.childViews[0];return Qt(i,t,{left:n.scopeLeft-i.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},bi=function(e){var t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),i=t&&!n;if(i&&!e.ref.hopper){var r=ti(e.element,(function(t){var n=e.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!e.query("GET_DROP_VALIDATION")||t.every((function(t){return he("ALLOW_HOPPER_ITEM",t,{query:e.query}).every((function(e){return!0===e}))&&n(t)}))}),{filterItems:function(t){var n=e.query("GET_IGNORED_FILES");return t.filter((function(e){return!tt(e)||!n.includes(e.name.toLowerCase())}))},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});r.onload=function(t,n){var i=e.ref.list.childViews[0].childViews.filter((function(e){return e.rect.element.height})),r=e.query("GET_ACTIVE_ITEMS").map((function(e){return i.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));fe("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(vi(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:yi(e.ref.list,r,n),interactionMethod:2})})),e.dispatch("DID_DROP",{position:n}),e.dispatch("DID_END_DRAG",{position:n})},r.ondragstart=function(t){e.dispatch("DID_START_DRAG",{position:t})},r.ondrag=mi((function(t){e.dispatch("DID_DRAG",{position:t})})),r.ondragend=function(t){e.dispatch("DID_END_DRAG",{position:t})},e.ref.hopper=r,e.ref.drip=e.appendChildView(e.createChildView(wn))}else!i&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},_i=function(e,t){var n=e.query("GET_ALLOW_BROWSE"),i=e.query("GET_DISABLED"),r=n&&!i;r&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(gn,Object.assign({},t,{onload:function(t){fe("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(vi(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:3})}))}})),0):!r&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},wi=function(e){var t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),i=t&&!n;i&&!e.ref.paster?(e.ref.paster=function(){var e=function(e){t.onload(e)},t={destroy:function(){var t;t=e,te(ii,ii.indexOf(t)),0===ii.length&&(document.removeEventListener("paste",ri),ni=!1)},onload:function(){}};return function(e){ii.includes(e)||(ii.push(e),ni||(ni=!0,document.addEventListener("paste",ri)))}(e),t}(),e.ref.paster.onload=function(t){fe("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(vi(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:4})}))}):!i&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},Si=C({DID_SET_ALLOW_BROWSE:function(e){var t=e.root,n=e.props;_i(t,n)},DID_SET_ALLOW_DROP:function(e){var t=e.root;bi(t)},DID_SET_ALLOW_PASTE:function(e){var t=e.root;wi(t)},DID_SET_DISABLED:function(e){var t=e.root,n=e.props;bi(t),wi(t),_i(t,n),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),Ei=E({name:"root",read:function(e){var t=e.root;t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:function(e){var t=e.root,n=e.props,i=t.query("GET_ID");i&&(t.element.id=i);var r=t.query("GET_CLASS_NAME");r&&r.split(" ").filter((function(e){return e.length})).forEach((function(e){t.element.classList.add(e)})),t.ref.label=t.appendChildView(t.createChildView(yn,Object.assign({},n,{translateY:null,caption:t.query("GET_LABEL_IDLE")}))),t.ref.list=t.appendChildView(t.createChildView(sn,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(Ht,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(hi,Object.assign({},n))),t.ref.data=t.appendChildView(t.createChildView(In,Object.assign({},n))),t.ref.measure=ht("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter((function(e){return!k(e.value)})).map((function(e){var n=e.name,i=e.value;t.element.dataset[n]=i})),t.ref.widthPrevious=null,t.ref.widthUpdated=mi((function(){t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")}),250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];var o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&a&&!o&&(t.element.addEventListener("touchmove",gi,{passive:!1}),t.element.addEventListener("gesturestart",gi));var s=t.query("GET_CREDITS");if(2===s.length){var l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=s[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=s[1],t.element.appendChild(l),t.ref.credits=l}},write:function(e){var t=e.root,n=e.props,i=e.actions;if(Si({root:t,props:n,actions:i}),i.filter((function(e){return/^DID_SET_STYLE_/.test(e.type)})).filter((function(e){return!k(e.data.value)})).map((function(e){var n=e.type,i=e.data,r=pi(n.substr(8).toLowerCase(),"_");t.element.dataset[r]=i.value,t.invalidateLayout()})),!t.rect.element.hidden){t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());var r=t.ref.bounds;r||(r=t.ref.bounds=function(e){var t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:0===t?null:t}}(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);var o=t.ref,a=o.hopper,s=o.label,l=o.list,u=o.panel;a&&a.updateHopperState();var c=t.query("GET_PANEL_ASPECT_RATIO"),d=t.query("GET_ALLOW_MULTIPLE"),f=t.query("GET_TOTAL_ITEMS"),h=f===(d?t.query("GET_MAX_FILES")||1e6:1),p=i.find((function(e){return"DID_ADD_ITEM"===e.type}));if(h&&p){var m=p.data.interactionMethod;s.opacity=0,d?s.translateY=-40:1===m?s.translateX=40:s.translateY=3===m?40:30}else h||(s.opacity=1,s.translateX=0,s.translateY=0);var g=function(e){var t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}}(t),v=function(e){var t=0,n=0,i=e.ref.list,r=i.childViews[0],o=r.childViews.filter((function(e){return e.rect.element.height})),a=e.query("GET_ACTIVE_ITEMS").map((function(e){return o.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));if(0===a.length)return{visual:t,bounds:n};var s=r.rect.element.width,l=Qt(r,a,i.dragCoordinates),u=a[0].rect.element,c=u.marginTop+u.marginBottom,d=u.marginLeft+u.marginRight,f=u.width+d,h=u.height+c,p=void 0!==l&&l>=0?1:0,m=a.find((function(e){return e.markedForRemoval&&e.opacity<.45}))?-1:0,g=a.length+p+m,v=Zt(s,f);return 1===v?a.forEach((function(e){var i=e.rect.element.height+c;n+=i,t+=i*e.opacity})):(n=Math.ceil(g/v)*h,t=n),{visual:t,bounds:n}}(t),y=s.rect.element.height,b=!d||h?0:y,_=h?l.rect.element.marginTop:0,w=0===f?0:l.rect.element.marginBottom,S=b+_+v.visual+w,E=b+_+v.bounds+w;if(l.translateY=Math.max(0,b-l.rect.element.marginTop)-g.top,c){var C=t.rect.element.width,x=C*c;c!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=c,t.ref.updateHistory=[]);var T=t.ref.updateHistory;if(T.push(C),T.length>4)for(var I=T.length,O=I-10,A=0,D=I;D>=O;D--)if(T[D]===T[D-2]&&A++,A>=2)return;u.scalable=!1,u.height=x;var P=x-b-(w-g.bottom)-(h?_:0);v.visual>P?l.overflow=P:l.overflow=null,t.height=x}else if(r.fixedHeight){u.scalable=!1;var N=r.fixedHeight-b-(w-g.bottom)-(h?_:0);v.visual>N?l.overflow=N:l.overflow=null}else if(r.cappedHeight){var R=S>=r.cappedHeight,L=Math.min(r.cappedHeight,S);u.scalable=!0,u.height=R?L:L-g.top-g.bottom;var F=L-b-(w-g.bottom)-(h?_:0);S>r.cappedHeight&&v.visual>F?l.overflow=F:l.overflow=null,t.height=Math.min(r.cappedHeight,E-g.top-g.bottom)}else{var M=f>0?g.top+g.bottom:0;u.scalable=!0,u.height=Math.max(y,S-M),t.height=Math.max(y,E-M)}t.ref.credits&&u.heightCurrent&&(t.ref.credits.style.transform="translateY("+u.heightCurrent+"px)")}},destroy:function(e){var t=e.root;t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",gi),t.element.removeEventListener("gesturestart",gi)},mixins:{styles:["height"]}}),Ci=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=null,r=me(),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.assign({},e),r=[],o=[],a=function(e,t,n){!n||document.hidden?(c[e]&&c[e](t),r.push({type:e,data:t})):o.push({type:e,data:t})},s=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return u[e]?(t=u)[e].apply(t,i):null},l={getState:function(){return Object.assign({},i)},processActionQueue:function(){var e=[].concat(r);return r.length=0,e},processDispatchQueue:function(){var e=[].concat(o);o.length=0,e.forEach((function(e){var t=e.type,n=e.data;a(t,n)}))},dispatch:a,query:s},u={};t.forEach((function(e){u=Object.assign({},e(i),{},u)}));var c={};return n.forEach((function(e){c=Object.assign({},e(a,s,i),{},c)})),l}({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:H(r)},[Oe,Y(r)],[dt,W(r)]);o.dispatch("SET_OPTIONS",{options:e});var a=function(){document.hidden||o.dispatch("KICK")};document.addEventListener("visibilitychange",a);var s=null,l=!1,u=!1,c=null,d=null,f=function(){l||(l=!0),clearTimeout(s),s=setTimeout((function(){l=!1,c=null,d=null,u&&(u=!1,o.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",f);var h=Ei(o,{id:K()}),p=!1,g=!1,v={_read:function(){l&&(d=window.innerWidth,c||(c=d),u||d===c||(o.dispatch("DID_START_RESIZE"),u=!0)),g&&p&&(p=null===h.element.offsetParent),p||(h._read(),g=h.rect.element.hidden)},_write:function(e){var t,n=o.processActionQueue().filter((function(e){return!/^SET_/.test(e.type)}));p&&!n.length||(w(n),p=h._write(e,n,u),(t=o.query("GET_ITEMS")).forEach((function(e,n){e.released&&te(t,n)})),p&&o.processDispatchQueue())}},y=function(e){return function(t){var n={type:e};if(!t)return n;if(t.hasOwnProperty("error")&&(n.error=t.error?Object.assign({},t.error):null),t.status&&(n.status=Object.assign({},t.status)),t.file&&(n.output=t.file),t.source)n.file=t.source;else if(t.item||t.id){var i=t.item?t.item:o.query("GET_ITEM",t.id);n.file=i?oe(i):null}return t.items&&(n.items=t.items.map(oe)),/progress/.test(e)&&(n.progress=t.progress),t.hasOwnProperty("origin")&&t.hasOwnProperty("target")&&(n.origin=t.origin,n.target=t.target),n}},b={DID_DESTROY:y("destroy"),DID_INIT:y("init"),DID_THROW_MAX_FILES:y("warning"),DID_INIT_ITEM:y("initfile"),DID_START_ITEM_LOAD:y("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:y("addfileprogress"),DID_LOAD_ITEM:y("addfile"),DID_THROW_ITEM_INVALID:[y("error"),y("addfile")],DID_THROW_ITEM_LOAD_ERROR:[y("error"),y("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[y("error"),y("removefile")],DID_PREPARE_OUTPUT:y("preparefile"),DID_START_ITEM_PROCESSING:y("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:y("processfileprogress"),DID_ABORT_ITEM_PROCESSING:y("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:y("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:y("processfiles"),DID_REVERT_ITEM_PROCESSING:y("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[y("error"),y("processfile")],DID_REMOVE_ITEM:y("removefile"),DID_UPDATE_ITEMS:y("updatefiles"),DID_ACTIVATE_ITEM:y("activatefile"),DID_REORDER_ITEMS:y("reorderfiles")},_=function(e){var t=Object.assign({pond:A},e);delete t.type,h.element.dispatchEvent(new CustomEvent("FilePond:"+e.type,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var n=[];e.hasOwnProperty("error")&&n.push(e.error),e.hasOwnProperty("file")&&n.push(e.file);var i=["type","error","file"];Object.keys(e).filter((function(e){return!i.includes(e)})).forEach((function(t){return n.push(e[t])})),A.fire.apply(A,[e.type].concat(n));var r=o.query("GET_ON"+e.type.toUpperCase());r&&r.apply(void 0,n)},w=function(e){e.length&&e.filter((function(e){return b[e.type]})).forEach((function(e){var t=b[e.type];(Array.isArray(t)?t:[t]).forEach((function(t){"DID_INIT_ITEM"===e.type?_(t(e.data)):setTimeout((function(){_(t(e.data))}),0)}))}))},S=function(e){return new Promise((function(t,n){o.dispatch("REQUEST_ITEM_PREPARE",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},E=function(e,t){var n;return"object"!=typeof e||(n=e).file&&n.id||t||(t=e,e=void 0),o.dispatch("REMOVE_ITEM",Object.assign({},t,{query:e})),null===o.query("GET_ACTIVE_ITEM",e)},C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){var i=[],r={};if(I(t[0]))i.push.apply(i,t[0]),Object.assign(r,t[1]||{});else{var a=t[t.length-1];"object"!=typeof a||a instanceof Blob||Object.assign(r,t.pop()),i.push.apply(i,t)}o.dispatch("ADD_ITEMS",{items:i,index:r.index,interactionMethod:1,success:e,failure:n})}))},k=function(){return o.query("GET_ACTIVE_ITEMS")},O=function(e){return new Promise((function(t,n){o.dispatch("REQUEST_ITEM_PROCESSING",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},A=Object.assign({},ne(),{},v,{},function(e,n){var i={};return t(n,(function(t){i[t]={get:function(){return e.getState().options[t]},set:function(n){e.dispatch("SET_"+G(t,"_").toUpperCase(),{value:n})}}})),i}(o,r),{setOptions:function(e){return o.dispatch("SET_OPTIONS",{options:e})},addFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){C([{source:e,options:t}],{index:t.index}).then((function(e){return n(e&&e[0])})).catch(i)}))},addFiles:C,getFile:function(e){return o.query("GET_ACTIVE_ITEM",e)},processFile:O,prepareFile:S,removeFile:E,moveFile:function(e,t){return o.dispatch("MOVE_ITEM",{query:e,index:t})},getFiles:k,processFiles:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0])?t[0]:t;if(!i.length){var r=k().filter((function(e){return!(e.status===ae.IDLE&&e.origin===se.LOCAL)&&e.status!==ae.PROCESSING&&e.status!==ae.PROCESSING_COMPLETE&&e.status!==ae.PROCESSING_REVERT_ERROR}));return Promise.all(r.map(O))}return Promise.all(i.map(O))},removeFiles:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=Array.isArray(t[0])?t[0]:t;"object"==typeof r[r.length-1]?i=r.pop():Array.isArray(t[0])&&(i=t[1]);var o=k();return r.length?r.map((function(e){return m(e)?o[e]?o[e].id:null:e})).filter((function(e){return e})).map((function(e){return E(e,i)})):Promise.all(o.map((function(e){return E(e,i)})))},prepareFiles:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0])?t[0]:t,r=i.length?i:k();return Promise.all(r.map(S))},sort:function(e){return o.dispatch("SORT",{compare:e})},browse:function(){var e=h.element.querySelector("input[type=file]");e&&e.click()},destroy:function(){A.fire("destroy",h.element),o.dispatch("ABORT_ALL"),h._destroy(),window.removeEventListener("resize",f),document.removeEventListener("visibilitychange",a),o.dispatch("DID_DESTROY")},insertBefore:function(e){return x(h.element,e)},insertAfter:function(e){return T(h.element,e)},appendTo:function(e){return e.appendChild(h.element)},replaceElement:function(e){x(h.element,e),e.parentNode.removeChild(e),i=e},restoreElement:function(){i&&(T(i,h.element),h.element.parentNode.removeChild(h.element),i=null)},isAttachedTo:function(e){return h.element===e||i===e},element:{get:function(){return h.element}},status:{get:function(){return o.query("GET_STATUS")}}});return o.dispatch("DID_INIT"),n(A)},xi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return t(me(),(function(e,t){n[e]=t[0]})),Ci(Object.assign({},n,{},e))},Ti=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];t(e.attributes,(function(t){r.push(e.attributes[t])}));var o=r.filter((function(e){return e.name})).reduce((function(t,n){var r,o=i(e,n.name);return t[(r=n.name,pi(r.replace(/^data-/,"")))]=o===n.name||o,t}),{});return function e(n,i){t(i,(function(i,r){t(n,(function(e,t){var o=new RegExp(i);if(o.test(e)&&(delete n[e],!1!==r))if(N(r))n[r]=t;else{var a,s=r.group;j(r)&&!n[s]&&(n[s]={}),n[s][(a=e.replace(o,""),a.charAt(0).toLowerCase()+a.slice(1))]=t}})),r.mapping&&e(n[r.group],r.mapping)}))}(o,n),o},Ii=function(){return(arguments.length<=0?void 0:arguments[0])instanceof HTMLElement?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};he("SET_ATTRIBUTE_TO_OPTION_MAP",n);var i=Object.assign({},t),r=Ti("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,n);Object.keys(r).forEach((function(e){j(r[e])?(j(i[e])||(i[e]={}),Object.assign(i[e],r[e])):i[e]=r[e]})),i.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map((function(e){return{source:e.value,options:{type:e.dataset.type}}})));var o=xi(i);return e.files&&Array.from(e.files).forEach((function(e){o.addFile(e)})),o.replaceElement(e),o}.apply(void 0,arguments):xi.apply(void 0,arguments)},ki=["fire","_read","_write"],Oi=function(e){var t={};return ie(e,t,ki),t},Ai=function(e,t){return e.replace(/(?:{([a-zA-Z]+)})/g,(function(e,n){return t[n]}))},Di=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),i=new Worker(n);return{transfer:function(e,t){},post:function(e,t,n){var r=K();i.onmessage=function(e){e.data.id===r&&t(e.data.message)},i.postMessage({id:r,message:e},n)},terminate:function(){i.terminate(),URL.revokeObjectURL(n)}}},Pi=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))},Ni=function(e,t){var n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},Ri=function(e){return Ni(e,e.name)},Li=[],Fi=function(e){var n;Li.includes(e)||(Li.push(e),n=e({addFilter:pe,utils:{Type:ce,forin:t,isString:N,isFile:tt,toNaturalFileSize:yt,replaceInString:Ai,getExtensionFromFilename:Ne,getFilenameWithoutExtension:et,guesstimateMimeType:Dn,getFileFromBlob:Fe,getFilenameFromURL:Pe,createRoute:C,createWorker:Di,createView:E,createItemAPI:oe,loadImage:Pi,copyFile:Ri,renameFile:Ni,createBlob:Me,applyFilterChain:fe,text:pt,getNumericAspectRatioFromString:ye},views:{fileActionButton:vt}}).options,Object.assign(ge,n))},Mi=(At=c()&&!("[object OperaMini]"===Object.prototype.toString.call(window.operamini))&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window&&("supports"in(window.CSS||{})||/MSIE|Trident/.test(window.navigator.userAgent)),function(){return At}),Bi={apps:[]},Vi=function(){};if(e.Status={},e.FileStatus={},e.FileOrigin={},e.OptionTypes={},e.create=Vi,e.destroy=Vi,e.parse=Vi,e.find=Vi,e.registerPlugin=Vi,e.getOptions=Vi,e.setOptions=Vi,Mi()){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,i="__framePainter";if(window[i])return window[i].readers.push(e),void window[i].writers.push(t);window[i]={readers:[e],writers:[t]};var r=window[i],o=1e3/n,a=null,s=null,l=null,u=null,c=function(){document.hidden?(l=function(){return window.setTimeout((function(){return d(performance.now())}),o)},u=function(){return window.clearTimeout(s)}):(l=function(){return window.requestAnimationFrame(d)},u=function(){return window.cancelAnimationFrame(s)})};document.addEventListener("visibilitychange",(function(){u&&u(),c(),d(performance.now())}));var d=function e(t){s=l(e),a||(a=t);var n=t-a;n<=o||(a=t-n%o,r.readers.forEach((function(e){return e()})),r.writers.forEach((function(e){return e(t)})))};c(),d(performance.now())}((function(){Bi.apps.forEach((function(e){return e._read()}))}),(function(e){Bi.apps.forEach((function(t){return t._write(e)}))}));var $i=function t(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Mi,create:e.create,destroy:e.destroy,parse:e.parse,find:e.find,registerPlugin:e.registerPlugin,setOptions:e.setOptions}})),document.removeEventListener("DOMContentLoaded",t)};"loading"!==document.readyState?setTimeout((function(){return $i()}),0):document.addEventListener("DOMContentLoaded",$i);var ji=function(){return t(me(),(function(t,n){e.OptionTypes[t]=n[1]}))};e.Status=Object.assign({},_e),e.FileOrigin=Object.assign({},se),e.FileStatus=Object.assign({},ae),e.OptionTypes={},ji(),e.create=function(){var t=Ii.apply(void 0,arguments);return t.on("destroy",e.destroy),Bi.apps.push(t),Oi(t)},e.destroy=function(e){var t=Bi.apps.findIndex((function(t){return t.isAttachedTo(e)}));return t>=0&&(Bi.apps.splice(t,1)[0].restoreElement(),!0)},e.parse=function(t){return Array.from(t.querySelectorAll(".filepond")).filter((function(e){return!Bi.apps.find((function(t){return t.isAttachedTo(e)}))})).map((function(t){return e.create(t)}))},e.find=function(e){var t=Bi.apps.find((function(t){return t.isAttachedTo(e)}));return t?Oi(t):null},e.registerPlugin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(Fi),ji()},e.getOptions=function(){var e={};return t(me(),(function(t,n){e[t]=n[0]})),e},e.setOptions=function(n){return j(n)&&(Bi.apps.forEach((function(e){e.setOptions(n)})),function(e){t(e,(function(e,t){ge[e]&&(ge[e][0]=q(t,ge[e][0],ge[e][1]))}))}(n)),e.getOptions()}}e.supported=Mi,Object.defineProperty(e,"__esModule",{value:!0})})),function(e,t){"use strict";e&&t&&(t.supported()?(e.fn.filepond=function(){var e=function(e){return Array.prototype.slice.call(e)}(arguments),n=[],i=this.each((function(){if(function(e){return!e.length||"object"==typeof e[0]}(e))t.create(this,e[0]);else{var i=t.find(this);if(i){var r=e[0],o=e.concat().slice(1);!function(e,t){return"function"==typeof e[t]}(i,r)?function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!n&&void 0!==n.set}(i,r)&&o.length?i[r]=o[0]:!function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!n&&void 0!==n.get}(i,r)?console.warn('$().filepond("'+r+'") is an unknown property or method.'):n.push(i[r]):n.push(i[r].apply(i,o))}}}));return n.length?1===this.length?n[0]:n:i},Object.keys(t).forEach((function(n){e.fn.filepond[n]=t[n]})),e.fn.filepond.setDefaults=t.setOptions):e.fn.filepond=function(){})}(jQuery,FilePond),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).FilePondPluginImagePreview=t()}(this,(function(){"use strict";function e(e){this.wrapped=e}function t(t){var n,i;function r(n,i){try{var a=t[n](i),s=a.value,l=s instanceof e;Promise.resolve(l?s.wrapped:s).then((function(e){l?r("next",e):o(a.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?r(n.key,n.arg):i=null}this._invoke=function(e,t){return new Promise((function(o,a){var s={key:e,arg:t,resolve:o,reject:a,next:null};i?i=i.next=s:(n=i=s,r(e,t))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)};function n(e,t){return i(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||r()}function i(e){if(Array.isArray(e))return e}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var o=function(e,t){return l(e.x*t,e.y*t)},a=function(e,t){return l(e.x+t.x,e.y+t.y)},s=function(e,t,n){var i=Math.cos(t),r=Math.sin(t),o=l(e.x-n.x,e.y-n.y);return l(n.x+i*o.x-r*o.y,n.y+r*o.x+i*o.y)},l=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;return"string"==typeof e?parseFloat(e)*n:"number"==typeof e?e*(i?t[i]:Math.min(t.width,t.height)):void 0},c=function(e){return null!=e},d=function(e,t){return Object.keys(t).forEach((function(n){return e.setAttribute(n,t[n])}))},f=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return t&&d(n,t),n},h={contain:"xMidYMid meet",cover:"xMidYMid slice"},p={left:"start",center:"middle",right:"end"},m=function(e){return function(t){return f(e,{id:t.id})}},g={image:function(e){var t=f("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},rect:m("rect"),ellipse:m("ellipse"),text:m("text"),path:m("path"),line:function(e){var t=f("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=f("line");t.appendChild(n);var i=f("path");t.appendChild(i);var r=f("path");return t.appendChild(r),t}},v={rect:function(e){return d(e,Object.assign({},e.rect,e.styles))},ellipse:function(e){var t=e.rect.x+.5*e.rect.width,n=e.rect.y+.5*e.rect.height,i=.5*e.rect.width,r=.5*e.rect.height;return d(e,Object.assign({cx:t,cy:n,rx:i,ry:r},e.styles))},image:function(e,t){d(e,Object.assign({},e.rect,e.styles,{preserveAspectRatio:h[t.fit]||"none"}))},text:function(e,t,n,i){var r=u(t.fontSize,n,i),o=t.fontFamily||"sans-serif",a=t.fontWeight||"normal",s=p[t.textAlign]||"start";d(e,Object.assign({},e.rect,e.styles,{"stroke-width":0,"font-weight":a,"font-size":r,"font-family":o,"text-anchor":s})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},path:function(e,t,n,i){var r;d(e,Object.assign({},e.styles,{fill:"none",d:(r=t.points.map((function(e){return{x:u(e.x,n,i,"width"),y:u(e.y,n,i,"height")}})),r.map((function(e,t){return"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)})).join(" "))}))},line:function(e,t,n,i){d(e,Object.assign({},e.rect,e.styles,{fill:"none"}));var r=e.childNodes[0],c=e.childNodes[1],f=e.childNodes[2],h=e.rect,p={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(d(r,{x1:h.x,y1:h.y,x2:p.x,y2:p.y}),t.lineDecoration){c.style.display="none",f.style.display="none";var m=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:l(e.x/t,e.y/t)}({x:p.x-h.x,y:p.y-h.y}),g=u(.05,n,i);if(-1!==t.lineDecoration.indexOf("arrow-begin")){var v=o(m,g),y=a(h,v),b=s(h,2,y),_=s(h,-2,y);d(c,{style:"display:block;",d:"M".concat(b.x,",").concat(b.y," L").concat(h.x,",").concat(h.y," L").concat(_.x,",").concat(_.y)})}if(-1!==t.lineDecoration.indexOf("arrow-end")){var w=o(m,-g),S=a(p,w),E=s(p,2,S),C=s(p,-2,S);d(f,{style:"display:block;",d:"M".concat(E.x,",").concat(E.y," L").concat(p.x,",").concat(p.y," L").concat(C.x,",").concat(C.y)})}}}},y=function(e,t,n,i,r){"path"!==t&&(e.rect=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=u(e.x,t,n,"width")||u(e.left,t,n,"width"),r=u(e.y,t,n,"height")||u(e.top,t,n,"height"),o=u(e.width,t,n,"width"),a=u(e.height,t,n,"height"),s=u(e.right,t,n,"width"),l=u(e.bottom,t,n,"height");return c(r)||(r=c(a)&&c(l)?t.height-a-l:l),c(i)||(i=c(o)&&c(s)?t.width-o-s:s),c(o)||(o=c(i)&&c(s)?t.width-i-s:0),c(a)||(a=c(r)&&c(l)?t.height-r-l:0),{x:i||0,y:r||0,width:o||0,height:a||0}}(n,i,r)),e.styles=function(e,t,n){var i=e.borderStyle||e.lineStyle||"solid",r=e.backgroundColor||e.fontColor||"transparent",o=e.borderColor||e.lineColor||"transparent",a=u(e.borderWidth||e.lineWidth,t,n);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof i?"":i.map((function(e){return u(e,t,n)})).join(","),stroke:o,fill:r,opacity:e.opacity||1}}(n,i,r),v[t](e,n,i,r)},b=["x","y","left","top","right","bottom","width","height"],_=function(e){var t=n(e,2),i=t[0],r=t[1],o=r.points?{}:b.reduce((function(e,t){var n;return e[t]="string"==typeof(n=r[t])&&/%/.test(n)?parseFloat(n)/100:n,e}),{});return[i,Object.assign({zIndex:0},r,o)]},w=function(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},S=function(e){return e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(e){var t=e.root,i=e.props;if(i.dirty){var r=i.crop,o=i.resize,a=i.markup,s=i.width,l=i.height,u=r.width,c=r.height;if(o){var d=o.size,f=d&&d.width,h=d&&d.height,p=o.mode,m=o.upscale;f&&!h&&(h=f),h&&!f&&(f=h);var v=u<f&&c<h;if(!v||v&&m){var b,S=f/u,E=h/c;if("force"===p)u=f,c=h;else"cover"===p?b=Math.max(S,E):"contain"===p&&(b=Math.min(S,E)),u*=b,c*=b}}var C={width:s,height:l};t.element.setAttribute("width",C.width),t.element.setAttribute("height",C.height);var x=Math.min(s/u,l/c);t.element.innerHTML="";var T=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");a.filter(T).map(_).sort(w).forEach((function(e){var i=n(e,2),r=i[0],o=i[1],a=function(e,t){return g[e](t)}(r,o);y(a,r,o,C,x),t.element.appendChild(a)}))}}})},E=function(e,t){return{x:e,y:t}},C=function(e,t){return E(e.x-t.x,e.y-t.y)},x=function(e,t){return Math.sqrt(function(e,t){return function(e,t){return e.x*t.x+e.y*t.y}(C(e,t),C(e,t))}(e,t))},T=function(e,t){var n=e,i=t,r=1.5707963267948966-t,o=Math.sin(1.5707963267948966),a=Math.sin(i),s=Math.sin(r),l=Math.cos(r),u=n/o;return E(l*(u*a),l*(u*s))},I=function(e,t,n,i){var r=i.x>.5?1-i.x:i.x,o=i.y>.5?1-i.y:i.y,a=2*r*e.width,s=2*o*e.height,l=function(e,t){var n=e.width,i=e.height,r=T(n,t),o=T(i,t),a=E(e.x+Math.abs(r.x),e.y-Math.abs(r.y)),s=E(e.x+e.width+Math.abs(o.y),e.y+Math.abs(o.x)),l=E(e.x-Math.abs(o.y),e.y+e.height-Math.abs(o.x));return{width:x(a,s),height:x(a,l)}}(t,n);return Math.max(l.width/a,l.height/s)},k=function(e,t){var n=e.width,i=n*t;return i>e.height&&(n=(i=e.height)/t),{x:.5*(e.width-n),y:.5*(e.height-i),width:n,height:i}},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoom,i=t.rotation,r=t.center,o=t.aspectRatio;o||(o=e.height/e.width);var a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.height/e.width,r=t,o=1,a=i;a>r&&(o=(a=r)/i);var s=Math.max(1/o,r/a),l=e.width/(n*s*o);return{width:l,height:l*t}}(e,o,n),s={x:.5*a.width,y:.5*a.height},l={x:0,y:0,width:a.width,height:a.height,center:s},u=void 0===t.scaleToFit||t.scaleToFit,c=n*I(e,k(l,o),i,u?r:{x:.5,y:.5});return{widthFloat:a.width/c,heightFloat:a.height/c,width:Math.round(a.width/c),height:Math.round(a.height/c)}},A={type:"spring",stiffness:.5,damping:.45,mass:10},D=function(e){return e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(e){var t=e.root,n=e.props;n.background&&(t.element.style.backgroundColor=n.background)},create:function(t){var n=t.root,i=t.props;n.ref.image=n.appendChildView(n.createChildView(function(e){return e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:A,originY:A,scaleX:A,scaleY:A,translateX:A,translateY:A,rotateZ:A}},create:function(t){var n=t.root,i=t.props;i.width=i.image.width,i.height=i.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(function(e){return e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(e){var t=e.root,n=e.props;t.appendChild(n.image)}})}(e),{image:i.image}))},write:function(e){var t=e.root,n=e.props.crop.flip,i=t.ref.bitmap;i.scaleX=n.horizontal?-1:1,i.scaleY=n.vertical?-1:1}})}(e),Object.assign({},i))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(S(e),Object.assign({},i))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var r=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==r&&(n.element.dataset.transparencyIndicator="grid"===r?r:"color")},write:function(e){var t=e.root,n=e.props,i=e.shouldOptimize,r=n.crop,o=n.markup,a=n.resize,s=n.dirty,l=n.width,u=n.height;t.ref.image.crop=r;var c={x:0,y:0,width:l,height:u,center:{x:.5*l,y:.5*u}},d={width:t.ref.image.width,height:t.ref.image.height},f={x:r.center.x*d.width,y:r.center.y*d.height},h={x:c.center.x-d.width*r.center.x,y:c.center.y-d.height*r.center.y},p=2*Math.PI+r.rotation%(2*Math.PI),m=r.aspectRatio||d.height/d.width,g=void 0===r.scaleToFit||r.scaleToFit,v=I(d,k(c,m),p,g?r.center:{x:.5,y:.5}),y=r.zoom*v;o&&o.length?(t.ref.createMarkup(),t.ref.markup.width=l,t.ref.markup.height=u,t.ref.markup.resize=a,t.ref.markup.dirty=s,t.ref.markup.markup=o,t.ref.markup.crop=O(d,r)):t.ref.markup&&t.ref.destroyMarkup();var b=t.ref.image;if(i)return b.originX=null,b.originY=null,b.translateX=null,b.translateY=null,b.rotateZ=null,b.scaleX=null,void(b.scaleY=null);b.originX=f.x,b.originY=f.y,b.translateX=h.x,b.translateY=h.y,b.rotateZ=p,b.scaleX=y,b.scaleY=y}})},P='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',N=!1,R=0,L=function(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then((function(t){self.postMessage({id:e.data.id,message:t},[t])}))}},F=function(){self.onmessage=function(e){for(var t=e.data.message.imageData,n=e.data.message.colorMatrix,i=t.data,r=i.length,o=n[0],a=n[1],s=n[2],l=n[3],u=n[4],c=n[5],d=n[6],f=n[7],h=n[8],p=n[9],m=n[10],g=n[11],v=n[12],y=n[13],b=n[14],_=n[15],w=n[16],S=n[17],E=n[18],C=n[19],x=0,T=0,I=0,k=0,O=0;x<r;x+=4)T=i[x]/255,I=i[x+1]/255,k=i[x+2]/255,O=i[x+3]/255,i[x]=Math.max(0,Math.min(255*(T*o+I*a+k*s+O*l+u),255)),i[x+1]=Math.max(0,Math.min(255*(T*c+I*d+k*f+O*h+p),255)),i[x+2]=Math.max(0,Math.min(255*(T*m+I*g+k*v+O*y+b),255)),i[x+3]=Math.max(0,Math.min(255*(T*_+I*w+k*S+O*E+C),255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},M={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},B=function(e,t,n,i){t=Math.round(t),n=Math.round(n);var r=document.createElement("canvas");r.width=t,r.height=n;var o=r.getContext("2d");if(i>=5&&i<=8){var a=[n,t];t=a[0],n=a[1]}return function(e,t,n,i){-1!==i&&e.transform.apply(e,M[i](t,n))}(o,t,n,i),o.drawImage(e,0,0,t,n),r},V=function(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},$=function(e){var t=Math.min(10/e.width,10/e.height),n=document.createElement("canvas"),i=n.getContext("2d"),r=n.width=Math.ceil(e.width*t),o=n.height=Math.ceil(e.height*t);i.drawImage(e,0,0,r,o);var a=null;try{a=i.getImageData(0,0,r,o).data}catch(e){return null}for(var s=a.length,l=0,u=0,c=0,d=0;d<s;d+=4)l+=a[d]*a[d],u+=a[d+1]*a[d+1],c+=a[d+2]*a[d+2];return{r:l=j(l,s),g:u=j(u,s),b:c=j(c,s)}},j=function(e,t){return Math.floor(Math.sqrt(e/(t/4)))},U=function(e){var t=e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(e){var t=e.root,n=e.props;!N&&document.querySelector("base")&&(P=P.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#"),N=!0),R++,t.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),t.element.innerHTML=P.replace(/__UID__/g,R)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),n=function(e){return e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:A,scaleY:A,translateY:A,opacity:{type:"tween",duration:400}}},create:function(t){var n=t.root,i=t.props;n.ref.clip=n.appendChildView(n.createChildView(D(e),{id:i.id,image:i.image,crop:i.crop,markup:i.markup,resize:i.resize,dirty:i.dirty,background:i.background}))},write:function(e){var t=e.root,n=e.props,i=e.shouldOptimize,r=t.ref.clip,o=n.image,a=n.crop,s=n.markup,l=n.resize,u=n.dirty;if(r.crop=a,r.markup=s,r.resize=l,r.dirty=u,r.opacity=i?0:1,!i&&!t.rect.element.hidden){var c=o.height/o.width,d=a.aspectRatio||c,f=t.rect.inner.width,h=t.rect.inner.height,p=t.query("GET_IMAGE_PREVIEW_HEIGHT"),m=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),g=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),v=t.query("GET_PANEL_ASPECT_RATIO"),y=t.query("GET_ALLOW_MULTIPLE");v&&!y&&(p=f*v,d=v);var b=null!==p?p:Math.max(m,Math.min(f*d,g)),_=b/d;_>f&&(b=(_=f)*d),b>h&&(b=h,_=h/d),r.width=_,r.height=b}}})}(e),i=e.utils.createWorker,r=function(e,t,n){return new Promise((function(r){e.ref.imageData||(e.ref.imageData=n.getContext("2d").getImageData(0,0,n.width,n.height));var o=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(n){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t}(e.ref.imageData);if(!t||20!==t.length)return n.getContext("2d").putImageData(o,0,0),r();var a=i(F);a.post({imageData:o,colorMatrix:t},(function(e){n.getContext("2d").putImageData(e,0,0),a.terminate(),r()}),[o.data.buffer])}))},o=function(e){var t=e.root,i=e.props,r=e.image,o=i.id,a=t.query("GET_ITEM",{id:o});if(a){var s,l,u=a.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},c=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),d=!1;t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(s=a.getMetadata("markup")||[],l=a.getMetadata("resize"),d=!0);var f=t.appendChildView(t.createChildView(n,{id:o,image:r,crop:u,resize:l,markup:s,dirty:d,background:c,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),t.childViews.length);t.ref.images.push(f),f.opacity=1,f.scaleX=1,f.scaleY=1,f.translateY=0,setTimeout((function(){t.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:o})}),250)}},a=function(e){var t=e.root;t.ref.overlayShadow.opacity=1,t.ref.overlayError.opacity=0,t.ref.overlaySuccess.opacity=0},s=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlayError.opacity=1};return e.utils.createView({name:"image-preview-wrapper",create:function(e){var n=e.root;n.ref.images=[],n.ref.imageData=null,n.ref.imageViewBin=[],n.ref.overlayShadow=n.appendChildView(n.createChildView(t,{opacity:0,status:"idle"})),n.ref.overlaySuccess=n.appendChildView(n.createChildView(t,{opacity:0,status:"success"})),n.ref.overlayError=n.appendChildView(n.createChildView(t,{opacity:0,status:"failure"}))},styles:["height"],apis:["height"],destroy:function(e){e.root.ref.images.forEach((function(e){e.image.width=1,e.image.height=1}))},didWriteView:function(e){e.root.ref.images.forEach((function(e){e.dirty=!1}))},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:function(e){var t=e.root,n=t.ref.images[t.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},DID_IMAGE_PREVIEW_CONTAINER_CREATE:function(e){var t=e.root,n=e.props.id,i=t.query("GET_ITEM",n);if(i){var r,o,a,s=URL.createObjectURL(i.file);r=s,o=function(e,i){t.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:n,width:e,height:i})},(a=new Image).onload=function(){var e=a.naturalWidth,t=a.naturalHeight;a=null,o(e,t)},a.src=r}},DID_FINISH_CALCULATE_PREVIEWSIZE:function(e){var t=e.root,n=e.props,a=n.id,s=t.query("GET_ITEM",a);if(s){var l,u,c=URL.createObjectURL(s.file),d=function(){var e;(e=c,new Promise((function(t,n){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))).then(f)},f=function(e){URL.revokeObjectURL(c);var i=(s.getMetadata("exif")||{}).orientation||-1,a=e.width,l=e.height;if(i>=5&&i<=8){var u=[l,a];a=u[0],l=u[1]}var d=Math.max(1,.75*window.devicePixelRatio),f=t.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*d,h=l/a,p=t.rect.element.width,m=t.rect.element.height,g=p,v=g*h;h>1?v=(g=Math.min(a,p*f))*h:g=(v=Math.min(l,m*f))/h;var y=B(e,g,v,i),b=function(){var i=t.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?$(data):null;s.setMetadata("color",i,!0),"close"in e&&e.close(),t.ref.overlayShadow.opacity=1,o({root:t,props:n,image:y})},_=s.getMetadata("filter");_?r(t,_,y).then(b):b()};if(l=s.file,((u=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./))?parseInt(u[1]):null)<=58||!("createImageBitmap"in window)||!V(l))d();else{var h=i(L);h.post({file:s.file},(function(e){h.terminate(),e?f(e):d()}))}}},DID_UPDATE_ITEM_METADATA:function(e){var t=e.root,n=e.props,i=e.action;if(/crop|filter|markup|resize/.test(i.change.key)&&t.ref.images.length){var a=t.query("GET_ITEM",{id:n.id});if(a)if(/filter/.test(i.change.key)){var s=t.ref.images[t.ref.images.length-1];r(t,i.change.value,s.image)}else{if(/crop|markup|resize/.test(i.change.key)){var l=a.getMetadata("crop"),u=t.ref.images[t.ref.images.length-1];if(Math.abs(l.aspectRatio-u.crop.aspectRatio)>1e-5){var c=function(e){var t=e.root,n=t.ref.images.shift();return n.opacity=0,n.translateY=-15,t.ref.imageViewBin.push(n),n}({root:t});o({root:t,props:n,image:(d=c.image,(f=f||document.createElement("canvas")).width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0),f)})}else!function(e){var t=e.root,n=e.props,i=t.query("GET_ITEM",{id:n.id});if(i){var r=t.ref.images[t.ref.images.length-1];r.crop=i.getMetadata("crop"),r.background=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(r.dirty=!0,r.resize=i.getMetadata("resize"),r.markup=i.getMetadata("markup"))}}({root:t,props:n})}var d,f}}},DID_THROW_ITEM_LOAD_ERROR:s,DID_THROW_ITEM_PROCESSING_ERROR:s,DID_THROW_ITEM_INVALID:s,DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlaySuccess.opacity=1},DID_START_ITEM_PROCESSING:a,DID_REVERT_ITEM_PROCESSING:a},(function(e){var t=e.root,n=t.ref.imageViewBin.filter((function(e){return 0===e.opacity}));t.ref.imageViewBin=t.ref.imageViewBin.filter((function(e){return e.opacity>0})),n.forEach((function(e){return function(e,t){e.removeChildView(t),t.image.width=1,t.image.height=1,t._destroy()}(t,e)})),n.length=0}))})},z=function(e){var t=e.addFilter,n=e.utils,i=n.Type,r=n.createRoute,o=n.isFile,a=U(e);return t("CREATE_VIEW",(function(e){var t=e.is,n=e.view,i=e.query;if(t("file")&&i("GET_ALLOW_IMAGE_PREVIEW")){var s=function(e){e.root.ref.shouldRescale=!0};n.registerWriter(r({DID_RESIZE_ROOT:s,DID_STOP_RESIZE:s,DID_LOAD_ITEM:function(e){var t=e.root,r=e.props.id,s=i("GET_ITEM",r);if(s&&o(s.file)&&!s.archived){var l=s.file;if(function(e){return/^image/.test(e.type)}(l)&&i("GET_IMAGE_PREVIEW_FILTER_ITEM")(s)){var u="createImageBitmap"in(window||{}),c=i("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!u&&c&&l.size>c)){t.ref.imagePreview=n.appendChildView(n.createChildView(a,{id:r}));var d=t.query("GET_IMAGE_PREVIEW_HEIGHT");d&&t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:s.id,height:d});var f=!u&&l.size>i("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");t.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:r},f)}}}},DID_IMAGE_PREVIEW_CALCULATE_SIZE:function(e){var t=e.root,n=e.action;t.ref.imageWidth=n.width,t.ref.imageHeight=n.height,t.ref.shouldRescale=!0,t.ref.shouldDrawPreview=!0,t.dispatch("KICK")},DID_UPDATE_ITEM_METADATA:function(e){var t=e.root;"crop"===e.action.change.key&&(t.ref.shouldRescale=!0)}},(function(e){var t=e.root,n=e.props;t.ref.imagePreview&&(t.rect.element.hidden||(t.ref.shouldRescale&&(!function(e,t){if(e.ref.imagePreview){var n=t.id,i=e.query("GET_ITEM",{id:n});if(i){var r=e.query("GET_PANEL_ASPECT_RATIO"),o=e.query("GET_ITEM_PANEL_ASPECT_RATIO"),a=e.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(r||o||a)){var s=e.ref,l=s.imageWidth,u=s.imageHeight;if(l&&u){var c=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),d=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),f=(i.getMetadata("exif")||{}).orientation||-1;if(f>=5&&f<=8){var h=[u,l];l=h[0],u=h[1]}if(!V(i.file)||e.query("GET_IMAGE_PREVIEW_UPSCALE")){var p=2048/l;l*=p,u*=p}var m=u/l,g=(i.getMetadata("crop")||{}).aspectRatio||m,v=Math.max(c,Math.min(u,d)),y=e.rect.element.width,b=Math.min(y*g,v);e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:i.id,height:b})}}}}}(t,n),t.ref.shouldRescale=!1),t.ref.shouldDrawPreview&&(requestAnimationFrame((function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})})),t.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,i.BOOLEAN],imagePreviewFilterItem:[function(){return!0},i.FUNCTION],imagePreviewHeight:[null,i.INT],imagePreviewMinHeight:[44,i.INT],imagePreviewMaxHeight:[256,i.INT],imagePreviewMaxFileSize:[null,i.INT],imagePreviewZoomFactor:[2,i.INT],imagePreviewUpscale:[!1,i.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,i.INT],imagePreviewTransparencyIndicator:[null,i.STRING],imagePreviewCalculateAverageImageColor:[!1,i.BOOLEAN],imagePreviewMarkupShow:[!0,i.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},i.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:z})),z})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).FilePondPluginMediaPreview=t()}(this,(function(){"use strict";const e=e=>/^video/.test(e.type),t=e=>/^audio/.test(e.type);class n{constructor(e,t){this.mediaEl=e,this.audioElems=t,this.onplayhead=!1,this.duration=0,this.timelineWidth=this.audioElems.timeline.offsetWidth-this.audioElems.playhead.offsetWidth,this.moveplayheadFn=this.moveplayhead.bind(this),this.registerListeners()}registerListeners(){this.mediaEl.addEventListener("timeupdate",this.timeUpdate.bind(this),!1),this.mediaEl.addEventListener("canplaythrough",(()=>this.duration=this.mediaEl.duration),!1),this.audioElems.timeline.addEventListener("click",this.timelineClicked.bind(this),!1),this.audioElems.button.addEventListener("click",this.play.bind(this)),this.audioElems.playhead.addEventListener("mousedown",this.mouseDown.bind(this),!1),window.addEventListener("mouseup",this.mouseUp.bind(this),!1)}play(){this.mediaEl.paused?this.mediaEl.play():this.mediaEl.pause(),this.audioElems.button.classList.toggle("play"),this.audioElems.button.classList.toggle("pause")}timeUpdate(){let e=this.mediaEl.currentTime/this.duration*100;this.audioElems.playhead.style.marginLeft=e+"%",this.mediaEl.currentTime===this.duration&&(this.audioElems.button.classList.toggle("play"),this.audioElems.button.classList.toggle("pause"))}moveplayhead(e){let t=e.clientX-this.getPosition(this.audioElems.timeline);t>=0&&t<=this.timelineWidth&&(this.audioElems.playhead.style.marginLeft=t+"px"),t<0&&(this.audioElems.playhead.style.marginLeft="0px"),t>this.timelineWidth&&(this.audioElems.playhead.style.marginLeft=this.timelineWidth-4+"px")}timelineClicked(e){this.moveplayhead(e),this.mediaEl.currentTime=this.duration*this.clickPercent(e)}mouseDown(){this.onplayhead=!0,window.addEventListener("mousemove",this.moveplayheadFn,!0),this.mediaEl.removeEventListener("timeupdate",this.timeUpdate.bind(this),!1)}mouseUp(e){window.removeEventListener("mousemove",this.moveplayheadFn,!0),1==this.onplayhead&&(this.moveplayhead(e),this.mediaEl.currentTime=this.duration*this.clickPercent(e),this.mediaEl.addEventListener("timeupdate",this.timeUpdate.bind(this),!1)),this.onplayhead=!1}clickPercent(e){return(e.clientX-this.getPosition(this.audioElems.timeline))/this.timelineWidth}getPosition(e){return e.getBoundingClientRect().left}}const i=i=>i.utils.createView({name:"media-preview-wrapper",create:({root:r,props:o})=>{const a=(i=>i.utils.createView({name:"media-preview",tag:"div",ignoreRect:!0,create:({root:e,props:n})=>{const{id:i}=n,r=e.query("GET_ITEM",{id:n.id});let o=t(r.file)?"audio":"video";if(e.ref.media=document.createElement(o),e.ref.media.setAttribute("controls",!0),e.element.appendChild(e.ref.media),t(r.file)){let t=document.createDocumentFragment();e.ref.audio=[],e.ref.audio.container=document.createElement("div"),e.ref.audio.button=document.createElement("span"),e.ref.audio.timeline=document.createElement("div"),e.ref.audio.playhead=document.createElement("div"),e.ref.audio.container.className="audioplayer",e.ref.audio.button.className="playpausebtn play",e.ref.audio.timeline.className="timeline",e.ref.audio.playhead.className="playhead",e.ref.audio.timeline.appendChild(e.ref.audio.playhead),e.ref.audio.container.appendChild(e.ref.audio.button),e.ref.audio.container.appendChild(e.ref.audio.timeline),t.appendChild(e.ref.audio.container),e.element.appendChild(t)}},write:i.utils.createRoute({DID_MEDIA_PREVIEW_LOAD:({root:i,props:r})=>{const{id:o}=r,a=i.query("GET_ITEM",{id:r.id});if(!a)return;let s=window.URL||window.webkitURL,l=new Blob([a.file],{type:a.file.type});i.ref.media.type=a.file.type,i.ref.media.src=s.createObjectURL(l),t(a.file)&&new n(i.ref.media,i.ref.audio),i.ref.media.addEventListener("loadeddata",(()=>{let t=75;if(e(a.file)){let e=i.ref.media.offsetWidth,n=i.ref.media.videoWidth/e;t=i.ref.media.videoHeight/n}i.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:r.id,height:t})}),!1)}})}))(i);r.ref.media=r.appendChildView(r.createChildView(a,{id:o.id}))},write:i.utils.createRoute({DID_MEDIA_PREVIEW_CONTAINER_CREATE:({root:e,props:t})=>{const{id:n}=t;e.query("GET_ITEM",n)&&e.dispatch("DID_MEDIA_PREVIEW_LOAD",{id:n})}})}),r=n=>{const{addFilter:r,utils:o}=n,{Type:a,createRoute:s}=o,l=i(n);return r("CREATE_VIEW",(n=>{const{is:i,view:r,query:o}=n;if(!i("file"))return;r.registerWriter(s({DID_LOAD_ITEM:({root:n,props:i})=>{const{id:a}=i,s=o("GET_ITEM",a);s&&!s.archived&&(e(s.file)||t(s.file))&&(n.ref.mediaPreview=r.appendChildView(r.createChildView(l,{id:a})),n.dispatch("DID_MEDIA_PREVIEW_CONTAINER_CREATE",{id:a}))}},(({root:n,props:i})=>{const{id:r}=i,a=o("GET_ITEM",r);(e(a.file)||t(a.file))&&n.rect.element.hidden})))})),{options:{allowVideoPreview:[!0,a.BOOLEAN],allowAudioPreview:[!0,a.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:r})),r})),function(e){"use strict";var t=function(){},n=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t.apply(null,n))}},i=function(e){return function(){return e}},r=function(e){return e};function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.concat(n);return e.apply(null,r)}}var a,s,l,u,c,d,f,h,p,m,g,v,y,b,_,w,S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},E=i(!1),C=i(!0),x=function(){return T},T=(a=function(e){return e.isNone()},u={fold:function(e,t){return e()},is:E,isSome:E,isNone:C,getOr:l=function(e){return e},getOrThunk:s=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:l,orThunk:s,map:x,each:t,bind:x,exists:E,forall:C,filter:x,equals:a,equals_:a,toArray:function(){return[]},toString:i("none()")},Object.freeze&&Object.freeze(u),u),I=function(e){var t=i(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:C,isNone:E,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return I(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:T},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(E,(function(t){return n(e,t)}))}};return o},k={some:I,none:x,from:function(e){return null==e?T:I(e)}},O=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},A=O("string"),D=O("object"),P=O("array"),N=O("null"),R=O("boolean"),L=O("function"),F=O("number"),M=Array.prototype.slice,B=Array.prototype.indexOf,V=Array.prototype.push,$=function(e,t){return B.call(e,t)},j=function(e,t){return-1<$(e,t)},U=function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n))return!0;return!1},z=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i},q=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)},H=function(e,t){for(var n=[],i=[],r=0,o=e.length;r<o;r++){var a=e[r];(t(a,r)?n:i).push(a)}return{pass:n,fail:i}},G=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i)&&n.push(o)}return n},W=function(e,t,n){return q(e,(function(e){n=t(n,e)})),n},Y=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n))return k.some(r)}return k.none()},K=function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n))return k.some(n);return k.none()},X=function(e,t){return function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!P(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);V.apply(t,e[n])}return t}(z(e,t))},Z=function(e,t){for(var n=0,i=e.length;n<i;++n)if(!0!==t(e[n],n))return!1;return!0},Q=function(e,t){return G(e,(function(e){return!j(t,e)}))},J=function(e){return 0===e.length?k.none():k.some(e[0])},ee=function(e){return 0===e.length?k.none():k.some(e[e.length-1])},te=L(Array.from)?Array.from:function(e){return M.call(e)},ne=void 0!==e.window?e.window:Function("return this;")(),ie={getOrDie:function(e,t){var n=function(e,t){return function(e,t){for(var n=null!=t?t:ne,i=0;i<e.length&&null!=n;++i)n=n[e[i]];return n}(e.split("."),t)}(e,t);if(null==n)throw new Error(e+" not available on this browser");return n}},re=function(){return ie.getOrDie("URL")},oe=function(e){return re().createObjectURL(e)},ae=function(e){re().revokeObjectURL(e)},se=e.navigator,le=se.userAgent,ue=function(t){return"matchMedia"in e.window&&e.matchMedia(t).matches};v=/Android/.test(le),d=(d=!(c=/WebKit/.test(le))&&/MSIE/gi.test(le)&&/Explorer/gi.test(se.appName))&&/MSIE (\w+)\./.exec(le)[1],f=-1!==le.indexOf("Trident/")&&(-1!==le.indexOf("rv:")||-1!==se.appName.indexOf("Netscape"))&&11,h=-1!==le.indexOf("Edge/")&&!d&&!f&&12,d=d||f||h,p=!c&&!f&&/Gecko/.test(le),m=-1!==le.indexOf("Mac"),g=/(iPad|iPhone)/.test(le),y="FormData"in e.window&&"FileReader"in e.window&&"URL"in e.window&&!!oe,b=ue("only screen and (max-device-width: 480px)")&&(v||g),_=ue("only screen and (min-width: 800px)")&&(v||g),w=-1!==le.indexOf("Windows Phone"),h&&(c=!1);var ce,de={opera:!1,webkit:c,ie:d,gecko:p,mac:m,iOS:g,android:v,contentEditable:!g||y||534<=parseInt(le.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==d,range:e.window.getSelection&&"Range"in e.window,documentMode:d&&!h?e.document.documentMode||7:10,fileApi:y,ceFalse:!1===d||8<d,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===d||11<d,desktop:!b&&!_,windowsPhone:w},fe=window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(o,this),e(a,this))},i=n.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)};function r(e){var t=this;null!==this._state?i((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void e.reject(t)}e.resolve(i)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void u(e(n,t),e(o,this),e(a,this))}this._state=!0,this._value=t,s.call(this)}catch(e){a.call(this,e)}}function a(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;e<t;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function l(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function u(e,t,n){var i=!1;try{e((function(e){i||(i=!0,t(e))}),(function(e){i||(i=!0,n(e))}))}catch(e){if(i)return;i=!0,n(e)}}return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var i=this;return new n((function(n,o){r.call(i,new l(e,t,n,o))}))},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&t(arguments[0])?arguments[0]:arguments);return new n((function(t,n){if(0===e.length)return t([]);var i=e.length;function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){r(o,e)}),n)}e[o]=a,0==--i&&t(e)}catch(e){n(e)}}for(var o=0;o<e.length;o++)r(o,e[o])}))},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n((function(t){t(e)}))},n.reject=function(e){return new n((function(t,n){n(e)}))},n.race=function(e){return new n((function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)}))},n}(),he=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},pe=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},me=function(e,t){var n,i;return(i=function(){var i=arguments;clearTimeout(n),n=he((function(){e.apply(this,i)}),t)}).stop=function(){clearTimeout(n)},i},ge={requestAnimationFrame:function(t,n){ce?ce.then(t):ce=new fe((function(t){n||(n=e.document.body),function(t,n){var i,r=e.window.requestAnimationFrame,o=["ms","moz","webkit"];for(i=0;i<o.length&&!r;i++)r=e.window[o[i]+"RequestAnimationFrame"];r||(r=function(t){e.window.setTimeout(t,0)}),r(t,n)}(t,n)})).then(t)},setTimeout:he,setInterval:pe,setEditorTimeout:function(e,t,n){return he((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,n){var i;return i=pe((function(){e.removed?clearInterval(i):t()}),n)},debounce:me,throttle:me,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},ve=/^(?:mouse|contextmenu)|click/,ye={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},be=function(){return!1},_e=function(){return!0},we=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Se=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Ee=function(t,n){var i,r,o=n||{};for(i in t)ye[i]||(o[i]=t[i]);if(o.target||(o.target=o.srcElement||e.document),de.experimentalShadowDom&&(o.target=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&0<n.length)return n[0]}return t}(t,o.target)),t&&ve.test(t.type)&&void 0===t.pageX&&void 0!==t.clientX){var a=o.target.ownerDocument||e.document,s=a.documentElement,l=a.body;o.pageX=t.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),o.pageY=t.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=_e,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=_e,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},!(o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=_e,o.stopPropagation()})==((r=o).isDefaultPrevented===_e||r.isDefaultPrevented===be)&&(o.isDefaultPrevented=be,o.isPropagationStopped=be,o.isImmediatePropagationStopped=be),void 0===o.metaKey&&(o.metaKey=!1),o},Ce=function(e,t,n){var i=e.document,r={type:"ready"};if(n.domLoaded)t(r);else{var o=function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body},a=function(){n.domLoaded||(n.domLoaded=!0,t(r))},s=function(){o()&&(Se(i,"readystatechange",s),a())},l=function(){try{i.documentElement.doScroll("left")}catch(e){return void ge.setTimeout(l)}a()};!i.addEventListener||de.ie&&de.ie<11?(we(i,"readystatechange",s),i.documentElement.doScroll&&e.self===e.top&&l()):o()?a():we(e,"DOMContentLoaded",a),we(e,"load",a)}},xe=function(){var t,n,i,r,o,a=this,s={};n="mce-data-"+(+new Date).toString(32),r="onmouseenter"in e.document.documentElement,i="onfocusin"in e.document.documentElement,o={mouseenter:"mouseover",mouseleave:"mouseout"},t=1,a.domLoaded=!1,a.events=s;var l=function(e,t){var n,i,r,o,a=s[t];if(n=a&&a[e.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};a.bind=function(u,c,d,f){var h,p,m,g,v,y,b,_=e.window,w=function(e){l(Ee(e||_.event),h)};if(u&&3!==u.nodeType&&8!==u.nodeType){for(u[n]?h=u[n]:(h=t++,u[n]=h,s[h]={}),f=f||u,m=(c=c.split(" ")).length;m--;)y=w,v=b=!1,"DOMContentLoaded"===(g=c[m])&&(g="ready"),a.domLoaded&&"ready"===g&&"complete"===u.readyState?d.call(f,Ee({type:g})):(r||(v=o[g])&&(y=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=Ee(e||_.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,l(e,h))}),i||"focusin"!==g&&"focusout"!==g||(b=!0,v="focusin"===g?"focus":"blur",y=function(e){(e=Ee(e||_.event)).type="focus"===e.type?"focusin":"focusout",l(e,h)}),(p=s[h][g])?"ready"===g&&a.domLoaded?d({type:g}):p.push({func:d,scope:f}):(s[h][g]=p=[{func:d,scope:f}],p.fakeName=v,p.capture=b,p.nativeHandler=y,"ready"===g?Ce(u,y,a):we(u,v||g,y,b)));return u=p=0,d}},a.unbind=function(e,t,i){var r,o,l,u,c,d;if(!e||3===e.nodeType||8===e.nodeType)return a;if(r=e[n]){if(d=s[r],t){for(l=(t=t.split(" ")).length;l--;)if(o=d[c=t[l]]){if(i)for(u=o.length;u--;)if(o[u].func===i){var f=o.nativeHandler,h=o.fakeName,p=o.capture;(o=o.slice(0,u).concat(o.slice(u+1))).nativeHandler=f,o.fakeName=h,o.capture=p,d[c]=o}i&&0!==o.length||(delete d[c],Se(e,o.fakeName||c,o.nativeHandler,o.capture))}}else{for(c in d)o=d[c],Se(e,o.fakeName||c,o.nativeHandler,o.capture);d={}}for(c in d)return a;delete s[r];try{delete e[n]}catch(t){e[n]=null}}return a},a.fire=function(e,t,i){var r;if(!e||3===e.nodeType||8===e.nodeType)return a;for((i=Ee(null,i)).type=t,i.target=e;(r=e[n])&&l(i,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!i.isPropagationStopped(););return a},a.clean=function(e){var t,i,r=a.unbind;if(!e||3===e.nodeType||8===e.nodeType)return a;if(e[n]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),t=(i=e.getElementsByTagName("*")).length;t--;)(e=i[t])[n]&&r(e);return a},a.destroy=function(){s={}},a.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};(xe.Event=new xe).bind(e.window,"ready",(function(){}));var Te,Ie,ke,Oe,Ae,De,Pe,Ne,Re,Le,Fe,Me,Be,Ve,$e,je,Ue,ze,qe="sizzle"+-new Date,He=e.window.document,Ge=0,We=0,Ye=Tt(),Ke=Tt(),Xe=Tt(),Ze=function(e,t){return e===t&&(Fe=!0),0},Qe="undefined",Je={}.hasOwnProperty,et=[],tt=et.pop,nt=et.push,it=et.push,rt=et.slice,ot=et.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},at="[\\x20\\t\\r\\n\\f]",st="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",lt="\\["+at+"*("+st+")(?:"+at+"*([*^$|!~]?=)"+at+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+st+"))|)"+at+"*\\]",ut=":("+st+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+lt+")*)|.*)\\)|)",ct=new RegExp("^"+at+"+|((?:^|[^\\\\])(?:\\\\.)*)"+at+"+$","g"),dt=new RegExp("^"+at+"*,"+at+"*"),ft=new RegExp("^"+at+"*([>+~]|"+at+")"+at+"*"),ht=new RegExp("="+at+"*([^\\]'\"]*?)"+at+"*\\]","g"),pt=new RegExp(ut),mt=new RegExp("^"+st+"$"),gt={ID:new RegExp("^#("+st+")"),CLASS:new RegExp("^\\.("+st+")"),TAG:new RegExp("^("+st+"|[*])"),ATTR:new RegExp("^"+lt),PSEUDO:new RegExp("^"+ut),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+at+"*(even|odd|(([+-]|)(\\d*)n|)"+at+"*(?:([+-]|)"+at+"*(\\d+)|))"+at+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+at+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+at+"*((?:-\\d)?\\d*)"+at+"*\\)|)(?=[^-]|$)","i")},vt=/^(?:input|select|textarea|button)$/i,yt=/^h\d$/i,bt=/^[^{]+\{\s*\[native \w/,_t=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/[+~]/,St=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+at+"?|("+at+")|.)","ig"),Ct=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{it.apply(et=rt.call(He.childNodes),He.childNodes),et[He.childNodes.length].nodeType}catch(e){it={apply:et.length?function(e,t){nt.apply(e,rt.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}var xt=function(e,t,n,i){var r,o,a,s,l,u,c,d,f,h;if((t?t.ownerDocument||t:He)!==Be&&Me(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||Be).nodeType)&&9!==s)return[];if($e&&!i){if(r=_t.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&ze(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return it.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&Ie.getElementsByClassName)return it.apply(n,t.getElementsByClassName(a)),n}if(Ie.qsa&&(!je||!je.test(e))){if(d=c=qe,f=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=De(e),(c=t.getAttribute("id"))?d=c.replace(St,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+Rt(u[l]);f=wt.test(e)&&Pt(t.parentNode)||t,h=u.join(",")}if(h)try{return it.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{c||t.removeAttribute("id")}}}return Ne(e.replace(ct,"$1"),t,n,i)};function Tt(){var e=[];return function t(n,i){return e.push(n+" ")>ke.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function It(e){return e[qe]=!0,e}function kt(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function Ot(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function At(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function Dt(e){return It((function(t){return t=+t,It((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function Pt(e){return e&&typeof e.getElementsByTagName!==Qe&&e}for(Te in Ie=xt.support={},Ae=xt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},Me=xt.setDocument=function(e){var t,n=e?e.ownerDocument||e:He,i=n.defaultView;return n!==Be&&9===n.nodeType&&n.documentElement?(Ve=(Be=n).documentElement,$e=!Ae(n),i&&i!==function(e){try{return e.top}catch(e){}return null}(i)&&(i.addEventListener?i.addEventListener("unload",(function(){Me()}),!1):i.attachEvent&&i.attachEvent("onunload",(function(){Me()}))),Ie.attributes=!0,Ie.getElementsByTagName=!0,Ie.getElementsByClassName=bt.test(n.getElementsByClassName),Ie.getById=!0,ke.find.ID=function(e,t){if(typeof t.getElementById!==Qe&&$e){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},ke.filter.ID=function(e){var t=e.replace(Et,Ct);return function(e){return e.getAttribute("id")===t}},ke.find.TAG=Ie.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Qe)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},ke.find.CLASS=Ie.getElementsByClassName&&function(e,t){if($e)return t.getElementsByClassName(e)},Ue=[],je=[],Ie.disconnectedMatch=!0,je=je.length&&new RegExp(je.join("|")),Ue=Ue.length&&new RegExp(Ue.join("|")),t=bt.test(Ve.compareDocumentPosition),ze=t||bt.test(Ve.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Ze=t?function(e,t){if(e===t)return Fe=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!Ie.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===He&&ze(He,e)?-1:t===n||t.ownerDocument===He&&ze(He,t)?1:Le?ot.call(Le,e)-ot.call(Le,t):0:4&i?-1:1)}:function(e,t){if(e===t)return Fe=!0,0;var i,r=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:Le?ot.call(Le,e)-ot.call(Le,t):0;if(o===a)return kt(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;s[r]===l[r];)r++;return r?kt(s[r],l[r]):s[r]===He?-1:l[r]===He?1:0},n):Be},xt.matches=function(e,t){return xt(e,null,null,t)},xt.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Be&&Me(e),t=t.replace(ht,"='$1']"),Ie.matchesSelector&&$e&&(!Ue||!Ue.test(t))&&(!je||!je.test(t)))try{var n=(void 0).call(e,t);if(n||Ie.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<xt(t,Be,null,[e]).length},xt.contains=function(e,t){return(e.ownerDocument||e)!==Be&&Me(e),ze(e,t)},xt.attr=function(e,t){(e.ownerDocument||e)!==Be&&Me(e);var n=ke.attrHandle[t.toLowerCase()],i=n&&Je.call(ke.attrHandle,t.toLowerCase())?n(e,t,!$e):void 0;return void 0!==i?i:Ie.attributes||!$e?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},xt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},xt.uniqueSort=function(e){var t,n=[],i=0,r=0;if(Fe=!Ie.detectDuplicates,Le=!Ie.sortStable&&e.slice(0),e.sort(Ze),Fe){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return Le=null,e},Oe=xt.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Oe(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=Oe(t);return n},(ke=xt.selectors={cacheLength:50,createPseudo:It,match:gt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Et,Ct),e[3]=(e[3]||e[4]||e[5]||"").replace(Et,Ct),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||xt.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&xt.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return gt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pt.test(n)&&(t=De(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Et,Ct).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Ye[e+" "];return t||(t=new RegExp("(^|"+at+")"+e+"("+at+"|$)"))&&Ye(e,(function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Qe&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=xt.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,h,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(h=(u=(c=g[qe]||(g[qe]={}))[e]||[])[0]===Ge&&u[1],f=u[0]===Ge&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[Ge,h,f];break}}else if(y&&(u=(t[qe]||(t[qe]={}))[e])&&u[0]===Ge)f=u[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[qe]||(d[qe]={}))[e]=[Ge,f]),d!==t)););return(f-=r)===i||f%i==0&&0<=f/i}}},PSEUDO:function(e,t){var n,i=ke.pseudos[e]||ke.setFilters[e.toLowerCase()]||xt.error("unsupported pseudo: "+e);return i[qe]?i(t):1<i.length?(n=[e,e,"",t],ke.setFilters.hasOwnProperty(e.toLowerCase())?It((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=ot.call(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:It((function(e){var t=[],n=[],i=Pe(e.replace(ct,"$1"));return i[qe]?It((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}})),has:It((function(e){return function(t){return 0<xt(e,t).length}})),contains:It((function(e){return e=e.replace(Et,Ct),function(t){return-1<(t.textContent||t.innerText||Oe(t)).indexOf(e)}})),lang:It((function(e){return mt.test(e||"")||xt.error("unsupported lang: "+e),e=e.replace(Et,Ct).toLowerCase(),function(t){var n;do{if(n=$e?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.window.location&&e.window.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===Ve},focus:function(e){return e===Be.activeElement&&(!Be.hasFocus||Be.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!ke.pseudos.empty(e)},header:function(e){return yt.test(e.nodeName)},input:function(e){return vt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:Dt((function(){return[0]})),last:Dt((function(e,t){return[t-1]})),eq:Dt((function(e,t,n){return[n<0?n+t:n]})),even:Dt((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:Dt((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:Dt((function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e})),gt:Dt((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=ke.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ke.pseudos[Te]=Ot(Te);for(Te in{submit:!0,reset:!0})ke.pseudos[Te]=At(Te);function Nt(){}function Rt(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function Lt(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=We++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,u=[Ge,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((s=(l=t[qe]||(t[qe]={}))[i])&&s[0]===Ge&&s[1]===o)return u[2]=s[2];if((l[i]=u)[2]=e(t,n,a))return!0}}}function Ft(e){return 1<e.length?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function Mt(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function Bt(e,t,n,i,r,o){return i&&!i[qe]&&(i=Bt(i)),r&&!r[qe]&&(r=Bt(r,o)),It((function(o,a,s,l){var u,c,d,f=[],h=[],p=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)xt(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:Mt(m,f,e,s,l),v=n?r||(o?e:p||i)?[]:a:g;if(n&&n(g,v,s,l),i)for(u=Mt(v,h),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(v[h[c]]=!(g[h[c]]=d));if(o){if(r||e){if(r){for(u=[],c=v.length;c--;)(d=v[c])&&u.push(g[c]=d);r(null,v=[],u,l)}for(c=v.length;c--;)(d=v[c])&&-1<(u=r?ot.call(o,d):f[c])&&(o[u]=!(a[u]=d))}}else v=Mt(v===a?v.splice(p,v.length):v),r?r(null,a,v,l):it.apply(a,v)}))}function Vt(e){for(var t,n,i,r=e.length,o=ke.relative[e[0].type],a=o||ke.relative[" "],s=o?1:0,l=Lt((function(e){return e===t}),a,!0),u=Lt((function(e){return-1<ot.call(t,e)}),a,!0),c=[function(e,n,i){return!o&&(i||n!==Re)||((t=n).nodeType?l(e,n,i):u(e,n,i))}];s<r;s++)if(n=ke.relative[e[s].type])c=[Lt(Ft(c),n)];else{if((n=ke.filter[e[s].type].apply(null,e[s].matches))[qe]){for(i=++s;i<r&&!ke.relative[e[i].type];i++);return Bt(1<s&&Ft(c),1<s&&Rt(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ct,"$1"),n,s<i&&Vt(e.slice(s,i)),i<r&&Vt(e=e.slice(i)),i<r&&Rt(e))}c.push(n)}return Ft(c)}Nt.prototype=ke.filters=ke.pseudos,ke.setFilters=new Nt,De=xt.tokenize=function(e,t){var n,i,r,o,a,s,l,u=Ke[e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],l=ke.preFilter;a;){for(o in n&&!(i=dt.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=ft.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ct," ")}),a=a.slice(n.length)),ke.filter)!(i=gt[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?xt.error(e):Ke(e,s).slice(0)},Pe=xt.compile=function(e,t){var n,i,r,o,a,s,l=[],u=[],c=Xe[e+" "];if(!c){for(t||(t=De(e)),n=t.length;n--;)(c=Vt(t[n]))[qe]?l.push(c):u.push(c);(c=Xe(e,(i=u,o=0<(r=l).length,a=0<i.length,s=function(e,t,n,s,l){var u,c,d,f=0,h="0",p=e&&[],m=[],g=Re,v=e||a&&ke.find.TAG("*",l),y=Ge+=null==g?1:Math.random()||.1,b=v.length;for(l&&(Re=t!==Be&&t);h!==b&&null!=(u=v[h]);h++){if(a&&u){for(c=0;d=i[c++];)if(d(u,t,n)){s.push(u);break}l&&(Ge=y)}o&&((u=!d&&u)&&f--,e&&p.push(u))}if(f+=h,o&&h!==f){for(c=0;d=r[c++];)d(p,m,t,n);if(e){if(0<f)for(;h--;)p[h]||m[h]||(m[h]=tt.call(s));m=Mt(m)}it.apply(s,m),l&&!e&&0<m.length&&1<f+r.length&&xt.uniqueSort(s)}return l&&(Ge=y,Re=g),p},o?It(s):s))).selector=e}return c},Ne=xt.select=function(e,t,n,i){var r,o,a,s,l,u="function"==typeof e&&e,c=!i&&De(e=u.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&Ie.getById&&9===t.nodeType&&$e&&ke.relative[o[1].type]){if(!(t=(ke.find.ID(a.matches[0].replace(Et,Ct),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=gt.needsContext.test(e)?0:o.length;r--&&(a=o[r],!ke.relative[s=a.type]);)if((l=ke.find[s])&&(i=l(a.matches[0].replace(Et,Ct),wt.test(o[0].type)&&Pt(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&Rt(o)))return it.apply(n,i),n;break}}return(u||Pe(e,c))(i,t,!$e,n,wt.test(e)&&Pt(t.parentNode)||t),n},Ie.sortStable=qe.split("").sort(Ze).join("")===qe,Ie.detectDuplicates=!!Fe,Me(),Ie.sortDetached=!0;var $t=Array.isArray,jt=function(e,t,n){var i,r;if(!e)return 0;if(n=n||e,void 0!==e.length){for(i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1},Ut=function(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return i;return-1},zt={isArray:$t,toArray:function(e){var t,n,i=e;if(!$t(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i},each:jt,map:function(e,t){var n=[];return jt(e,(function(i,r){n.push(t(i,r,e))})),n},filter:function(e,t){var n=[];return jt(e,(function(i,r){t&&!t(i,r,e)||n.push(i)})),n},indexOf:function(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0]);r<e.length;r++)n=t.call(i,n,e[r],r);return n},findIndex:Ut,find:function(e,t,n){var i=Ut(e,t,n);return-1!==i?e[i]:void 0},last:function(e){return e[e.length-1]}},qt=/^\s*|\s*$/g,Ht=function(e){return null==e?"":(""+e).replace(qt,"")},Gt=function(e,t){return t?!("array"!==t||!zt.isArray(e))||typeof e===t:void 0!==e},Wt=function(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),zt.each(e,(function(e,r){if(!1===t.call(i,e,r,n))return!1;Wt(e,t,n,i)})))},Yt={trim:Ht,isArray:zt.isArray,is:Gt,toArray:zt.toArray,makeMap:function(e,t,n){var i;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:zt.each,map:zt.map,grep:zt.filter,inArray:zt.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){for(var n,i,r,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s,l=arguments;for(n=1,i=l.length;n<i;n++)for(r in t=l[n])t.hasOwnProperty(r)&&void 0!==(s=t[r])&&(e[r]=s);return e},create:function(e,t,n){var i,r,o,a,s,l=this,u=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],!(r=l.createNS(e[3].replace(/\.\w+$/,""),n))[o]){if("static"===e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},u=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=u?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,(function(e,t){r[o].prototype[t]=i[t]})),l.each(t,(function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!==o&&(r[o].prototype[t]=e)}))),l.each(t.static,(function(e,t){r[o][t]=e}))}},walk:Wt,createNS:function(t,n){var i,r;for(n=n||e.window,t=t.split("."),i=0;i<t.length;i++)n[r=t[i]]||(n[r]={}),n=n[r];return n},resolve:function(t,n){var i,r;for(n=n||e.window,i=0,r=(t=t.split(".")).length;i<r&&(n=n[t[i]]);i++);return n},explode:function(e,t){return!e||Gt(e,"array")?e:zt.map(e.split(t||","),Ht)},_addCacheSuffix:function(e){var t=de.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Kt=e.document,Xt=Array.prototype.push,Zt=Array.prototype.slice,Qt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Jt=xe.Event,en=Yt.makeMap("children,contents,next,prev"),tn=function(e){return void 0!==e},nn=function(e){return"string"==typeof e},rn=function(e,t){var n,i,r;for(r=(t=t||Kt).createElement("div"),n=t.createDocumentFragment(),r.innerHTML=e;i=r.firstChild;)n.appendChild(i);return n},on=function(e,t,n,i){var r;if(nn(t))t=rn(t,bn(e[0]));else if(t.length&&!t.nodeType){if(t=pn.makeArray(t),i)for(r=t.length-1;0<=r;r--)on(e,t[r],n,i);else for(r=0;r<t.length;r++)on(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e},an=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},sn=function(e,t,n){var i,r;return t=pn(t)[0],e.each((function(){var e=this;n&&i===e.parentNode||(i=e.parentNode,r=t.cloneNode(!1),e.parentNode.insertBefore(r,e)),r.appendChild(e)})),e},ln=Yt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),un=Yt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),cn={for:"htmlFor",class:"className",readonly:"readOnly"},dn={float:"cssFloat"},fn={},hn={},pn=function(e,t){return new pn.fn.init(e,t)},mn=/^\s*|\s*$/g,gn=function(e){return null==e?"":(""+e).replace(mn,"")},vn=function(e,t){var n,i,r,o;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],!1===t.call(o,i,o)))break}else for(r=0;r<n&&(o=e[r],!1!==t.call(o,r,o));r++);return e},yn=function(e,t){var n=[];return vn(e,(function(e,i){t(i,e)&&n.push(i)})),n},bn=function(e){return e?9===e.nodeType?e:e.ownerDocument:Kt};pn.fn=pn.prototype={constructor:pn,selector:"",context:null,length:0,init:function(t,n){var i,r,o=this;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(n&&n.nodeType)o.context=n;else{if(n)return pn(t).attr(n);o.context=n=e.document}if(nn(t)){if(!(i="<"===(o.selector=t).charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:Qt.exec(t)))return pn(n).find(t);if(i[1])for(r=rn(t,bn(n)).firstChild;r;)Xt.call(o,r),r=r.nextSibling;else{if(!(r=bn(n).getElementById(i[2])))return o;if(r.id!==i[2])return o.find(t);o.length=1,o[0]=r}}else this.add(t,!1);return o},toArray:function(){return Yt.toArray(this)},add:function(e,t){var n,i,r=this;if(nn(e))return r.add(pn(e));if(!1!==t)for(n=pn.unique(r.toArray().concat(pn.makeArray(e))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else Xt.apply(r,pn.makeArray(e));return r},attr:function(e,t){var n,i=this;if("object"==typeof e)vn(e,(function(e,t){i.attr(e,t)}));else{if(!tn(t)){if(i[0]&&1===i[0].nodeType){if((n=fn[e])&&n.get)return n.get(i[0],e);if(un[e])return i.prop(e)?e:void 0;null===(t=i[0].getAttribute(e,2))&&(t=void 0)}return t}this.each((function(){var n;if(1===this.nodeType){if((n=fn[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=cn[e]||e))vn(e,(function(e,t){n.prop(e,t)}));else{if(!tn(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1===this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){var n,i,r=this,o=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))},a=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))};if("object"==typeof e)vn(e,(function(e,t){r.css(e,t)}));else if(tn(t))e=o(e),"number"!=typeof t||ln[e]||(t=t.toString()+"px"),r.each((function(){var n=this.style;if((i=hn[e])&&i.set)i.set(this,t);else{try{this.style[dn[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}}));else{if(n=r[0],(i=hn[e])&&i.get)return i.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}}return r},remove:function(){for(var e,t=this.length;t--;)e=this[t],Jt.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(tn(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(i){pn(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(tn(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return on(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return on(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){return this[0]&&this[0].parentNode?on(this,arguments,(function(e){this.parentNode.insertBefore(e,this)})):this},after:function(){return this[0]&&this[0].parentNode?on(this,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):this},appendTo:function(e){return pn(e).append(this),this},prependTo:function(e){return pn(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return sn(this,e)},wrapAll:function(e){return sn(this,e,!0)},wrapInner:function(e){return this.each((function(){pn(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){pn(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),pn(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?vn(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,i){var r,o;(o=an(i,e))!==t&&(r=i.className,o?i.className=gn((" "+r+" ").replace(" "+e+" "," ")):i.className+=r?" "+e:e)}))),n},hasClass:function(e){return an(this[0],e)},each:function(e){return vn(this,e)},on:function(e,t){return this.each((function(){Jt.bind(this,e,t)}))},off:function(e,t){return this.each((function(){Jt.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"==typeof e?Jt.fire(this,e.type,e):Jt.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new pn(Zt.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++)pn.find(e,this[t],i);return pn(i)},filter:function(e){return pn("function"==typeof e?yn(this.toArray(),(function(t,n){return e(n,t)})):pn.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof pn&&(e=e[0]),this.each((function(n,i){for(;i;){if("string"==typeof e&&pn(i).is(e)){t.push(i);break}if(i===e){t.push(i);break}i=i.parentNode}})),pn(t)},offset:function(e){var t,n,i,r,o=0,a=0;return e?this.css(e):((t=this[0])&&(i=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(r=t.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:Xt,sort:[].sort,splice:[].splice},Yt.extend(pn,{extend:Yt.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:Yt.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:Yt.isArray,each:vn,trim:gn,grep:yn,find:xt,expr:xt.selectors,unique:xt.uniqueSort,text:xt.getText,contains:xt.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!==t[i].nodeType&&t.splice(i,1);return 1===t.length?pn.find.matchesSelector(t[0],e)?[t[0]]:[]:pn.find.matches(e,t)}});var _n=function(e,t,n){var i=[],r=e[t];for("string"!=typeof n&&n instanceof pn&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&pn(r).is(n))break}1===r.nodeType&&i.push(r),r=r[t]}return i},wn=function(e,t,n,i){var r=[];for(i instanceof pn&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==i){if(e===i)break;if("string"==typeof i&&pn(e).is(i))break}r.push(e)}return r},Sn=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};vn({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _n(e,"parentNode")},next:function(e){return Sn(e,"nextSibling",1)},prev:function(e){return Sn(e,"previousSibling",1)},children:function(e){return wn(e.firstChild,"nextSibling",1)},contents:function(e){return Yt.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){pn.fn[e]=function(n){var i=[];return this.each((function(){var e=t.call(i,this,n,i);e&&(pn.isArray(e)?i.push.apply(i,e):i.push(e))})),1<this.length&&(en[e]||(i=pn.unique(i)),0===e.indexOf("parents")&&(i=i.reverse())),i=pn(i),n?i.filter(n):i}})),vn({parentsUntil:function(e,t){return _n(e,"parentNode",t)},nextUntil:function(e,t){return wn(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return wn(e,"previousSibling",1,t).slice(1)}},(function(e,t){pn.fn[e]=function(n,i){var r=[];return this.each((function(){var e=t.call(r,this,n,r);e&&(pn.isArray(e)?r.push.apply(r,e):r.push(e))})),1<this.length&&(r=pn.unique(r),0!==e.indexOf("parents")&&"prevUntil"!==e||(r=r.reverse())),r=pn(r),i?r.filter(i):r}})),pn.fn.is=function(e){return!!e&&0<this.filter(e).length},pn.fn.init.prototype=pn.fn,pn.overrideDefaults=function(e){var t,n=function(i,r){return t=t||e(),0===arguments.length&&(i=t.element),r||(r=t.context),new n.fn.init(i,r)};return pn.extend(n,this),n};var En=function(e,t,n){vn(n,(function(n,i){e[n]=e[n]||{},e[n][t]=i}))};de.ie&&de.ie<8&&(En(fn,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?void 0:t},size:function(e){var t=e.size;return 20===t?void 0:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?void 0:t}}),En(fn,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),de.ie&&de.ie<9&&(dn.float="styleFloat",En(hn,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),pn.attrHooks=fn,pn.cssHooks=hn;var Cn,xn,Tn,In,kn,On,An=function(){return Dn(0,0)},Dn=function(e,t){return{major:e,minor:t}},Pn=function(e,t){var n=String(t).toLowerCase();return 0===e.length?An():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}(e,t);if(!n)return{major:0,minor:0};var i=function(e){return Number(t.replace(n,"$"+e))};return Dn(i(1),i(2))}(e,n)},Nn=An,Rn="Firefox",Ln=function(e,t){return function(){return t===e}},Fn=function(e){var t=e.current;return{current:t,version:e.version,isEdge:Ln("Edge",t),isChrome:Ln("Chrome",t),isIE:Ln("IE",t),isOpera:Ln("Opera",t),isFirefox:Ln(Rn,t),isSafari:Ln("Safari",t)}},Mn=function(){return Fn({current:void 0,version:Nn()})},Bn=Fn,Vn=(i("Edge"),i("Chrome"),i("IE"),i("Opera"),i(Rn),i("Safari"),"Windows"),$n="Android",jn="Solaris",Un="FreeBSD",zn=function(e,t){return function(){return t===e}},qn=function(e){var t=e.current;return{current:t,version:e.version,isWindows:zn(Vn,t),isiOS:zn("iOS",t),isAndroid:zn($n,t),isOSX:zn("OSX",t),isLinux:zn("Linux",t),isSolaris:zn(jn,t),isFreeBSD:zn(Un,t)}},Hn=function(){return qn({current:void 0,version:Nn()})},Gn=qn,Wn=(i(Vn),i("iOS"),i($n),i("Linux"),i("OSX"),i(jn),i(Un),function(e,t){var n=String(t).toLowerCase();return Y(e,(function(e){return e.search(n)}))}),Yn=function(e,t){return-1!==e.indexOf(t)},Kn=function(e){return e.replace(/^\s+|\s+$/g,"")},Xn=function(e){return e.replace(/\s+$/g,"")},Zn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qn=function(e){return function(t){return Yn(t,e)}},Jn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Yn(e,"edge/")&&Yn(e,"chrome")&&Yn(e,"safari")&&Yn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Zn],search:function(e){return Yn(e,"chrome")&&!Yn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Yn(e,"msie")||Yn(e,"trident")}},{name:"Opera",versionRegexes:[Zn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qn("firefox")},{name:"Safari",versionRegexes:[Zn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Yn(e,"safari")||Yn(e,"mobile/"))&&Yn(e,"applewebkit")}}],ei=[{name:"Windows",search:Qn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Yn(e,"iphone")||Yn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Qn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qn("linux"),versionRegexes:[]},{name:"Solaris",search:Qn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qn("freebsd"),versionRegexes:[]}],ti={browsers:i(Jn),oses:i(ei)},ni=function(e){var t,n,r,o,a,s,l,u,c,d,f,h=ti.browsers(),p=ti.oses(),m=function(e,t){return Wn(e,t).map((function(e){var n=Pn(e.versionRegexes,t);return{current:e.name,version:n}}))}(h,e).fold(Mn,Bn),g=function(e,t){return Wn(e,t).map((function(e){var n=Pn(e.versionRegexes,t);return{current:e.name,version:n}}))}(p,e).fold(Hn,Gn);return{browser:m,os:g,deviceType:(n=m,r=e,o=(t=g).isiOS()&&!0===/ipad/i.test(r),a=t.isiOS()&&!o,s=t.isAndroid()&&3===t.version.major,l=t.isAndroid()&&4===t.version.major,u=o||s||l&&!0===/mobile/i.test(r),c=t.isiOS()||t.isAndroid(),d=c&&!u,f=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),{isiPad:i(o),isiPhone:i(a),isTablet:i(u),isPhone:i(d),isTouch:i(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:i(f)})}},ii={detect:(Cn=function(){var t=e.navigator.userAgent;return ni(t)},Tn=!1,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Tn||(Tn=!0,xn=Cn.apply(null,e)),xn})},ri=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:i(e)}},oi=function(t,n){var i=(n||e.document).createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||1<i.childNodes.length)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return ri(i.childNodes[0])},ai=function(t,n){var i=(n||e.document).createElement(t);return ri(i)},si=function(t,n){var i=(n||e.document).createTextNode(t);return ri(i)},li=ri,ui=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE),ci=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),di=e.Node.TEXT_NODE,fi=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,function(e){return e.dom().nodeName.toLowerCase()}),hi=function(e){return function(t){return t.dom().nodeType===e}},pi=hi(ci),mi=hi(di),gi=Object.keys,vi=Object.hasOwnProperty,yi=function(e,t){for(var n=gi(e),i=0,r=n.length;i<r;i++){var o=n[i];t(e[o],o)}},bi=function(e,t){var n={},i={};return yi(e,(function(e,r){(t(e,r)?n:i)[r]=e})),{t:n,f:i}},_i=function(e,t){return vi.call(e,t)},wi=function(e){return void 0!==e.style&&L(e.style.getPropertyValue)},Si=function(t,n,i){if(!(A(i)||R(i)||F(i)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,i+"")},Ei=function(e,t,n){Si(e.dom(),t,n)},Ci=function(e,t){var n=e.dom();yi(t,(function(e,t){Si(n,t,e)}))},xi=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Ti=function(e,t){e.dom().removeAttribute(t)},Ii=function(t,n){var i,r,o=t.dom(),a=e.window.getComputedStyle(o).getPropertyValue(n),s=""!==a||void 0!==(r=mi(i=t)?i.dom().parentNode:i.dom())&&null!==r&&r.ownerDocument.body.contains(r)?a:ki(o,n);return null===s?void 0:s},ki=function(e,t){return wi(e)?e.style.getPropertyValue(t):""},Oi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return q(e,(function(e,n){r[e]=i(t[n])})),r}},Ai=function(e,t){for(var n=[],i=function(e){return n.push(e),t(e)},r=t(e);(r=r.bind(i)).isSome(););return n},Di=function(e,t){return function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(e,t,ie.getOrDie("Node").DOCUMENT_POSITION_CONTAINED_BY)},Pi=ci,Ni=ui,Ri=function(e,t){var n=e.dom();if(n.nodeType!==Pi)return!1;var i=n;if(void 0!==i.matches)return i.matches(t);if(void 0!==i.msMatchesSelector)return i.msMatchesSelector(t);if(void 0!==i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(void 0!==i.mozMatchesSelector)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Li=function(e){return e.nodeType!==Pi&&e.nodeType!==Ni||0===e.childElementCount},Fi=function(e,t){return e.dom()===t.dom()},Mi=ii.detect().browser.isIE()?function(e,t){return Di(e.dom(),t.dom())}:function(e,t){var n=e.dom(),i=t.dom();return n!==i&&n.contains(i)},Bi=function(e){return li(e.dom().ownerDocument)},Vi=function(e){return li(e.dom().ownerDocument.defaultView)},$i=function(e){return k.from(e.dom().parentNode).map(li)},ji=function(e){return k.from(e.dom().previousSibling).map(li)},Ui=function(e){return k.from(e.dom().nextSibling).map(li)},zi=function(e){return t=Ai(e,ji),(n=M.call(t,0)).reverse(),n;var t,n},qi=function(e){return Ai(e,Ui)},Hi=function(e){return z(e.dom().childNodes,li)},Gi=function(e,t){var n=e.dom().childNodes;return k.from(n[t]).map(li)},Wi=function(e){return Gi(e,0)},Yi=function(e){return Gi(e,e.dom().childNodes.length-1)},Ki=(Oi("element","offset"),ii.detect().browser),Xi=function(e){return Y(e,pi)},Zi=function(e,t,n){var i,r,o,a=0,s=0,l=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Ii(li(e),"position"))return{x:a=(r=t.getBoundingClientRect()).left+(l.documentElement.scrollLeft||e.scrollLeft)-l.documentElement.clientLeft,y:s=r.top+(l.documentElement.scrollTop||e.scrollTop)-l.documentElement.clientTop};for(i=t;i&&i!==n&&i.nodeType;)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!==n&&i.nodeType;)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=(o=li(t),Ki.isFirefox()&&"table"===fi(o)?Xi(Hi(o)).filter((function(e){return"caption"===fi(e)})).bind((function(e){return Xi(qi(e)).map((function(t){var n=t.dom().offsetTop,i=e.dom().offsetTop,r=e.dom().offsetHeight;return n<=i?-r:0}))})).getOr(0):0)}return{x:a,y:s}},Qi={},Ji={exports:Qi};In=void 0,kn=Qi,On=Ji,function(e){"object"==typeof kn&&void 0!==On?On.exports=e():"function"==typeof In&&In.amd?In([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}((function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l=!1;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return r(t[a][1][e]||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var o=!1,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],d=!1,f=-1;function h(){d&&u&&(d=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!d){var e=l(h);d=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||d||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var i=setTimeout;function r(){}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void l(t.promise,e)}s(t.promise,i)}else(1===e._state?s:l)(t.promise,e._value)}))):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void d((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){l(e,t)}var i,r}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn((function(){e._handled||o._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e((function(e){n||(n=!0,s(t,e))}),(function(e){n||(n=!0,l(t,e))}))}catch(e){if(n)return;n=!0,l(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new c(e,t,n)),n},o.all=function(e){var t=Array.prototype.slice.call(e);return new o((function(e,n){if(0===t.length)return e([]);var i=t.length;function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){r(o,e)}),n)}t[o]=a,0==--i&&e(t)}catch(e){n(e)}}for(var o=0;o<t.length;o++)r(o,t[o])}))},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o((function(t){t(e)}))},o.reject=function(e){return new o((function(t,n){n(e)}))},o.race=function(e){return new o((function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)}))},o._immediateFn="function"==typeof e?function(t){e(t)}:function(e){i(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,i){var r=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function u(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new u(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=l++,i=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,r((function(){s[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof i?i:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var i=e("promise-polyfill"),r="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:r.Promise||i}},{"promise-polyfill":2}]},{},[4])(4)}));var er=Ji.exports.boltExport,tr=function(t){var n=k.none(),i=[],r=function(e){o()?a(e):i.push(e)},o=function(){return n.isSome()},a=function(t){n.each((function(n){e.setTimeout((function(){t(n)}),0)}))};return t((function(e){n=k.some(e),function(e){q(e,a)}(i),i=[]})),{get:r,map:function(e){return tr((function(t){r((function(n){t(e(n))}))}))},isReady:o}},nr={nu:tr,pure:function(e){return tr((function(t){t(e)}))}},ir=function(t){e.setTimeout((function(){throw t}),0)},rr=function(e){var t=function(t){e().then(t,ir)};return{map:function(t){return rr((function(){return e().then(t)}))},bind:function(t){return rr((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return rr((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return nr.nu(t)},toCached:function(){var t=null;return rr((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},or=function(e){return rr((function(){return new er(e)}))},ar=function(e){return function(e,t){return t((function(t){var n=[],i=0;0===e.length?t([]):q(e,(function(r,o){var a;r.get((a=o,function(r){n[a]=r,++i>=e.length&&t(n)}))}))}))}(e,or)},sr=function(e){return{is:function(t){return e===t},isValue:C,isError:E,getOr:i(e),getOrThunk:i(e),getOrDie:i(e),or:function(t){return sr(e)},orThunk:function(t){return sr(e)},fold:function(t,n){return n(e)},map:function(t){return sr(t(e))},mapError:function(t){return sr(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return k.some(e)}}},lr=function(e){return{is:E,isValue:E,isError:C,getOr:r,getOrThunk:function(e){return e()},getOrDie:function(){return t=String(e),function(){throw new Error(t)}();var t},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return lr(e)},mapError:function(t){return lr(t(e))},each:t,bind:function(t){return lr(e)},exists:E,forall:C,toOption:k.none}},ur={value:sr,error:lr,fromOption:function(e,t){return e.fold((function(){return lr(t)}),sr)}};function cr(e,t){var n=e,i=function(e,n,i,r){var o,a;if(e){if(!r&&e[n])return e[n];if(e!==t){if(o=e[i])return o;for(a=e.parentNode;a&&a!==t;a=a.parentNode)if(o=a[i])return o}}};this.current=function(){return n},this.next=function(e){return n=i(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=i(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=function(e,n,i,r){var o,a,s;if(e){if(o=e.previousSibling,t&&o===t)return;if(o){if(!r)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if((a=e.parentNode)&&a!==t)return a}}(n,"lastChild",0,e)}}var dr,fr,hr,pr=function(e){var t;return function(n){return(t=t||function(e,t){for(var n={},i=0,r=e.length;i<r;i++){var o=e[i];n[String(o)]=t(o,i)}return n}(e,i(!0))).hasOwnProperty(fi(n))}},mr=pr(["h1","h2","h3","h4","h5","h6"]),gr=pr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),vr=function(e){return pi(e)&&!gr(e)},yr=function(e){return pi(e)&&"br"===fi(e)},br=pr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),_r=pr(["ul","ol","dl"]),wr=pr(["li","dd","dt"]),Sr=pr(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),Er=pr(["thead","tbody","tfoot"]),Cr=pr(["td","th"]),xr=pr(["pre","script","textarea","style"]),Tr=function(e){return function(t){return!!t&&t.nodeType===e}},Ir=Tr(1),kr=function(e){var t=e.toLowerCase().split(" ");return function(e){var n,i;if(e&&e.nodeType)for(i=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(i===t[n])return!0;return!1}},Or=function(e){return function(t){if(Ir(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Ar=Tr(3),Dr=Tr(8),Pr=Tr(9),Nr=Tr(11),Rr=kr("br"),Lr=Or("true"),Fr=Or("false"),Mr={isText:Ar,isElement:Ir,isComment:Dr,isDocument:Pr,isDocumentFragment:Nr,isBr:Rr,isContentEditableTrue:Lr,isContentEditableFalse:Fr,isRestrictedNode:function(e){return!!e&&!Object.getPrototypeOf(e)},matchNodeNames:kr,hasPropValue:function(e,t){return function(n){return Ir(n)&&n[e]===t}},hasAttribute:function(e,t){return function(t){return Ir(t)&&t.hasAttribute(e)}},hasAttributeValue:function(e,t){return function(n){return Ir(n)&&n.getAttribute(e)===t}},matchStyleValues:function(e,t){var n=t.toLowerCase().split(" ");return function(t){var i;if(Ir(t))for(i=0;i<n.length;i++){var r=t.ownerDocument.defaultView.getComputedStyle(t,null);if((r?r.getPropertyValue(e):null)===n[i])return!0}return!1}},isBogus:function(e){return Ir(e)&&e.hasAttribute("data-mce-bogus")},isBogusAll:function(e){return Ir(e)&&"all"===e.getAttribute("data-mce-bogus")},isTable:function(e){return Ir(e)&&"TABLE"===e.tagName}},Br=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Vr=function(e,t){var n,i=t.childNodes;if(!Mr.isElement(t)||!Br(t)){for(n=i.length-1;0<=n;n--)Vr(e,i[n]);if(!1===Mr.isDocument(t)){if(Mr.isText(t)&&0<t.nodeValue.length){var r=Yt.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||0<r)return;if(0===r&&(a=(o=t).previousSibling&&"SPAN"===o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"===o.nextSibling.nodeName,a&&s))return}else if(Mr.isElement(t)&&(1===(i=t.childNodes).length&&Br(i[0])&&t.parentNode.insertBefore(i[0],t),i.length||Sr(li(t))))return;e.remove(t)}var o,a,s;return t}},$r={trimNode:Vr},jr=Yt.makeMap,Ur=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zr=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qr=/[<>&\"\']/g,Hr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Gr={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};fr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},hr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Wr=function(e,t){var n,i,r,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),fr[i]||(r="&"+e[n+1]+";",o[i]=r,o[r]=i);return o}};dr=Wr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Yr=function(e,t){return e.replace(t?Ur:zr,(function(e){return fr[e]||e}))},Kr=function(e,t){return e.replace(t?Ur:zr,(function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":fr[e]||"&#"+e.charCodeAt(0)+";"}))},Xr=function(e,t,n){return n=n||dr,e.replace(t?Ur:zr,(function(e){return fr[e]||n[e]||e}))},Zr={encodeRaw:Yr,encodeAllRaw:function(e){return(""+e).replace(qr,(function(e){return fr[e]||e}))},encodeNumeric:Kr,encodeNamed:Xr,getEncodeFunc:function(e,t){var n=Wr(t)||dr,i=jr(e.replace(/\+/g,","));return i.named&&i.numeric?function(e,t){return e.replace(t?Ur:zr,(function(e){return void 0!==fr[e]?fr[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))}:i.named?t?function(e,t){return Xr(e,t,n)}:Xr:i.numeric?Kr:Yr},decode:function(e){return e.replace(Hr,(function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Gr[t]||String.fromCharCode(t):hr[e]||dr[e]||(n=e,(i=ai("div").dom()).innerHTML=n,i.textContent||i.innerText||n);var n,i}))}},Qr={},Jr={},eo=Yt.makeMap,to=Yt.each,no=Yt.extend,io=Yt.explode,ro=Yt.inArray,oo=function(e,t){return(e=Yt.trim(e))?e.split(t||" "):[]},ao=function(e){var t,n,i,r,o,a,s={},l=function(e,n,i){var r,o,a,l=function(e,t){var n,i,r={};for(n=0,i=e.length;n<i;n++)r[e[n]]=t||{};return r};for(n=n||"","string"==typeof(i=i||[])&&(i=oo(i)),r=(e=oo(e)).length;r--;)a={attributes:l(o=oo([t,n].join(" "))),attributesOrder:o,children:l(i,Jr)},s[e[r]]=a},u=function(e,t){var n,i,r,o;for(n=(e=oo(e)).length,t=oo(t);n--;)for(i=s[e[n]],r=0,o=t.length;r<o;r++)i.attributes[t[r]]={},i.attributesOrder.push(t[r])};return Qr[e]?Qr[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",i=[i,a="acronym applet basefont big font strike tt"].join(" "),to(oo(a),(function(e){l(e,"",i)})),n=[n,o="center dir isindex noframes"].join(" "),r=[n,i].join(" "),to(oo(o),(function(e){l(e,"",r)}))),r=r||[n,i].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),l("address dt dd div caption","",r),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),l("blockquote","cite",r),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",r),l("dl","","dt dd"),l("a","href target rel media hreflang type",i),l("q","cite",i),l("ins del","cite datetime",r),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",r),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),l("param","name value"),l("map","name",[r,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",r),l("th","colspan rowspan headers scope abbr",r),l("form","accept-charset action autocomplete enctype method name novalidate target",r),l("fieldset","disabled form name",[r,"legend"].join(" ")),l("label","form for",i),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:i),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[r,"li"].join(" ")),l("noscript","",r),"html4"!==e&&(l("wbr"),l("ruby","",[i,"rt rp"].join(" ")),l("figcaption","",r),l("mark rt rp summary bdi","",i),l("canvas","width height",r),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[i,"option"].join(" ")),l("article section nav aside main header footer","",r),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[r,"figcaption"].join(" ")),l("time","datetime",i),l("dialog","open",r),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",i),l("progress","value max",i),l("meter","value min max low high optimum",i),l("details","open",[r,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select","onchange"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==e&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("iframe","sandbox seamless allowfullscreen")),to(oo("a form meter progress dfn"),(function(e){s[e]&&delete s[e].children[e]})),delete s.caption.children.table,delete s.script,Qr[e]=s)},so=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),to(e,(function(e,i){n[i]=n[i.toUpperCase()]="map"===t?eo(e,/[, ]/):io(e,/[, ]/)}))),n};function lo(e){var t,n,i,r,o,a,s,l,u,c,d,f,h,p={},m={},g=[],v={},y={},b=function(t,n,i){var r=e[t];return r?r=eo(r,/[, ]/,eo(r.toUpperCase(),/[, ]/)):(r=Qr[t])||(r=eo(n," ",eo(n.toUpperCase()," ")),r=no(r,i),Qr[t]=r),r};i=ao((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),t=so(e.valid_styles),n=so(e.invalid_styles,"map"),l=so(e.valid_classes,"map"),r=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=b("non_empty_elements","td th iframe video audio object script pre code",a),d=b("move_caret_before_on_enter_elements","table",c),f=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),u=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",f),h=b("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),to((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),(function(e){y[e]=new RegExp("</"+e+"[^>]*>","gi")}));var _=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},w=function(e){var t,n,i,r,o,a,s,l,u,c,d,f,h,m,v,y,b,w,S,E=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,C=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,x=/[*?+]/;if(e)for(e=oo(e,","),p["@"]&&(y=p["@"].attributes,b=p["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(o=E.exec(e[t])){if(m=o[1],u=o[2],v=o[3],l=o[5],a={attributes:f={},attributesOrder:h=[]},"#"===m&&(a.paddEmpty=!0),"-"===m&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),y){for(w in y)f[w]=y[w];h.push.apply(h,b)}if(l)for(i=0,r=(l=oo(l,"|")).length;i<r;i++)if(o=C.exec(l[i])){if(s={},d=o[1],c=o[2].replace(/[\\:]:/g,":"),m=o[3],S=o[4],"!"===d&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(c),s.required=!0),"-"===d){delete f[c],h.splice(ro(h,c),1);continue}m&&("="===m&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:c,value:S}),s.defaultValue=S),":"===m&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:c,value:S}),s.forcedValue=S),"<"===m&&(s.validValues=eo(S,"?"))),x.test(c)?(a.attributePatterns=a.attributePatterns||[],s.pattern=_(c),a.attributePatterns.push(s)):(f[c]||h.push(c),f[c]=s)}y||"@"!==u||(y=f,b=h),v&&(a.outputName=u,p[v]=a),x.test(u)?(a.pattern=_(u),g.push(a)):p[u]=a}},S=function(e){p={},g=[],w(e),to(i,(function(e,t){m[t]=e.children}))},E=function(e){var t=/^(~)?(.+)$/;e&&(Qr.text_block_elements=Qr.block_elements=null,to(oo(e,","),(function(e){var n=t.exec(e),i="~"===n[1],r=i?"span":"div",o=n[2];if(m[o]=m[r],v[o]=r,i||(u[o.toUpperCase()]={},u[o]={}),!p[o]){var a=p[r];delete(a=no({},a)).removeEmptyAttrs,delete a.removeEmpty,p[o]=a}to(m,(function(e,t){e[r]&&(m[t]=e=no({},m[t]),e[o]=e[r])}))})))},C=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Qr[e.schema]=null,t&&to(oo(t,","),(function(e){var t,i,r=n.exec(e);r&&(i=r[1],t=i?m[r[2]]:m[r[2]]={"#comment":{}},t=m[r[2]],to(oo(r[3],"|"),(function(e){"-"===i?delete t[e]:t[e]={}})))}))},x=function(e){var t,n=p[e];if(n)return n;for(t=g.length;t--;)if((n=g[t]).pattern.test(e))return n};return e.valid_elements?S(e.valid_elements):(to(i,(function(e,t){p[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},m[t]=e.children})),"html5"!==e.schema&&to(oo("strong/b em/i"),(function(e){e=oo(e,"/"),p[e[1]].outputName=e[0]})),to(oo("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(e){p[e]&&(p[e].removeEmpty=!0)})),to(oo("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){p[e].paddEmpty=!0})),to(oo("span"),(function(e){p[e].removeEmptyAttrs=!0}))),E(e.custom_elements),C(e.valid_children),w(e.extended_valid_elements),C("+ol[ul|ol],+ul[ul|ol]"),to({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,t){p[t]&&(p[t].parentsRequired=oo(e))})),e.invalid_elements&&to(io(e.invalid_elements),(function(e){p[e]&&delete p[e]})),x("span")||w("span[!data-mce-type|*]"),{children:m,elements:p,getValidStyles:function(){return t},getValidClasses:function(){return l},getBlockElements:function(){return u},getInvalidStyles:function(){return n},getShortEndedElements:function(){return a},getTextBlockElements:function(){return f},getTextInlineElements:function(){return h},getBoolAttrs:function(){return s},getElementRule:x,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return d},getWhiteSpaceElements:function(){return r},getSpecialElements:function(){return y},isValidChild:function(e,t){var n=m[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,i,r=x(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},getCustomElements:function(){return v},addValidElements:w,setValidElements:S,addCustomElements:E,addValidChildren:C}}var uo=function(e,t,n,i){var r=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+r(t)+r(n)+r(i)};function co(e,t){var n,i,r,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,c={},d="\ufeff";for(e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles()),i="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<i.length;n++)c[i[n]]=d+n,c[d+n]=i[n];return{toHex:function(e){return e.replace(a,uo)},parse:function(t){var i,r,o,f,h,p,m,g={},v=e.url_converter,y=e.url_converter_scope||this,b=function(e,t,i){var r,o,a,s;if((r=g[e+"-top"+t])&&(o=g[e+"-right"+t])&&(a=g[e+"-bottom"+t])&&(s=g[e+"-left"+t])){var l=[r,o,a,s];for(n=l.length-1;n--&&l[n]===l[n+1];);-1<n&&i||(g[e+t]=-1===n?l[0]:l.join(" "),delete g[e+"-top"+t],delete g[e+"-right"+t],delete g[e+"-bottom"+t],delete g[e+"-left"+t])}},_=function(e){var t,n=g[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return g[e]=n[0],!0}},w=function(e){return f=!0,c[e]},S=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return c[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},E=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},C=function(e){return e.replace(/\\[0-9a-f]+/gi,E)},x=function(t,n,i,r,o,a){if(o=o||a)return"'"+(o=S(o)).replace(/\'/g,"\\'")+"'";if(n=S(n||i||r),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return v&&(n=v.call(y,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,w).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,w)}));i=l.exec(t);)if(l.lastIndex=i.index+i[0].length,r=i[1].replace(u,"").toLowerCase(),o=i[2].replace(u,""),r&&o){if(r=C(r),o=C(o),-1!==r.indexOf(d)||-1!==r.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===r&&"700"===o?o="bold":"color"!==r&&"background-color"!==r||(o=o.toLowerCase()),o=(o=o.replace(a,uo)).replace(s,x),g[r]=f?S(o,!0):o}b("border","",!0),b("border","-width"),b("border","-color"),b("border","-style"),b("padding",""),b("margin",""),"border",p="border-style",m="border-color",_(h="border-width")&&_(p)&&_(m)&&(g.border=g[h]+" "+g[p]+" "+g[m],delete g[h],delete g[p],delete g[m]),"medium none"===g.border&&delete g.border,"none"===g["border-image"]&&delete g["border-image"]}return g},serialize:function(e,t){var n,i,a,s,l,u="",c=function(t){var n,i,o,a;if(n=r[t])for(i=0,o=n.length;i<o;i++)t=n[i],(a=e[t])&&(u+=(0<u.length?" ":"")+t+": "+a+";")};if(t&&r)c("*"),c(t);else for(n in e)!(i=e[n])||o&&(a=n,s=t,l=void 0,(l=o["*"])&&l[a]||(l=o[s])&&l[a])||(u+=(0<u.length?" ":"")+n+": "+i+";");return u}}}var fo,ho=Yt.each,po=Yt.grep,mo=de.ie,go=/^([a-z0-9],?)+$/i,vo=/^[ \t\r\n]*$/,yo=function(e,t){var n=t.attr("style"),i=e.serialize(e.parse(n),t[0].nodeName);i||(i=null),t.attr("data-mce-style",i)},bo=function(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!==i||i!==n&&e.nodeValue.length)&&(r++,n=i);return r};function _o(t,o){var a,s=this;void 0===o&&(o={});var l={},u=e.window,c={},d=0,f=function(t,o){void 0===o&&(o={});var a,s=0,l={};a=o.maxLoadTime||5e3;var u=function(e){t.getElementsByTagName("head")[0].appendChild(e)},c=function(n,i,r){var c,d,f,h,p=function(){for(var e=h.passed,t=e.length;t--;)e[t]();h.status=2,h.passed=[],h.failed=[]},m=function(){for(var e=h.failed,t=e.length;t--;)e[t]();h.status=3,h.passed=[],h.failed=[]},g=function(e,t){e()||((new Date).getTime()-f<a?ge.setTimeout(t):m())},v=function(){g((function(){for(var e,n,i=t.styleSheets,r=i.length;r--;)if((n=(e=i[r]).ownerNode?e.ownerNode:e.owningElement)&&n.id===c.id)return p(),!0}),v)},y=function(){g((function(){try{var e=d.sheet.cssRules;return p(),!!e}catch(e){}}),y)};if(n=Yt._addCacheSuffix(n),l[n]?h=l[n]:(h={passed:[],failed:[]},l[n]=h),i&&h.passed.push(i),r&&h.failed.push(r),1!==h.status)if(2!==h.status)if(3!==h.status){if(h.status=1,(c=t.createElement("link")).rel="stylesheet",c.type="text/css",c.id="u"+s++,c.async=!1,c.defer=!1,f=(new Date).getTime(),o.contentCssCors&&(c.crossOrigin="anonymous"),!("onload"in c)||(b=e.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(b[1],10)<536){if(0<e.navigator.userAgent.indexOf("Firefox"))return(d=t.createElement("style")).textContent='@import "'+n+'"',y(),void u(d);v()}else c.onload=v,c.onerror=m;var b;u(c),c.href=n}else m();else p()},d=function(e){return or((function(t){c(e,n(t,i(ur.value(e))),n(t,i(ur.error(e))))}))},f=function(e){return e.fold(r,r)};return{load:c,loadAll:function(e,t,n){ar(z(e,d)).get((function(e){var i=H(e,(function(e){return e.isValue()}));0<i.fail.length?n(i.fail.map(f)):t(i.pass.map(f))}))}}}(t,{contentCssCors:o.contentCssCors}),h=[],p=o.schema?o.schema:lo({}),m=co({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope},o.schema),g=o.ownEvents?new xe(o.proxy):xe.Event,v=p.getBlockElements(),y=pn.overrideDefaults((function(){return{context:t,element:W.getRoot()}})),b=function(e){if(e&&t&&"string"==typeof e){var n=t.getElementById(e);return n&&n.id!==e?t.getElementsByName(e)[1]:n}return e},_=function(e){return"string"==typeof e&&(e=b(e)),y(e)},w=function(e,t,n){var i,r,o=_(e);return o.length&&(r=(i=a[t])&&i.get?i.get(o,t):o.attr(t)),void 0===r&&(r=n||""),r},S=function(e){var t=b(e);return t?t.attributes:[]},E=function(e,t,n){var i,r;""===n&&(n=null);var s=_(e);i=s.attr(t),s.length&&((r=a[t])&&r.set?r.set(s,n,t):s.attr(t,n),i!==n&&o.onSetAttrib&&o.onSetAttrib({attrElm:s,attrName:t,attrValue:n}))},C=function(){return o.root_element||t.body},x=function(e,n){return Zi(t.body,b(e),n)},T=function(e,t,n){var i=_(e);return n?i.css(t):("float"===(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})))&&(t=de.ie&&de.ie<12?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[t]:void 0)},I=function(e){var t,n;return e=b(e),t=T(e,"width"),n=T(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},k=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(go.test(t)){var i=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase();for(n=i.length-1;0<=n;n--)if(i[n]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var o=Array.isArray(e)?e:[e];return 0<xt(t,o[0].ownerDocument||o[0],null,o).length},O=function(e,t,n,i){var r,o=[],a=b(e);for(i=void 0===i,n=n||("BODY"!==C().nodeName?C().parentNode:null),Yt.is(t,"string")&&(t="*"===(r=t)?function(e){return 1===e.nodeType}:function(e){return k(e,r)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!i)return[a];o.push(a)}a=a.parentNode}return i?o:null},A=function(e,t,n){var i=t;if(e)for("string"==typeof t&&(i=function(e){return k(e,t)}),e=e[n];e;e=e[n])if("function"==typeof i&&i(e))return e;return null},D=function(e,t,n){var i,r="string"==typeof e?b(e):e;if(!r)return!1;if(Yt.isArray(r)&&(r.length||0===r.length))return i=[],ho(r,(function(e,r){e&&("string"==typeof e&&(e=b(e)),i.push(t.call(n,e,r)))})),i;var o=n||s;return t.call(o,r)},P=function(e,t){_(e).each((function(e,n){ho(t,(function(e,t){E(n,t,e)}))}))},N=function(e,t){var n=_(e);mo?n.each((function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){pn("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}})):n.html(t)},R=function(e,n,i,r,o){return D(e,(function(e){var a="string"==typeof n?t.createElement(n):n;return P(a,i),r&&("string"!=typeof r&&r.nodeType?a.appendChild(r):"string"==typeof r&&N(a,r)),o?a:e.appendChild(a)}))},L=function(e,n,i){return R(t.createElement(e),e,n,i,!0)},F=Zr.decode,M=Zr.encodeAllRaw,B=function(e,t){var n=_(e);return t?n.each((function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():n.remove(),1<n.length?n.toArray():n[0]},V=function(e,t,n){_(e).toggleClass(t,n).each((function(){""===this.className&&pn(this).attr("class",null)}))},$=function(e,t,n){return D(t,(function(t){return Yt.is(t,"array")&&(e=e.cloneNode(!0)),n&&ho(po(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},j=function(){return t.createRange()},U=function(e,n,i,r){if(Yt.isArray(e)){for(var a=e.length;a--;)e[a]=U(e[a],n,i,r);return e}return!o.collect||e!==t&&e!==u||h.push([e,n,i,r]),g.bind(e,n,i,r||W)},q=function(e,n,i){var r;if(Yt.isArray(e)){for(r=e.length;r--;)e[r]=q(e[r],n,i);return e}if(h&&(e===t||e===u))for(r=h.length;r--;){var o=h[r];e!==o[0]||n&&n!==o[1]||i&&i!==o[2]||g.unbind(o[0],o[1],o[2])}return g.unbind(e,n,i)},G=function(e){if(e&&Mr.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},W={doc:t,settings:o,win:u,files:c,stdMode:!0,boxModel:!0,styleSheetLoader:f,boundEvents:h,styles:m,schema:p,events:g,isBlock:function(e){if("string"==typeof e)return!!v[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!v[e.nodeName])}return!1},$:y,$$:_,root:null,clone:function(e,n){if(!mo||1!==e.nodeType||n)return e.cloneNode(n);if(!n){var i=t.createElement(e.nodeName);return ho(S(e),(function(t){E(i,t.nodeName,w(e,t.nodeName))})),i}return null},getRoot:C,getViewPort:function(e){var t=e||u,n=t.document.documentElement;return{x:t.pageXOffset||n.scrollLeft,y:t.pageYOffset||n.scrollTop,w:t.innerWidth||n.clientWidth,h:t.innerHeight||n.clientHeight}},getRect:function(e){var t,n;return e=b(e),t=x(e),n=I(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:I,getParent:function(e,t,n){var i=O(e,t,n,!1);return i&&0<i.length?i[0]:null},getParents:O,get:b,getNext:function(e,t){return A(e,t,"nextSibling")},getPrev:function(e,t){return A(e,t,"previousSibling")},select:function(e,n){return xt(e,b(n)||o.root_element||t,[])},is:k,add:R,create:L,createHTML:function(e,t,n){var i,r="";for(i in r+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&(r+=" "+i+'="'+M(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var n,i=t.createElement("div"),r=t.createDocumentFragment();for(r.appendChild(i),e&&(i.innerHTML=e);n=i.firstChild;)r.appendChild(n);return r.removeChild(i),r},remove:B,setStyle:function(e,t,n){var i=_(e).css(t,n);o.update_styles&&yo(m,i)},getStyle:T,setStyles:function(e,t){var n=_(e).css(t);o.update_styles&&yo(m,n)},removeAllAttribs:function(e){return D(e,(function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))}))},setAttrib:E,setAttribs:P,getAttrib:w,getPos:x,parseStyle:function(e){return m.parse(e)},serializeStyle:function(e,t){return m.serialize(e,t)},addStyle:function(n){var i,r;if(W!==_o.DOM&&t===e.document){if(l[n])return;l[n]=!0}(r=t.getElementById("mceDefaultStyles"))||((r=t.createElement("style")).id="mceDefaultStyles",r.type="text/css",(i=t.getElementsByTagName("head")[0]).firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=n:r.appendChild(t.createTextNode(n))},loadCSS:function(n){var i;W===_o.DOM||t!==e.document?(n||(n=""),i=t.getElementsByTagName("head")[0],ho(n.split(","),(function(e){var t;e=Yt._addCacheSuffix(e),c[e]||(c[e]=!0,t=L("link",{rel:"stylesheet",href:e}),i.appendChild(t))}))):_o.DOM.loadCSS(n)},addClass:function(e,t){_(e).addClass(t)},removeClass:function(e,t){V(e,t,!1)},hasClass:function(e,t){return _(e).hasClass(t)},toggleClass:V,show:function(e){_(e).show()},hide:function(e){_(e).hide()},isHidden:function(e){return"none"===_(e).css("display")},uniqueId:function(e){return(e||"mce_")+d++},setHTML:N,getOuterHTML:function(e){var t="string"==typeof e?b(e):e;return Mr.isElement(t)?t.outerHTML:pn("<div></div>").append(pn(t).clone()).html()},setOuterHTML:function(e,t){_(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}B(pn(this).html(t),!0)}))},decode:F,encode:M,insertAfter:function(e,t){var n=b(t);return D(e,(function(e){var t,i;return t=n.parentNode,(i=n.nextSibling)?t.insertBefore(e,i):t.appendChild(e),e}))},replace:$,rename:function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=L(t),ho(S(e),(function(t){E(n,t.nodeName,w(e,t.nodeName))})),$(n,e,!0)),n||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return m.toHex(Yt.trim(e))},run:D,getAttribs:S,isEmpty:function(e,t){var n,i,r,o,a,s,l=0;if(e=e.firstChild){a=new cr(e,e.parentNode),t=t||(p?p.getNonEmptyElements():null),o=p?p.getWhiteSpaceElements():{};do{if(r=e.nodeType,Mr.isElement(e)){var u=e.getAttribute("data-mce-bogus");if(u){e=a.next("all"===u);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){l++,e=a.next();continue}return!1}for(n=(i=S(e)).length;n--;)if("name"===(s=i[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8===r)return!1;if(3===r&&!vo.test(e.nodeValue))return!1;if(3===r&&e.parentNode&&o[e.parentNode.nodeName]&&vo.test(e.nodeValue))return!1;e=a.next()}while(e)}return l<=1},createRng:j,nodeIndex:bo,split:function(e,t,n){var i,r,o,a=j();if(e&&t)return a.setStart(e.parentNode,bo(e)),a.setEnd(t.parentNode,bo(t)),i=a.extractContents(),(a=j()).setStart(t.parentNode,bo(t)+1),a.setEnd(e.parentNode,bo(e)+1),r=a.extractContents(),(o=e.parentNode).insertBefore($r.trimNode(W,i),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore($r.trimNode(W,r),e),B(e),n||t},bind:U,unbind:q,fire:function(e,t,n){return g.fire(e,t,n)},getContentEditable:G,getContentEditableParent:function(e){for(var t=C(),n=null;e&&e!==t&&null===(n=G(e));e=e.parentNode);return n},destroy:function(){if(h)for(var e=h.length;e--;){var t=h[e];g.unbind(t[0],t[1],t[2])}xt.setDocument&&xt.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}};return a=function(e,t,n){var i={},r=t.keep_values,o={set:function(e,i,r){t.url_converter&&(i=t.url_converter.call(t.url_converter_scope||n(),i,r,e[0])),e.attr("data-mce-"+r,i).attr(r,i)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}};return i={style:{set:function(e,t){null===t||"object"!=typeof t?(r&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return e.serialize(e.parse(n),t[0].nodeName)}}},r&&(i.href=i.src=o),i}(m,o,(function(){return W})),W}(fo=_o||(_o={})).DOM=fo(e.document),fo.nodeIndex=bo;var wo=_o,So=wo.DOM,Eo=Yt.each,Co=Yt.grep,xo=function(e){return"function"==typeof e},To=function(){var t={},n=[],i={},r=[],o=0;this.isDone=function(e){return 2===t[e]},this.markDone=function(e){t[e]=2},this.add=this.load=function(e,r,o,a){void 0===t[e]&&(n.push(e),t[e]=0),r&&(i[e]||(i[e]=[]),i[e].push({success:r,failure:a,scope:o||this}))},this.remove=function(e){delete t[e],delete i[e]},this.loadQueue=function(e,t,i){this.loadScripts(n,e,t,i)},this.loadScripts=function(n,a,s,l){var u,c=[],d=function(e,t){Eo(i[t],(function(t){xo(t[e])&&t[e].call(t.scope)})),i[t]=void 0};r.push({success:a,failure:l,scope:s||this}),(u=function(){var i=Co(n);if(n.length=0,Eo(i,(function(n){var i,r,a,s,l,f;2!==t[n]?3!==t[n]?1!==t[n]&&(t[n]=1,o++,i=n,r=function(){t[n]=2,o--,d("success",n),u()},a=function(){t[n]=3,o--,c.push(n),d("failure",n),u()},l=(f=So).uniqueId(),(s=e.document.createElement("script")).id=l,s.type="text/javascript",s.src=Yt._addCacheSuffix(i),s.onload=function(){f.remove(l),s&&(s.onreadystatechange=s.onload=s=null),r()},s.onerror=function(){xo(a)?a():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+i)},(e.document.getElementsByTagName("head")[0]||e.document.body).appendChild(s)):d("failure",n):d("success",n)})),!o){var a=r.slice(0);r.length=0,Eo(a,(function(e){0===c.length?xo(e.success)&&e.success.call(e.scope):xo(e.failure)&&e.failure.call(e.scope,c)}))}})()}};To.ScriptLoader=new To;var Io,ko=Yt.each;function Oo(){var e=this,t=[],n={},i={},r=[],o=function(e){var t;return i[e]&&(t=i[e].dependencies),t||[]},a=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},s=function(e,t,n,i){var r=o(e);ko(r,(function(e){var n=a(t,e);l(n.resource,n,void 0,void 0)})),n&&(i?n.call(i):n.call(To))},l=function(e,t,r,o,a){if(!n[e]){var l="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==l.indexOf("/")&&-1===l.indexOf("://")&&(l=Oo.baseURL+"/"+l),n[e]=l.substring(0,l.lastIndexOf("/")),i[e]?s(e,t,r,o):To.ScriptLoader.add(l,(function(){return s(e,t,r,o)}),o,a)}};return{items:t,urls:n,lookup:i,_listeners:r,get:function(e){return i[e]?i[e].instance:void 0},dependencies:o,requireLangPack:function(e,t){var i=Oo.language;if(i&&!1!==Oo.languageLoad){if(t)if(-1!==(t=","+t+",").indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1===t.indexOf(","+i+","))return;To.ScriptLoader.add(n[e]+"/langs/"+i+".js")}},add:function(e,n,o){t.push(n),i[e]={instance:n,dependencies:o};var a=H(r,(function(t){return t.name===e}));return r=a.fail,ko(a.pass,(function(e){e.callback()})),n},remove:function(e){delete n[e],delete i[e]},createUrl:a,addComponents:function(t,n){var i=e.urls[t];ko(n,(function(e){To.ScriptLoader.add(i+"/"+e)}))},load:l,waitFor:function(e,t){i.hasOwnProperty(e)?t():r.push({name:e,callback:t})}}}(Io=Oo||(Oo={})).PluginManager=Io(),Io.ThemeManager=Io();var Ao=function(e,t){$i(e).each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))},Do=function(e,t){Ui(e).fold((function(){$i(e).each((function(e){No(e,t)}))}),(function(e){Ao(e,t)}))},Po=function(e,t){Wi(e).fold((function(){No(e,t)}),(function(n){e.dom().insertBefore(t.dom(),n.dom())}))},No=function(e,t){e.dom().appendChild(t.dom())},Ro=function(e,t){q(t,(function(t){No(e,t)}))},Lo=function(e){e.dom().textContent="",q(Hi(e),(function(e){Fo(e)}))},Fo=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Mo=function(e){var t,n=Hi(e);0<n.length&&(t=e,q(n,(function(e){Ao(t,e)}))),Fo(e)},Bo=function(t,n){var i=null;return{cancel:function(){null!==i&&(e.clearTimeout(i),i=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===i&&(i=e.setTimeout((function(){t.apply(null,r),i=null}),n))}}},Vo=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return Vo(n())}}},$o=function(e,t){var n=xi(e,t);return void 0===n||""===n?[]:n.split(" ")},jo=function(e){return void 0!==e.dom().classList},Uo=function(e,t){jo(e)?e.dom().classList.add(t):function(e,t){return i=t,r=$o(n=e,"class").concat([i]),Ei(n,"class",r.join(" ")),!0;var n,i,r}(e,t)},zo=function(e,t){return jo(e)&&e.dom().classList.contains(t)},qo=function(e,t){var n=[];return q(Hi(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(qo(e,t))})),n},Ho=function(t,n){return i=n,o=void 0===(r=t)?e.document:r.dom(),Li(o)?[]:z(o.querySelectorAll(i),li);var i,r,o};function Go(e,t,n,i,r){return e(n,i)?k.some(n):L(r)&&r(n)?k.none():t(n,i,r)}var Wo,Yo=function(e,t,n){for(var r=e.dom(),o=L(n)?n:i(!1);r.parentNode;){r=r.parentNode;var a=li(r);if(t(a))return k.some(a);if(o(a))break}return k.none()},Ko=function(e,t,n){return Go((function(e,t){return t(e)}),Yo,e,t,n)},Xo=function(e,t,n){return Yo(e,(function(e){return Ri(e,t)}),n)},Zo=function(t,n){return i=n,o=void 0===(r=t)?e.document:r.dom(),Li(o)?k.none():k.from(o.querySelector(i)).map(li);var i,r,o},Qo=function(e,t,n){return Go(Ri,Xo,e,t,n)},Jo=i("mce-annotation"),ea=i("data-mce-annotation"),ta=i("data-mce-annotation-uid"),na=function(e,t){var n=e.selection.getRng(),i=li(n.startContainer),r=li(e.getBody()),o=t.fold((function(){return"."+Jo()}),(function(e){return"["+ea()+'="'+e+'"]'})),a=Gi(i,n.startOffset).getOr(i),s=Qo(a,o,(function(e){return Fi(e,r)})),l=function(e,t){return n=t,(i=e.dom())&&i.hasAttribute&&i.hasAttribute(n)?k.some(xi(e,t)):k.none();var n,i};return s.bind((function(t){return l(t,""+ta()).bind((function(n){return l(t,""+ea()).map((function(t){var i=ia(e,n);return{uid:n,name:t,elements:i}}))}))}))},ia=function(e,t){var n=li(e.getBody());return Ho(n,"["+ta()+'="'+t+'"]')},ra=function(){return(ra=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},oa=0,aa=function(e,t){return li(e.dom().cloneNode(t))},sa=function(e){return aa(e,!1)},la=function(e){return aa(e,!0)},ua=function(t,n){var i,r,o=Bi(t).dom(),a=li(o.createDocumentFragment()),s=(i=n,(r=(o||e.document).createElement("div")).innerHTML=i,Hi(li(r)));Ro(a,s),Lo(t),No(t,a)},ca=function(e){return"\ufeff"===e},da="\ufeff",fa=function(e){return e.replace(new RegExp("\ufeff","g"),"")},ha=Mr.isElement,pa=Mr.isText,ma=function(e){return pa(e)&&(e=e.parentNode),ha(e)&&e.hasAttribute("data-mce-caret")},ga=function(e){return pa(e)&&ca(e.data)},va=function(e){return ma(e)||ga(e)},ya=function(e){return e.firstChild!==e.lastChild||!Mr.isBr(e.firstChild)},ba=function(e){var t=e.container();return!(!e||!Mr.isText(t))&&(t.data.charAt(e.offset())===da||e.isAtStart()&&ga(t.previousSibling))},_a=function(e){var t=e.container();return!(!e||!Mr.isText(t))&&(t.data.charAt(e.offset()-1)===da||e.isAtEnd()&&ga(t.nextSibling))},wa=function(e){return pa(e)&&e.data[0]===da},Sa=function(e){return pa(e)&&e.data[e.data.length-1]===da},Ea=function(e){return e&&e.hasAttribute("data-mce-caret")?(n=(t=e.getElementsByTagName("br"))[t.length-1],Mr.isBogus(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},Ca=Mr.isContentEditableTrue,xa=Mr.isContentEditableFalse,Ta=Mr.isBr,Ia=Mr.isText,ka=Mr.matchNodeNames("script style textarea"),Oa=Mr.matchNodeNames("img input textarea hr iframe video audio object"),Aa=Mr.matchNodeNames("table"),Da=va,Pa=function(e){return!Da(e)&&(Ia(e)?!ka(e.parentNode):Oa(e)||Ta(e)||Aa(e)||Na(e))},Na=function(e){return!1===(t=e,Mr.isElement(t)&&"true"===t.getAttribute("unselectable"))&&xa(e);var t},Ra=function(e,t){return Pa(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Na(e))return!1;if(Ca(e))return!0}return!0}(e,t)},La=Math.round,Fa=function(e){return e?{left:La(e.left),top:La(e.top),bottom:La(e.bottom),right:La(e.right),width:La(e.width),height:La(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Ma=function(e,t){return e=Fa(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Ba=function(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2},Va=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Ba(t.top-e.bottom,e,t)},$a=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Ba(t.bottom-e.top,e,t)},ja=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Ua=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},za=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},qa=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Ha=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&qa.test(e)},Ga=function(e,t,n){return e.isSome()&&t.isSome()?k.some(n(e.getOrDie(),t.getOrDie())):k.none()},Wa=[].slice,Ya=Mr.isElement,Ka=Pa,Xa=Mr.matchStyleValues("display","block table"),Za=Mr.matchStyleValues("float","left right"),Qa=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Wa.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}}(Ya,Ka,S(Za)),Ja=S(Mr.matchStyleValues("white-space","pre pre-line pre-wrap")),es=Mr.isText,ts=Mr.isBr,ns=wo.nodeIndex,is=za,rs=function(e){return"createRange"in e?e.createRange():wo.DOM.createRng()},os=function(e){return e&&/[\r\n\t ]/.test(e)},as=function(e){return!!e.setStart&&!!e.setEnd},ss=function(e){var t,n=e.startContainer,i=e.startOffset;return!!(os(e.toString())&&Ja(n.parentNode)&&Mr.isText(n)&&(t=n.data,os(t[i-1])||os(t[i+1])))},ls=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},us=function(e){var t,n,i,r,o,a,s,l;return t=0<(n=e.getClientRects()).length?Fa(n[0]):Fa(e.getBoundingClientRect()),!as(e)&&ts(e)&&ls(t)?(o=(i=e).ownerDocument,a=rs(o),s=o.createTextNode(" "),(l=i.parentNode).insertBefore(s,i),a.setStart(s,0),a.setEnd(s,1),r=Fa(a.getBoundingClientRect()),l.removeChild(s),r):ls(t)&&as(e)?function(e){var t=e.startContainer,n=e.endContainer,i=e.startOffset,r=e.endOffset;if(t===n&&Mr.isText(n)&&0===i&&1===r){var o=e.cloneRange();return o.setEndAfter(n),us(o)}return null}(e):t},cs=function(e,t){var n=Ma(e,t);return n.width=1,n.right=n.left+1,n};function ds(e,t,n){var r=function(){return n||(n=function(e){var t,n,i=[],r=function(e){var t,n;0!==e.height&&(0<i.length&&(t=e,n=i[i.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||i.push(e))},o=function(e,t){var n=rs(e.ownerDocument);if(t<e.data.length){if(Ha(e.data[t]))return i;if(Ha(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!ss(n)))return r(cs(us(n),!1)),i}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),ss(n)||r(cs(us(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),ss(n)||r(cs(us(n),!0)))};if(es(e.container()))return o(e.container(),e.offset()),i;if(Ya(e.container()))if(e.isAtEnd())n=is(e.container(),e.offset()),es(n)&&o(n,n.data.length),Qa(n)&&!ts(n)&&r(cs(us(n),!1));else{if(n=is(e.container(),e.offset()),es(n)&&o(n,0),Qa(n)&&e.isAtEnd())return r(cs(us(n),!1)),i;t=is(e.container(),e.offset()-1),Qa(t)&&!ts(t)&&(Xa(t)||Xa(n)||!Qa(n))&&r(cs(us(t),!1)),Qa(n)&&r(cs(us(n),!0))}return i}(ds(e,t))),n};return{container:i(e),offset:i(t),toRange:function(){var n;return(n=rs(e.ownerDocument)).setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return es(e),0===t},isAtEnd:function(){return es(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return is(e,n?t-1:t)}}}(Wo=ds||(ds={})).fromRangeStart=function(e){return Wo(e.startContainer,e.startOffset)},Wo.fromRangeEnd=function(e){return Wo(e.endContainer,e.endOffset)},Wo.after=function(e){return Wo(e.parentNode,ns(e)+1)},Wo.before=function(e){return Wo(e.parentNode,ns(e))},Wo.isAbove=function(e,t){return Ga(J(t.getClientRects()),ee(e.getClientRects()),Va).getOr(!1)},Wo.isBelow=function(e,t){return Ga(ee(t.getClientRects()),J(e.getClientRects()),$a).getOr(!1)},Wo.isAtStart=function(e){return!!e&&e.isAtStart()},Wo.isAtEnd=function(e){return!!e&&e.isAtEnd()},Wo.isTextPosition=function(e){return!!e&&Mr.isText(e.container())},Wo.isElementPosition=function(e){return!1===Wo.isTextPosition(e)};var fs,hs,ps=ds,ms=Mr.isText,gs=Mr.isBogus,vs=wo.nodeIndex,ys=function(e){var t=e.parentNode;return gs(t)?ys(t):t},bs=function(e){return e?zt.reduce(e.childNodes,(function(e,t){return gs(t)&&"BR"!==t.nodeName?e=e.concat(bs(t)):e.push(t),e}),[]):[]},_s=function(e){return function(t){return e===t}},ws=function(e){var t,n,i,r;return(ms(e)?"text()":e.nodeName.toLowerCase())+"["+(n=bs(ys(t=e)),i=zt.findIndex(n,_s(t),t),n=n.slice(0,i+1),r=zt.reduce(n,(function(e,t,i){return ms(t)&&ms(n[i-1])&&e++,e}),0),n=zt.filter(n,Mr.matchNodeNames(t.nodeName)),(i=zt.findIndex(n,_s(t),t))-r+"]")},Ss=function(e,t){var n,i,r,o,a,s=[];return n=t.container(),i=t.offset(),ms(n)?r=function(e,t){for(;(e=e.previousSibling)&&ms(e);)t+=e.data.length;return t}(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),s.push(ws(n)),a=function(e,t,n){var i=[];for(t=t.parentNode;t!==e;t=t.parentNode)i.push(t);return i}(e,n),a=zt.filter(a,S(Mr.isBogus)),(s=s.concat(zt.map(a,(function(e){return ws(e)})))).reverse().join("/")+","+r},Es=function(e,t){var n,i,r;return t?(t=(n=t.split(","))[0].split("/"),r=1<n.length?n[1]:"before",(i=zt.reduce(t,(function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=e,i=t[1],r=parseInt(t[2],10),o=bs(n),o=zt.filter(o,(function(e,t){return!ms(e)||!ms(o[t-1])})),(o=zt.filter(o,Mr.matchNodeNames(i)))[r]):null;var n,i,r,o}),e))?ms(i)?function(e,t){for(var n,i=e,r=0;ms(i);){if(n=i.data.length,r<=t&&t<=r+n){e=i,t-=r;break}if(!ms(i.nextSibling)){e=i,t=n;break}r+=n,i=i.nextSibling}return ms(e)&&t>e.data.length&&(t=e.data.length),ps(e,t)}(i,parseInt(r,10)):(r="after"===r?vs(i)+1:vs(i),ps(i.parentNode,r)):null):null},Cs=function(e,t){Mr.isText(t)&&0===t.data.length&&e.remove(t)},xs=function(e,t,n){var i,r,o,a,s,l,u;Mr.isDocumentFragment(n)?(o=e,a=t,s=n,l=k.from(s.firstChild),u=k.from(s.lastChild),a.insertNode(s),l.each((function(e){return Cs(o,e.previousSibling)})),u.each((function(e){return Cs(o,e.nextSibling)}))):(i=e,r=n,t.insertNode(r),Cs(i,r.previousSibling),Cs(i,r.nextSibling))},Ts=Mr.isContentEditableFalse,Is=function(e,t,n,i,r){var o,a=i[r?"startContainer":"endContainer"],s=i[r?"startOffset":"endOffset"],l=[],u=0,c=e.getRoot();for(Mr.isText(a)?l.push(n?function(e,t,n){var i,r;for(r=e(t.data.slice(0,n)).length,i=t.previousSibling;i&&Mr.isText(i);i=i.previousSibling)r+=e(i.data).length;return r}(t,a,s):s):(s>=(o=a.childNodes).length&&o.length&&(u=1,s=Math.max(0,o.length-1)),l.push(e.nodeIndex(o[s],n)+u));a&&a!==c;a=a.parentNode)l.push(e.nodeIndex(a,n));return l},ks=function(e,t,n){var i=0;return Yt.each(e.select(t),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void i++})),i},Os=function(e,t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],Mr.isElement(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(t?i:i-1,r.length-1)])&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i))},As=function(e){return Os(e,!0),Os(e,!1),e},Ds=function(e,t){var n;if(Mr.isElement(e)&&(e=za(e,t),Ts(e)))return e;if(va(e)){if(Mr.isText(e)&&ma(e)&&(e=e.parentNode),n=e.previousSibling,Ts(n))return n;if(n=e.nextSibling,Ts(n))return n}},Ps=function(e,t,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(Ts(i)||"IMG"===r)return{name:r,index:ks(n.dom,r,i)};var a,s,l,u,c,d,f,h=Ds((a=o).startContainer,a.startOffset)||Ds(a.endContainer,a.endOffset);return h?{name:r=h.tagName,index:ks(n.dom,r,h)}:(s=e,u=t,c=o,d=(l=n).dom,(f={}).start=Is(d,s,u,c,!0),l.isCollapsed()||(f.end=Is(d,s,u,c,!1)),f)},Ns=function(e,t,n){var i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Rs=function(e,t){var n=e.dom,i=e.getRng(),r=n.uniqueId(),o=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:ks(n,s,a)};var l=As(i.cloneRange());if(!o){l.collapse(!1);var u=Ns(n,r+"_end",t);xs(n,l,u)}(i=As(i)).collapse(!0);var c=Ns(n,r+"_start",t);return xs(n,i,c),e.moveToBookmark({id:r,keep:1}),{id:r}},Ls={getBookmark:function(e,t,n){return 2===t?Ps(fa,n,e):3===t?(r=(i=e).getRng(),{start:Ss(i.dom.getRoot(),ps.fromRangeStart(r)),end:Ss(i.dom.getRoot(),ps.fromRangeEnd(r))}):t?{rng:e.getRng()}:Rs(e,!1);var i,r},getUndoBookmark:o(Ps,r,!0),getPersistentBookmark:Rs},Fs="_mce_caret",Ms=function(e){return Mr.isElement(e)&&e.id===Fs},Bs=function(e,t){for(;t&&t!==e;){if(t.id===Fs)return t;t=t.parentNode}return null},Vs=Mr.isElement,$s=Mr.isText,js=function(e){var t=e.parentNode;t&&t.removeChild(e)},Us=function(e,t){0===t.length?js(e):e.nodeValue=t},zs=function(e){var t=fa(e);return{count:e.length-t.length,text:t}},qs=function(e,t){return Hs(e),t},Hs=function(e){if(Vs(e)&&va(e)&&(ya(e)?e.removeAttribute("data-mce-caret"):js(e)),$s(e)){var t=fa(function(e){try{return e.nodeValue}catch(e){return""}}(e));Us(e,t)}},Gs={removeAndReposition:function(e,t){return ps.isTextPosition(t)?function(e,t){return $s(e)&&t.container()===e?(i=t,r=zs((n=e).data.substr(0,i.offset())),o=zs(n.data.substr(i.offset())),0<(a=r.text+o.text).length?(Us(n,a),ps(n,i.offset()-r.count)):i):qs(e,t);var n,i,r,o,a}(e,t):(n=e,(i=t).container()===n.parentNode?function(e,t){var n,i,r,o=t.container(),a=(n=te(o.childNodes),i=e,r=$(n,i),-1===r?k.none():k.some(r)).map((function(e){return e<t.offset()?ps(o,t.offset()-1):t})).getOr(t);return Hs(e),a}(n,i):qs(n,i));var n,i},remove:Hs},Ws=ii.detect().browser,Ys=Mr.isContentEditableFalse,Ks=function(e,t,n){var i,r,o,a,s,l=Ma(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,o=e.scrollTop||i.scrollTop):(s=e.getBoundingClientRect(),r=e.scrollLeft-s.left,o=e.scrollTop-s.top),l.left+=r,l.right+=r,l.top+=o,l.bottom+=o,l.width=1,0<(a=t.offsetWidth-t.clientWidth)&&(n&&(a*=-1),l.left+=a,l.right+=a),l},Xs=function(t,n,i){var r,o,a=Vo(k.none()),s=function(){!function(e){var t,n,i,r,o;for(t=pn("*[contentEditable=false]",e),r=0;r<t.length;r++)i=(n=t[r]).previousSibling,Sa(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(o.length-1,1)),i=n.nextSibling,wa(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))}(t),o&&(Gs.remove(o),o=null),a.get().each((function(e){pn(e.caret).remove(),a.set(k.none())})),clearInterval(r)},l=function(){r=ge.setInterval((function(){i()?pn("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):pn("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)};return{show:function(i,r){var u,c,d;if(s(),d=r,Mr.isElement(d)&&/^(TD|TH)$/i.test(d.tagName))return null;if(!n(r))return o=function(e,t){var n,i,r;if(i=e.ownerDocument.createTextNode(da),r=e.parentNode,t){if(n=e.previousSibling,pa(n)){if(va(n))return n;if(Sa(n))return n.splitText(n.data.length-1)}r.insertBefore(i,e)}else{if(n=e.nextSibling,pa(n)){if(va(n))return n;if(wa(n))return n.splitText(1),n}e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i)}return i}(r,i),c=r.ownerDocument.createRange(),Ys(o.nextSibling)?(c.setStart(o,0),c.setEnd(o,0)):(c.setStart(o,1),c.setEnd(o,1)),c;o=function(t,n,i){var r,o,a;return(r=n.ownerDocument.createElement(t)).setAttribute("data-mce-caret",i?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(((a=e.document.createElement("br")).setAttribute("data-mce-bogus","1"),a)),o=n.parentNode,i?o.insertBefore(r,n):n.nextSibling?o.insertBefore(r,n.nextSibling):o.appendChild(r),r}("p",r,i),u=Ks(t,r,i),pn(o).css("top",u.top);var f=pn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(u).appendTo(t)[0];return a.set(k.some({caret:f,element:r,before:i})),a.get().each((function(e){i&&pn(e.caret).addClass("mce-visual-caret-before")})),l(),(c=r.ownerDocument.createRange()).setStart(o,0),c.setEnd(o,0),c},hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.get().each((function(e){var n=Ks(t,e.element,e.before);pn(e.caret).css(n)}))},destroy:function(){return ge.clearInterval(r)}}},Zs=function(){return Ws.isIE()||Ws.isEdge()||Ws.isFirefox()},Qs=function(e){return Ys(e)||Mr.isTable(e)&&Zs()},Js=Mr.isContentEditableFalse,el=Mr.matchStyleValues("display","block table table-cell table-caption list-item"),tl=va,nl=ma,il=Mr.isElement,rl=Pa,ol=function(e){return 0<e},al=function(e){return e<0},sl=function(e,t){for(var n;n=e(t);)if(!nl(n))return n;return null},ll=function(e,t,n,i,r){var o=new cr(e,i);if(al(t)){if((Js(e)||nl(e))&&n(e=sl(o.prev,!0)))return e;for(;e=sl(o.prev,r);)if(n(e))return e}if(ol(t)){if((Js(e)||nl(e))&&n(e=sl(o.next,!0)))return e;for(;e=sl(o.next,r);)if(n(e))return e}return null},ul=function(e,t){for(;e&&e!==t;){if(el(e))return e;e=e.parentNode}return null},cl=function(e,t,n){return ul(e.container(),n)===ul(t.container(),n)},dl=function(e,t){var n,i;return t?(n=t.container(),i=t.offset(),il(n)?n.childNodes[i+e]:null):null},fl=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},hl=function(e,t,n){var i,r,o,a;for(r=e?"previousSibling":"nextSibling";n&&n!==t;){if(i=n[r],tl(i)&&(i=i[r]),Js(i)){if(a=n,ul(i,o=t)===ul(a,o))return i;break}if(rl(i))break;n=n.parentNode}return null},pl=o(fl,!0),ml=o(fl,!1),gl=function(e,t,n){var i,r,a,s,l=o(hl,!0,t),u=o(hl,!1,t);if(r=n.startContainer,a=n.startOffset,ma(r)){if(il(r)||(r=r.parentNode),"before"===(s=r.getAttribute("data-mce-caret"))&&(i=r.nextSibling,Qs(i)))return pl(i);if("after"===s&&(i=r.previousSibling,Qs(i)))return ml(i)}if(!n.collapsed)return n;if(Mr.isText(r)){if(tl(r)){if(1===e){if(i=u(r))return pl(i);if(i=l(r))return ml(i)}if(-1===e){if(i=l(r))return ml(i);if(i=u(r))return pl(i)}return n}if(Sa(r)&&a>=r.data.length-1)return 1===e&&(i=u(r))?pl(i):n;if(wa(r)&&a<=1)return-1===e&&(i=l(r))?ml(i):n;if(a===r.data.length)return(i=u(r))?pl(i):n;if(0===a)return(i=l(r))?ml(i):n}return n},vl=function(e,t){return k.from(dl(e?0:-1,t)).filter(Js)},yl=function(e,t,n){var i=gl(e,t,n);return-1===e?ds.fromRangeStart(i):ds.fromRangeEnd(i)},bl=function(e){return k.from(e.getNode()).map(li)},_l=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},wl=function(e,t){var n=cl(e,t);return!(n||!Mr.isBr(e.getNode()))||n};(hs=fs||(fs={}))[hs.Backwards=-1]="Backwards",hs[hs.Forwards=1]="Forwards";var Sl,El,Cl=Mr.isContentEditableFalse,xl=Mr.isText,Tl=Mr.isElement,Il=Mr.isBr,kl=Pa,Ol=function(e){return Oa(e)||!!Na(t=e)&&!0!==W(te(t.getElementsByTagName("*")),(function(e,t){return e||Ca(t)}),!1);var t},Al=Ra,Dl=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Pl=function(e,t){if(ol(e)){if(kl(t.previousSibling)&&!xl(t.previousSibling))return ps.before(t);if(xl(t))return ps(t,0)}if(al(e)){if(kl(t.nextSibling)&&!xl(t.nextSibling))return ps.after(t);if(xl(t))return ps(t,t.data.length)}return al(e)?Il(t)?ps.before(t):ps.after(t):ps.before(t)},Nl=function(e,t,n){var r,o,a,s,l;if(!Tl(n)||!t)return null;if(t.isEqual(ps.after(n))&&n.lastChild){if(l=ps.after(n.lastChild),al(e)&&kl(n.lastChild)&&Tl(n.lastChild))return Il(n.lastChild)?ps.before(n.lastChild):l}else l=t;var u,c,d,f=l.container(),h=l.offset();if(xl(f)){if(al(e)&&0<h)return ps(f,--h);if(ol(e)&&h<f.length)return ps(f,++h);r=f}else{if(al(e)&&0<h&&(o=Dl(f,h-1),kl(o)))return!Ol(o)&&(a=ll(o,e,Al,o))?xl(a)?ps(a,a.data.length):ps.after(a):xl(o)?ps(o,o.data.length):ps.before(o);if(ol(e)&&h<f.childNodes.length&&(o=Dl(f,h),kl(o)))return Il(o)?(u=n,(d=(c=o).nextSibling)&&kl(d)?xl(d)?ps(d,0):ps.before(d):Nl(fs.Forwards,ps.after(c),u)):!Ol(o)&&(a=ll(o,e,Al,o))?xl(a)?ps(a,0):ps.before(a):xl(o)?ps(o,0):ps.after(o);r=o||l.getNode()}return(ol(e)&&l.isAtEnd()||al(e)&&l.isAtStart())&&(r=ll(r,e,i(!0),n,!0),Al(r,n))?Pl(e,r):(o=ll(r,e,Al,n),!(s=zt.last(G(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(f,n),Cl)))||o&&s.contains(o)?o?Pl(e,o):null:l=ol(e)?ps.after(s):ps.before(s))},Rl=function(e){return{next:function(t){return Nl(fs.Forwards,t,e)},prev:function(t){return Nl(fs.Backwards,t,e)}}},Ll=function(e){return ps.isTextPosition(e)?0===e.offset():Pa(e.getNode())},Fl=function(e){if(ps.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Pa(e.getNode(!0))},Ml=function(e,t){return!ps.isTextPosition(e)&&!ps.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Bl=function(e,t,n){var i=Rl(t);return k.from(e?i.next(n):i.prev(n))},Vl=function(e,t,n){return Bl(e,t,n).bind((function(i){return cl(n,i,t)&&function(e,t,n){return e?!Ml(t,n)&&(i=t,!(!ps.isTextPosition(i)&&Mr.isBr(i.getNode())))&&Fl(t)&&Ll(n):!Ml(n,t)&&Ll(t)&&Fl(n);var i}(e,n,i)?Bl(e,t,i):k.some(i)}))},$l=function(e,t,n,i){return Vl(e,t,n).bind((function(n){return i(n)?$l(e,t,n,i):k.some(n)}))},jl=function(e,t){var n,i,r,o,a,s=e?t.firstChild:t.lastChild;return Mr.isText(s)?k.some(ps(s,e?0:s.data.length)):s?Pa(s)?k.some(e?ps.before(s):(a=s,Mr.isBr(a)?ps.before(a):ps.after(a))):(i=t,r=s,o=(n=e)?ps.before(r):ps.after(r),Bl(n,i,o)):k.none()},Ul=o(Bl,!0),zl=o(Bl,!1),ql={fromPosition:Bl,nextPosition:Ul,prevPosition:zl,navigate:Vl,navigateIgnore:$l,positionIn:jl,firstPositionIn:o(jl,!0),lastPositionIn:o(jl,!1)},Hl=function(e,t){return Mr.isElement(t)&&e.isBlock(t)&&!t.innerHTML&&!de.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Gl=function(e,t){return ql.lastPositionIn(e).fold((function(){return!1}),(function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0}))},Wl=function(e,t,n){return!(!1!==t.hasChildNodes()||!Bs(e,t)||(r=n,o=(i=t).ownerDocument.createTextNode(da),i.appendChild(o),r.setStart(o,0),r.setEnd(o,0),0));var i,r,o},Yl=function(e,t,n,i){var r,o,a,s,l=n[t?"start":"end"],u=e.getRoot();if(l){for(a=l[0],o=u,r=l.length-1;1<=r;r--){if(s=o.childNodes,Wl(u,o,i))return!0;if(l[r]>s.length-1)return!!Wl(u,o,i)||Gl(o,i);o=s[l[r]]}3===o.nodeType&&(a=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(l[0],o.childNodes.length)),t?i.setStart(o,a):i.setEnd(o,a)}return!0},Kl=function(e){return Mr.isText(e)&&0<e.data.length},Xl=function(e,t,n){var i,r,o,a,s,l,u=e.get(n.id+"_"+t),c=n.keep;if(u){if(i=u.parentNode,"start"===t?c?u.hasChildNodes()?(i=u.firstChild,r=1):Kl(u.nextSibling)?(i=u.nextSibling,r=0):Kl(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=e.nodeIndex(u)+1):r=e.nodeIndex(u):c?u.hasChildNodes()?(i=u.firstChild,r=1):Kl(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=e.nodeIndex(u)):r=e.nodeIndex(u),s=i,l=r,!c){for(a=u.previousSibling,o=u.nextSibling,Yt.each(Yt.grep(u.childNodes),(function(e){Mr.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));u=e.get(n.id+"_"+t);)e.remove(u,!0);a&&o&&a.nodeType===o.nodeType&&Mr.isText(a)&&!de.opera&&(r=a.nodeValue.length,a.appendData(o.nodeValue),e.remove(o),s=a,l=r)}return k.some(ps(s,l))}return k.none()},Zl=function(e,t,n){return Ls.getBookmark(e,t,n)},Ql=function(e,t){(function(e,t){var n,i,r,o,a,s,l,u,c,d,f,h,p,m,g,v,y=e.dom;if(t){if(v=t,Yt.isArray(v.start))return m=t,g=(p=y).createRng(),Yl(p,!0,m,g)&&Yl(p,!1,m,g)?k.some(g):k.none();if("string"==typeof t.start)return k.some((d=t,f=(c=y).createRng(),h=Es(c.getRoot(),d.start),f.setStart(h.container(),h.offset()),h=Es(c.getRoot(),d.end),f.setEnd(h.container(),h.offset()),f));if(t.hasOwnProperty("id"))return l=Xl(r=y,"start",o=t),u=Xl(r,"end",o),Ga(l,(s=l,(a=u).isSome()?a:s),(function(e,t){var n=r.createRng();return n.setStart(Hl(r,e.container()),e.offset()),n.setEnd(Hl(r,t.container()),t.offset()),n}));if(t.hasOwnProperty("name"))return n=y,i=t,k.from(n.select(i.name)[i.index]).map((function(e){var t=n.createRng();return t.selectNode(e),t}));if(t.hasOwnProperty("rng"))return k.some(t.rng)}return k.none()})(e,t).each((function(t){e.setRng(t)}))},Jl=function(e){return Mr.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},eu=function(e){return e&&/^(IMG)$/.test(e.nodeName)},tu=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},nu=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},iu=function(e,t,n){var i,r,o,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!eu(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(a<(o=s.childNodes).length?i=new cr(s=o[a],e.getParent(s,e.isBlock)):(i=new cr(s=o[o.length-1],e.getParent(s,e.isBlock))).next(!0),r=i.current();r;r=i.next())if(3===r.nodeType&&!tu(r))return n.setStart(r,0),void t.setRng(n)},ru=function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!tu(e))return e},ou=function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},au=function(e,t,n){return e.schema.isValidChild(t,n)},su=tu,lu=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e},uu=function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},cu=nu,du=function(e,t,n){return nu(e,e.getStyle(t,n),n)},fu=function(e,t){var n;return e.getParent(t,(function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n})),n},hu=function(e,t,n){return e.getParents(t,n,e.getRoot())},pu=Jl,mu=hu,gu=su,vu=ou,yu=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},bu=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},_u=function(e,t,n,i){var r,o,a=n.nodeValue;return void 0===i&&(i=e?a.length:0),e?(r=a.lastIndexOf(" ",i),-1!==(r=(o=a.lastIndexOf(" ",i))<r?r:o)&&!t&&(r<i||!e)&&r<=a.length&&r++):(r=a.indexOf(" ",i),o=a.indexOf(" ",i),r=-1!==r&&(-1===o||r<o)?r:o),r},wu=function(e,t,n,i,r,o){var a,s,l,u;if(3===n.nodeType){if(-1!==(l=_u(r,o,n,i)))return{container:n,offset:l};u=n}for(a=new cr(n,e.getParent(n,e.isBlock)||t);s=a[r?"prev":"next"]();)if(3!==s.nodeType||pu(s.parentNode)){if(e.isBlock(s)||uu(s,"BR"))break}else if(-1!==(l=_u(r,o,u=s)))return{container:s,offset:l};if(u)return{container:u,offset:i=r?0:u.length}},Su=function(e,t,n,i,r){var o,a,s,l;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),o=mu(e,i),a=0;a<o.length;a++)for(s=0;s<t.length;s++)if((!("collapsed"in(l=t[s]))||l.collapsed===n.collapsed)&&e.is(o[a],l.selector))return o[a];return i},Eu=function(e,t,n,i){var r,o=e.dom,a=o.getRoot();if(t[0].wrapper||(r=o.getParent(n,t[0].block,a)),!r){var s=o.getParent(n,"LI,TD,TH");r=o.getParent(3===n.nodeType?n.parentNode:n,(function(t){return t!==a&&vu(e,t)}),s)}if(r&&t[0].wrapper&&(r=mu(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!uu(r,"br")););return r||n},Cu=function(e,t,n,i,r,o,a){var s,l,u,c,d,f;if(s=l=a?n:r,c=a?"previousSibling":"nextSibling",d=e.getRoot(),3===s.nodeType&&!gu(s)&&(a?0<i:o<s.nodeValue.length))return s;for(;;){if(!t[0].block_expand&&e.isBlock(l))return l;for(u=l[c];u;u=u[c])if(!pu(u)&&!gu(u)&&("BR"!==(f=u).nodeName||!f.getAttribute("data-mce-bogus")||f.nextSibling))return l;if(l===d||l.parentNode===d){s=l;break}l=l.parentNode}return s},xu=function(e,t,n,i){var r,o=t.startContainer,a=t.startOffset,s=t.endContainer,l=t.endOffset,u=e.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=za(o,a)).nodeType&&(a=0),1===s.nodeType&&s.hasChildNodes()&&3===(s=za(s,t.collapsed?l:l-1)).nodeType&&(l=s.nodeValue.length),o=bu(u,o),s=bu(u,s),(pu(o.parentNode)||pu(o))&&(o=pu(o)?o:o.parentNode,3===(o=t.collapsed?o.previousSibling||o:o.nextSibling||o).nodeType&&(a=t.collapsed?o.length:0)),(pu(s.parentNode)||pu(s))&&(s=pu(s)?s:s.parentNode,3===(s=t.collapsed?s.nextSibling||s:s.previousSibling||s).nodeType&&(l=t.collapsed?0:s.length)),t.collapsed&&((r=wu(u,e.getBody(),o,a,!0,i))&&(o=r.container,a=r.offset),(r=wu(u,e.getBody(),s,l,!1,i))&&(s=r.container,l=r.offset)),n[0].inline&&(s=i?s:function(e,t){var n=yu(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=yu(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(e=n.node).splitText(n.offset-1)}return e}(s,l)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==a||(o=Cu(u,n,o,a,s,l,!0)),n[0].inline&&3===s.nodeType&&l!==s.nodeValue.length||(s=Cu(u,n,o,a,s,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=Su(u,n,t,o,"previousSibling"),s=Su(u,n,t,s,"nextSibling")),(n[0].block||n[0].selector)&&(o=Eu(e,n,o,"previousSibling"),s=Eu(e,n,s,"nextSibling"),n[0].block&&(u.isBlock(o)||(o=Cu(u,n,o,a,s,l,!0)),u.isBlock(s)||(s=Cu(u,n,o,a,s,l,!1)))),1===o.nodeType&&(a=u.nodeIndex(o),o=o.parentNode),1===s.nodeType&&(l=u.nodeIndex(s)+1,s=s.parentNode),{startContainer:o,startOffset:a,endContainer:s,endOffset:l}},Tu=Yt.each,Iu=function(e,t,n){var i,r,o,a,s,l,u,c=t.startContainer,d=t.startOffset,f=t.endContainer,h=t.endOffset;if(0<(u=e.select("td[data-mce-selected],th[data-mce-selected]")).length)Tu(u,(function(e){n([e])}));else{var p,m,g,v=function(e){var t;return 3===(t=e[0]).nodeType&&t===c&&d>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===h&&0<e.length&&t===f&&3===t.nodeType&&e.splice(e.length-1,1),e},y=function(e,t,n){for(var i=[];e&&e!==n;e=e[t])i.push(e);return i},b=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},_=function(e,t,i){var r=i?"nextSibling":"previousSibling";for(s=(a=e).parentNode;a&&a!==t;a=s)s=a.parentNode,(l=y(a===e?a:a[r],r)).length&&(i||l.reverse(),n(v(l)))};if(1===c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[d]),1===f.nodeType&&f.hasChildNodes()&&(m=h,--m>(g=(p=f).childNodes).length-1?m=g.length-1:m<0&&(m=0),f=g[m]||p),c===f)return n(v([c]));for(i=e.findCommonAncestor(c,f),a=c;a;a=a.parentNode){if(a===f)return _(c,i,!0);if(a===i)break}for(a=f;a;a=a.parentNode){if(a===c)return _(f,i);if(a===i)break}r=b(c,i)||c,o=b(f,i)||f,_(c,r,!0),(l=y(r===c?r:r.nextSibling,"nextSibling",o===f?o.nextSibling:o)).length&&n(v(l)),_(f,o)}},ku=(Sl=mi,"text",{get:function(e){if(!Sl(e))throw new Error("Can only get text value of a text node");return El(e).getOr("")},getOption:El=function(e){return Sl(e)?k.from(e.dom().nodeValue):k.none()},set:function(e,t){if(!Sl(e))throw new Error("Can only set raw text value of a text node");e.dom().nodeValue=t}}),Ou=function(e){return ku.get(e)},Au=function(e,t,n,i){var r,o=t.uid,a=void 0===o?("mce-annotation",r=(new Date).getTime(),"mce-annotation_"+Math.floor(1e9*Math.random())+ ++oa+String(r)):o,s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["uid"]),l=ai("span",e);Uo(l,Jo()),Ei(l,""+ta(),a),Ei(l,""+ea(),n);var u,c=i(a,s),d=c.attributes,f=void 0===d?{}:d,h=c.classes,p=void 0===h?[]:h;return Ci(l,f),u=l,q(p,(function(e){Uo(u,e)})),l},Du=function(e,t,n,i,r){var o=[],a=Au(e.getDoc(),r,n,i),s=Vo(k.none()),l=function(){s.set(k.none())},u=function(e){q(e,c)},c=function(t){var n,i;switch(function(e,t,n,i){return $i(t).fold((function(){return"skipping"}),(function(r){return"br"===i||mi(a=t)&&"\ufeff"===Ou(a)?"valid":pi(o=t)&&zo(o,Jo())?"existing":Ms(t)?"caret":au(e,n,i)&&au(e,fi(r),n)?"valid":"invalid-child";var o,a}))}(e,t,"span",fi(t))){case"invalid-child":l();var r=Hi(t);u(r),l();break;case"valid":var c=s.get().getOrThunk((function(){var e=sa(a);return o.push(e),s.set(k.some(e)),e}));Ao(n=t,i=c),No(i,n)}};return Iu(e.dom,t,(function(e){var t;l(),t=z(e,li),u(t)})),o};function Pu(t){var n,i=(n={},{register:function(e,t){n[e]={name:e,settings:t}},lookup:function(e){return n.hasOwnProperty(e)?k.from(n[e]).map((function(e){return e.settings})):k.none()}});!function(e,t){e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){q(e,(function(e){var n;(n=e,k.from(n.attributes.map[ea()]).bind(t.lookup)).each((function(t){!1===t.persistent&&e.unwrap()}))}))}))}))}(t,i);var r=function(t,n){var i,r,o=Vo({}),a=function(e,t){s(e,(function(e){return t(e),e}))},s=function(e,t){var n=o.get(),i=t(n.hasOwnProperty(e)?n[e]:{listeners:[],previous:Vo(k.none())});n[e]=i,o.set(n)},l=(i=function(){var e,n,i=o.get(),r=(e=gi(i),(n=M.call(e,0)).sort(void 0),n);q(r,(function(e){s(e,(function(n){var i=n.previous.get();return na(t,k.some(e)).fold((function(){var t;i.isSome()&&(a(t=e,(function(e){q(e.listeners,(function(e){return e(!1,t)}))})),n.previous.set(k.none()))}),(function(e){var t,r,o,s=e.uid,l=e.name,u=e.elements;i.is(s)||(r=s,o=u,a(t=l,(function(e){q(e.listeners,(function(e){return e(!0,t,{uid:r,nodes:z(o,(function(e){return e.dom()}))})}))})),n.previous.set(k.some(s)))})),{previous:n.previous,listeners:n.listeners}}))}))},r=null,{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null!==r&&e.clearTimeout(r),r=e.setTimeout((function(){i.apply(null,t),r=null}),30)}});return t.on("remove",(function(){l.cancel()})),t.on("nodeChange",(function(){l.throttle()})),{addListener:function(e,t){s(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))}}}(t);return{register:function(e,t){i.register(e,t)},annotate:function(e,n){i.lookup(e).each((function(i){!function(e,t,n,i){e.undoManager.transact((function(){var r,o,a,s,l=e.selection.getRng();if(l.collapsed&&(s=xu(r=e,o=l,[{inline:!0}],3===(a=o).startContainer.nodeType&&a.startContainer.nodeValue.length>=a.startOffset&&" "===a.startContainer.nodeValue[a.startOffset]),o.setStart(s.startContainer,s.startOffset),o.setEnd(s.endContainer,s.endOffset),r.selection.setRng(o)),e.selection.getRng().collapsed){var u=Au(e.getDoc(),i,t,n.decorate);ua(u," "),e.selection.getRng().insertNode(u.dom()),e.selection.select(u.dom())}else{var c=Ls.getPersistentBookmark(e.selection,!1),d=e.selection.getRng();Du(e,d,t,n.decorate,i),e.selection.moveToBookmark(c)}}))}(t,e,i,n)}))},annotationChanged:function(e,t){r.addListener(e,t)},remove:function(e){na(t,k.some(e)).each((function(e){var t=e.elements;q(t,Mo)}))},getAll:function(e){var n,i,r,o,a,s=(n=e,i=li(t.getBody()),r=Ho(i,"["+ea()+'="'+n+'"]'),o={},q(r,(function(e){var t=xi(e,ta()),n=o.hasOwnProperty(t)?o[t]:[];o[t]=n.concat([e])})),o);return a=function(e){return z(e,(function(e){return e.dom()}))},function(e,t){var n={};return yi(e,(function(e,i){var r=t(e,i);n[r.k]=r.v})),n}(s,(function(e,t){return{k:t,v:a(e)}}))}}}var Nu=function(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&(" "===(t=e.firstChild).data||Mr.isBr(t));var t}(t))?e.slice(0,-1):e;var t},Ru=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Lu=function(e,t){var n=ps.after(e),i=Rl(t).prev(n);return i?i.toRange():null},Fu=function(e,t,n,i){var r,o,a,s,l,u,c,d,f,h,p,m,g,v,y,b,_,w,S=(r=t,o=i,u=e.serialize(o),s=(a=r.createFragment(u)).firstChild,l=a.lastChild,s&&"META"===s.nodeName&&s.parentNode.removeChild(s),l&&"mce_marker"===l.id&&l.parentNode.removeChild(l),a),E=Ru(t,n.startContainer),C=Nu(function(e){return Yt.grep(e.childNodes,(function(e){return"LI"===e.nodeName}))}(S.firstChild)),x=t.getRoot(),T=function(e){var i=ps.fromRangeStart(n),r=Rl(t.getRoot()),o=1===e?r.prev(i):r.next(i);return!o||Ru(t,o.getNode())!==E};return T(1)?function(e,t,n){var i,r,o,a,s=e.parentNode;return Yt.each(t,(function(t){s.insertBefore(t,e)})),i=e,r=n,o=ps.before(i),(a=Rl(r).next(o))?a.toRange():null}(E,C,x):T(2)?(c=E,d=C,f=x,t.insertAfter(d.reverse(),c),Lu(d[0],f)):(p=C,m=x,g=h=E,y=(v=n).cloneRange(),b=v.cloneRange(),y.setStartBefore(g),b.setEndAfter(g),_=[y.cloneContents(),b.cloneContents()],(w=h.parentNode).insertBefore(_[0],h),Yt.each(p,(function(e){w.insertBefore(e,h)})),w.insertBefore(_[1],h),w.removeChild(h),Lu(p[p.length-1],m))},Mu=Yt.each,Bu=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var i=function(t){var n={};return Mu(e.getAttribs(t),(function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=e.getAttrib(t,r))})),n},r=function(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!==n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0};return!(!r(i(t),i(n))||!r(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))||Jl(t)||Jl(n))}},Vu=function(e){Lo(e),No(e,oi('<br data-mce-bogus="1">'))},$u=function(e){Yi(e).each((function(t){ji(t).each((function(n){gr(e)&&yr(t)&&gr(n)&&Fo(t)}))}))},ju=Yt.makeMap;function Uu(e){var t,n,i,r,o,a=[];return t=(e=e||{}).indent,n=ju(e.indent_before||""),i=ju(e.indent_after||""),r=Zr.getEncodeFunc(e.entity_encoding||"raw",e.entities),o="html"===e.element_format,{start:function(e,s,l){var u,c,d,f;if(t&&n[e]&&0<a.length&&0<(f=a[a.length-1]).length&&"\n"!==f&&a.push("\n"),a.push("<",e),s)for(u=0,c=s.length;u<c;u++)d=s[u],a.push(" ",d.name,'="',r(d.value,!0),'"');a[a.length]=!l||o?">":" />",l&&t&&i[e]&&0<a.length&&0<(f=a[a.length-1]).length&&"\n"!==f&&a.push("\n")},end:function(e){var n;a.push("</",e,">"),t&&i[e]&&0<a.length&&0<(n=a[a.length-1]).length&&"\n"!==n&&a.push("\n")},text:function(e,t){0<e.length&&(a[a.length]=t?e:r(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?a.push("<?",e," ",r(n),"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}function zu(e,t){void 0===t&&(t=lo());var n=Uu(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(i){var r,o;o=e.validate,r={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;a(e),e=e.next;);}},n.reset();var a=function(e){var i,s,l,u,c,d,f,h,p,m=r[e.type];if(m)m(e);else{if(i=e.name,s=e.shortEnded,l=e.attributes,o&&l&&1<l.length&&((d=[]).map={},p=t.getElementRule(e.name))){for(f=0,h=p.attributesOrder.length;f<h;f++)(u=p.attributesOrder[f])in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(f=0,h=l.length;f<h;f++)(u=l[f].name)in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(n.start(e.name,l,s),!s){if(e=e.firstChild)for(;a(e),e=e.next;);n.end(i)}}};return 1!==i.type||e.inner?r[11](i):a(i),n.getContent()}}}var qu=function(t){return t.collapsed?t:function(t){var n=ps.fromRangeStart(t),i=ps.fromRangeEnd(t),r=t.commonAncestorContainer;return ql.fromPosition(!1,r,i).map((function(o){return!cl(n,i,r)&&cl(n,o,r)?(a=n.container(),s=n.offset(),l=o.container(),u=o.offset(),(c=e.document.createRange()).setStart(a,s),c.setEnd(l,u),c):t;var a,s,l,u,c})).getOr(t)}(t)},Hu=Mr.matchNodeNames("td th"),Gu=function(e,t){var n,i,r=e.selection.getRng(),o=r.startContainer,a=r.startOffset;r.collapsed&&(n=o,i=a,Mr.isText(n)&&" "===n.nodeValue[i-1])&&Mr.isText(o)&&(o.insertData(a-1," "),o.deleteData(a,1),r.setStart(o,a),r.setEnd(o,a),e.selection.setRng(r)),e.selection.setContent(t)},Wu=function(e,t,n){var i,r,o,a,s,l,u,c,d,f,h,p=e.selection,m=e.dom;if(/^ | $/.test(t)&&(t=function(e,t){var n,i;n=e.startContainer,i=e.startOffset;var r=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(0<i?t=t.replace(/^&nbsp;/," "):r("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),i<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t}(p.getRng(),t)),i=e.parser,h=n.merge,r=zu({validate:e.settings.validate},e.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:t,format:"html",selection:!0,paste:n.paste},(l=e.fire("BeforeSetContent",l)).isDefaultPrevented())e.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=l.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,f);var g,v,y,b,_,w,S=(c=p.getRng()).startContainer||(c.parentElement?c.parentElement():null),E=e.getBody();S===E&&p.isCollapsed()&&m.isBlock(E.firstChild)&&(g=e,(v=E.firstChild)&&!g.schema.getShortEndedElements()[v.nodeName])&&m.isEmpty(E.firstChild)&&((c=m.createRng()).setStart(E.firstChild,0),c.setEnd(E.firstChild,0),p.setRng(c)),p.isCollapsed()||(e.selection.setRng(qu(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),b=t,_=(y=e.selection.getRng()).startContainer,w=y.startOffset,3===_.nodeType&&y.collapsed&&(" "===_.data[w]?(_.deleteData(w,1),/[\u00a0| ]$/.test(b)||(b+=" ")):" "===_.data[w-1]&&(_.deleteData(w-1,1),/[\u00a0| ]$/.test(b)||(b=" "+b))),t=b);var C,x,T,I={context:(o=p.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(s=i.parse(t,I),!0===n.paste&&function(e,t){var n,i,r,o,a,s,l=t.firstChild,u=t.lastChild;return l&&"meta"===l.name&&(l=l.next),u&&"mce_marker"===u.attr("id")&&(u=u.prev),i=u,s=(n=e).getNonEmptyElements(),i&&(i.isEmpty(s)||(r=i,n.getBlockElements()[r.name]&&(a=r).firstChild&&a.firstChild===a.lastChild&&("br"===(o=r.firstChild).name||" "===o.value)))&&(u=u.prev),!(!l||l!==u||"ul"!==l.name&&"ol"!==l.name)}(e.schema,s)&&function(e,t){return!!Ru(e,t)}(m,o))return c=Fu(r,m,e.selection.getRng(),s),e.selection.setRng(c),void e.fire("SetContent",l);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(s),"mce_marker"===(d=s.lastChild).attr("id"))for(d=(u=d).prev;d;d=d.walk(!0))if(3===d.type||!m.isBlock(d.name)){e.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(u,d,"br"===d.name);break}if(e._selectionOverrides.showBlockCaretContainer(o),I.invalid){for(Gu(e,f),o=p.getNode(),a=e.getBody(),9===o.nodeType?o=d=a:d=o;d!==a;)d=(o=d).parentNode;t=o===a?a.innerHTML:m.getOuterHTML(o),t=r.serialize(i.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return r.serialize(s)})))),o===a?m.setHTML(a,t):m.setOuterHTML(o,t)}else!function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?e.dom.setHTML(n,t):Gu(e,t)}}(e,t=r.serialize(s),o);!function(e,t){var n=e.schema.getTextInlineElements(),i=e.dom;if(t){var r=e.getBody(),o=new Bu(i);Yt.each(i.select("*[data-mce-fragment]"),(function(e){for(var t=e.parentNode;t&&t!==r;t=t.parentNode)n[e.nodeName.toLowerCase()]&&o.compare(t,e)&&i.remove(e,!0)}))}}(e,h),function(e,t){var n,i,r,o,a,s=e.dom,l=e.selection;if(t){if(e.selection.scrollIntoView(t),n=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t))return s.remove(t),l.select(n);var u=s.createRng();(o=t.previousSibling)&&3===o.nodeType?(u.setStart(o,o.nodeValue.length),de.ie||(a=t.nextSibling)&&3===a.nodeType&&(o.appendData(a.data),a.parentNode.removeChild(a))):(u.setStartBefore(t),u.setEndBefore(t)),i=s.getParent(t,s.isBlock),s.remove(t),i&&s.isEmpty(i)&&(e.$(i).empty(),u.setStart(i,0),u.setEnd(i,0),Hu(i)||i.getAttribute("data-mce-fragment")||!(r=function(t){var n=ps.fromRangeStart(t);if(n=Rl(e.getBody()).next(n))return n.toRange()}(u))?s.add(i,s.create("br",{"data-mce-bogus":"1"})):(u=r,s.remove(i))),l.setRng(u)}}(e,m.get("mce_marker")),C=e.getBody(),Yt.each(C.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")})),x=e.dom,T=e.selection.getStart(),k.from(x.getParent(T,"td,th")).map(li).each($u),e.fire("SetContent",l),e.addVisual()}},Yu=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Ku=function(e,t,n){var i=e.getParam(t,n);if(-1!==i.indexOf("=")){var r=e.getParam(t,"","hash");return r.hasOwnProperty(e.id)?r[e.id]:n}return i},Xu=function(e){return e.getParam("content_security_policy","")},Zu=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":t},Qu=function(e){return e.getParam("forced_root_block_attrs",{})},Ju=function(e){return e.getParam("automatic_uploads",!0,"boolean")},ec=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},tc=function(e){return e.getParam("images_upload_url","","string")},nc=function(e){return e.getParam("images_upload_base_path","","string")},ic=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},rc=function(e){return e.getParam("images_upload_handler",null,"function")},oc=function(e){return e.getParam("content_css_cors",!1,"boolean")},ac=function(e,t){if(!t)return t;var n=t.container(),i=t.offset();return e?ga(n)?Mr.isText(n.nextSibling)?ps(n.nextSibling,0):ps.after(n):ba(t)?ps(n,i+1):t:ga(n)?Mr.isText(n.previousSibling)?ps(n.previousSibling,n.previousSibling.data.length):ps.before(n):_a(t)?ps(n,i-1):t},sc={isInlineTarget:function(e,t){return Ri(li(t),function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}(e))},findRootInline:function(e,t,n){var i,r,o,a=(i=e,r=t,o=n,G(wo.DOM.getParents(o.container(),"*",r),i));return k.from(a[a.length-1])},isRtl:function(e){return"rtl"===wo.DOM.getStyle(e,"direction",!0)||(t=e.textContent,Yu.test(t));var t},isAtZwsp:function(e){return ba(e)||_a(e)},normalizePosition:ac,normalizeForwards:o(ac,!0),normalizeBackwards:o(ac,!1),hasSameParentBlock:function(e,t,n){var i=ul(t,e),r=ul(n,e);return i&&i===r}},lc=function(e,t){return Mi(e,t)?Ko(t,(function(e){return br(e)||wr(e)}),(n=e,function(e){return Fi(n,li(e.dom().parentNode))})):k.none();var n},uc=function(e){var t,n,i;e.dom.isEmpty(e.getBody())&&(e.setContent(""),i=(n=(t=e).getBody()).firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(i,0))},cc=function(e,t){return Pa(t)&&!1===(i=e,r=t,Mr.isText(r)&&/^[ \t\r\n]*$/.test(r.data)&&!1===function(e,t){var n,i,r=li(e);return n=li(t),i=o(Fi,r),Xo(n,"pre,code",i).isSome()}(i,r))||(n=t,Mr.isElement(n)&&"A"===n.nodeName&&n.hasAttribute("name"))||dc(t);var n,i,r},dc=Mr.hasAttribute("data-mce-bookmark"),fc=Mr.hasAttribute("data-mce-bogus"),hc=Mr.hasAttributeValue("data-mce-bogus","all"),pc=function(e){return function(e){var t,n,i=0;if(cc(e,e))return!1;if(!(n=e.firstChild))return!0;t=new cr(n,e);do{if(hc(n))n=t.next(!0);else if(fc(n))n=t.next();else if(Mr.isBr(n))i++,n=t.next();else{if(cc(e,n))return!1;n=t.next()}}while(n);return i<=1}(e.dom())},mc=Oi("block","position"),gc=Oi("from","to"),vc=function(e,t){var n=li(e),i=li(t.container());return lc(n,i).map((function(e){return mc(e,t)}))},yc=function(e,t,n){return n.collapsed?function(e,t,n){var i=vc(e,ps.fromRangeStart(n)),r=i.bind((function(n){return ql.fromPosition(t,e,n.position()).bind((function(n){return vc(e,n).map((function(n){return i=e,r=t,o=n,Mr.isBr(o.position().getNode())&&!1===pc(o.block())?ql.positionIn(!1,o.block().dom()).bind((function(e){return e.isEqual(o.position())?ql.fromPosition(r,i,e).bind((function(e){return vc(i,e)})):k.some(o)})).getOr(o):o;var i,r,o}))}))}));return Ga(i,r,gc).filter((function(e){return!1===Fi((i=e).from().block(),i.to().block())&&$i((n=e).from().block()).bind((function(e){return $i(n.to().block()).filter((function(t){return Fi(e,t)}))})).isSome()&&(t=e,!1===Mr.isContentEditableFalse(t.from().block().dom())&&!1===Mr.isContentEditableFalse(t.to().block().dom()));var t,n,i}))}(e,t,n):k.none()},bc=function(e,t){return function(e,t,n){return Mi(t,e)?function(e,t){for(var n=L(t)?t:E,i=e.dom(),r=[];null!==i.parentNode&&void 0!==i.parentNode;){var o=i.parentNode,a=li(o);if(r.push(a),!0===n(a))break;i=o}return r}(e,(function(e){return n(e)||Fi(e,t)})).slice(0,-1):[]}(e,t,i(!1))},_c=bc,wc=function(e,t){return[e].concat(bc(e,t))},Sc=function(e){var t,n=(t=Hi(e),K(t,gr).fold((function(){return t}),(function(e){return t.slice(0,e)})));return q(n,Fo),n},Ec=function(e,t){var n=wc(t,e);return Y(n.reverse(),pc).each(Fo)},Cc=function(e,t,n,i){if(pc(n))return Vu(n),ql.firstPositionIn(n.dom());0===G(zi(i),(function(e){return!pc(e)})).length&&pc(t)&&Ao(i,ai("br"));var r=ql.prevPosition(n.dom(),ps.before(i.dom()));return q(Sc(t),(function(e){Ao(i,e)})),Ec(e,t),r},xc=function(e,t,n){if(pc(n))return Fo(n),pc(t)&&Vu(t),ql.firstPositionIn(t.dom());var i=ql.lastPositionIn(n.dom());return q(Sc(t),(function(e){No(n,e)})),Ec(e,t),i},Tc=function(e,t){ql.positionIn(e,t.dom()).map((function(e){return e.getNode()})).map(li).filter(yr).each(Fo)},Ic=function(e,t,n){return Tc(!0,t),Tc(!1,n),function(e,t){return Mi(t,e)?(n=wc(e,t),k.from(n[n.length-1])):k.none();var n}(t,n).fold(o(xc,e,t,n),o(Cc,e,t,n))},kc=function(e,t,n,i){return t?Ic(e,i,n):Ic(e,n,i)},Oc=function(e,t){var n,i=li(e.getBody());return(n=yc(i.dom(),t,e.selection.getRng()).bind((function(e){return kc(i,t,e.from().block(),e.to().block())}))).each((function(t){e.selection.setRng(t.toRange())})),n.isSome()},Ac=function(e,t){var n=li(t),i=o(Fi,e);return Yo(n,Cr,i).isSome()},Dc=function(e){var t,n,i,r,o=li(e.getBody());return function(e,t){var n,i,r=ql.prevPosition(e.dom(),ps.fromRangeStart(t)).isNone(),o=ql.nextPosition(e.dom(),ps.fromRangeEnd(t)).isNone();return!(Ac(n=e,(i=t).startContainer)||Ac(n,i.endContainer))&&r&&o}(o,e.selection.getRng())?((r=e).setContent(""),r.selection.setCursorLocation(),!0):(t=o,n=e.selection,i=n.getRng(),Ga(lc(t,li(i.startContainer)),lc(t,li(i.endContainer)),(function(e,r){return!1===Fi(e,r)&&(i.deleteContents(),kc(t,!0,e,r).each((function(e){n.setRng(e.toRange())})),!0)})).getOr(!1))},Pc=function(e,t){return!e.selection.isCollapsed()&&Dc(e)},Nc=function(t){if(!P(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],i={};return q(t,(function(r,o){var a=gi(r);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],l=r[s];if(void 0!==i[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!P(l))throw new Error("case arguments must be an array");n.push(s),i[s]=function(){var i=arguments.length;if(i!==l.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+l.length+" ("+l+"), got "+i);for(var r=new Array(i),a=0;a<r.length;a++)r[a]=arguments[a];return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);return arguments[o].apply(null,r)},match:function(e){var t=gi(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!Z(n,(function(e){return j(t,e)})))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[s].apply(null,r)},log:function(t){e.console.log(t,{constructors:n,constructor:s,params:r})}}}})),i},Rc=function(e){return bl(e).exists(yr)},Lc=function(e,t,n){var i=G(wc(li(n.container()),t),gr),r=J(i).getOr(t);return ql.fromPosition(e,r.dom(),n).filter(Rc)},Fc=function(e,t){return bl(t).exists(yr)||Lc(!0,e,t).isSome()},Mc=function(e,t){return(n=t,k.from(n.getNode(!0)).map(li)).exists(yr)||Lc(!1,e,t).isSome();var n},Bc=o(Lc,!1),Vc=o(Lc,!0),$c=(" ",function(e){return" "===e}),jc=function(e){return/^[\r\n\t ]$/.test(e)},Uc=function(e){return!jc(e)&&!$c(e)},zc=function(e,t,n){return k.from(n.container()).filter(Mr.isText).exists((function(i){var r=e?0:-1;return t(i.data.charAt(n.offset()+r))}))},qc=o(zc,!0,jc),Hc=o(zc,!1,jc),Gc=function(e){var t=e.container();return Mr.isText(t)&&0===t.data.length},Wc=function(e,t){var n=dl(e,t);return Mr.isContentEditableFalse(n)&&!Mr.isBogusAll(n)},Yc=o(Wc,0),Kc=o(Wc,-1),Xc=function(e,t){return Mr.isTable(dl(e,t))},Zc=o(Xc,0),Qc=o(Xc,-1),Jc=Nc([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),ed=function(e,t,n,i){var r=i.getNode(!1===t);return lc(li(e),li(n.getNode())).map((function(e){return pc(e)?Jc.remove(e.dom()):Jc.moveToElement(r)})).orThunk((function(){return k.some(Jc.moveToElement(r))}))},td=function(e,t,n){return ql.fromPosition(t,e,n).bind((function(r){return c=r.getNode(),Cr(li(c))||wr(li(c))?k.none():(o=e,l=r,u=function(e){return vr(li(e))&&!cl(s,l,o)},vl(!(a=t),s=n).fold((function(){return vl(a,l).fold(i(!1),u)}),u)?k.none():t&&Mr.isContentEditableFalse(r.getNode())||!1===t&&Mr.isContentEditableFalse(r.getNode(!0))?ed(e,t,n,r):t&&Kc(n)||!1===t&&Yc(n)?k.some(Jc.moveToPosition(r)):k.none());var o,a,s,l,u,c}))},nd=function(e,t,n){if(0!==n){var i,r,o,a=e.data.slice(t,t+n),s=t+n>=e.data.length,l=0===t;e.replaceData(t,n,(r=l,o=s,W((i=a).split(""),(function(e,t){return-1!==" \f\n\r\t\v".indexOf(t)||" "===t?e.previousCharIsSpace||""===e.str&&r||e.str.length===i.length-1&&o?{previousCharIsSpace:!1,str:e.str+" "}:{previousCharIsSpace:!0,str:e.str+" "}:{previousCharIsSpace:!1,str:e.str+t}}),{previousCharIsSpace:!1,str:""}).str))}},id=function(e,t){var n,i=e.data.slice(t),r=i.length-(n=i,n.replace(/^\s+/g,"")).length;return nd(e,t,r)},rd=function(e,t){return i=e,r=(n=t).container(),o=n.offset(),!1===ps.isTextPosition(n)&&r===i.parentNode&&o>ps.before(i).offset()?ps(t.container(),t.offset()-1):t;var n,i,r,o},od=function(e){return Pa(e.previousSibling)?k.some((t=e.previousSibling,Mr.isText(t)?ps(t,t.data.length):ps.after(t))):e.previousSibling?ql.lastPositionIn(e.previousSibling):k.none();var t},ad=function(e){return Pa(e.nextSibling)?k.some((t=e.nextSibling,Mr.isText(t)?ps(t,0):ps.before(t))):e.nextSibling?ql.firstPositionIn(e.nextSibling):k.none();var t},sd=function(e,t,n){return(i=e,r=t,a=n,i?function(e,t){return ad(t).orThunk((function(){return od(t)})).orThunk((function(){return n=e,i=t,ql.nextPosition(n,ps.after(i)).fold((function(){return ql.prevPosition(n,ps.before(i))}),k.some);var n,i}))}(r,a):function(e,t){return od(t).orThunk((function(){return ad(t)})).orThunk((function(){return n=e,i=t,r=ps.before(i.previousSibling?i.previousSibling:i.parentNode),ql.prevPosition(n,r).fold((function(){return ql.nextPosition(n,ps.after(i))}),k.some);var n,i,r}))}(r,a)).map(o(rd,n));var i,r,a},ld=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))},ud=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(fi(t))},cd=function(e){if(pc(e)){var t=oi('<br data-mce-bogus="1">');return Lo(e),No(e,t),k.some(ps.before(t.dom()))}return k.none()},dd=function(e,t,n,i){void 0===i&&(i=!0);var r,a,s=sd(t,e.getBody(),n.dom()),l=Yo(n,o(ud,e),(r=e.getBody(),function(e){return e.dom()===r})),u=function(e,t,n){var i,r,o,a,s=ji(e).filter(mi),l=Ui(e).filter(mi);return Fo(e),(i=s,r=l,o=t,a=function(e,t,i){var r,o,a,s,l=e.dom(),u=t.dom(),c=l.data.length;return o=u,a=n,s=Xn((r=l).data).length,r.appendData(o.data),Fo(li(o)),a&&id(r,s),i.container()===u?ps(l,c):i},i.isSome()&&r.isSome()&&o.isSome()?k.some(a(i.getOrDie(),r.getOrDie(),o.getOrDie())):k.none()).orThunk((function(){return n&&(s.each((function(e){return t=e.dom(),n=e.dom().length,r=(i=t.data.slice(0,n)).length-Xn(i).length,nd(t,n-r,r);var t,n,i,r})),l.each((function(e){return id(e.dom(),0)}))),t}))}(n,s,(a=n,_i(e.schema.getTextInlineElements(),fi(a))));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):l.bind(cd).fold((function(){i&&ld(e,t,u)}),(function(n){i&&ld(e,t,k.some(n))}))},fd=function(e,t){var n,i,r,o,a,s;return(n=e.getBody(),i=t,r=e.selection.getRng(),o=gl(i?1:-1,n,r),a=ps.fromRangeStart(o),s=li(n),!1===i&&Kc(a)?k.some(Jc.remove(a.getNode(!0))):i&&Yc(a)?k.some(Jc.remove(a.getNode())):!1===i&&Yc(a)&&Mc(s,a)?Bc(s,a).map((function(e){return Jc.remove(e.getNode())})):i&&Kc(a)&&Fc(s,a)?Vc(s,a).map((function(e){return Jc.remove(e.getNode())})):function(e,t,n){return o=t,a=n.getNode(!1===o),s=o?"after":"before",Mr.isElement(a)&&a.getAttribute("data-mce-caret")===s?(i=t,r=n.getNode(!1===t),i&&Mr.isContentEditableFalse(r.nextSibling)?k.some(Jc.moveToElement(r.nextSibling)):!1===i&&Mr.isContentEditableFalse(r.previousSibling)?k.some(Jc.moveToElement(r.previousSibling)):k.none()).fold((function(){return td(e,t,n)}),k.some):td(e,t,n).bind((function(t){return i=e,r=n,t.fold((function(e){return k.some(Jc.remove(e))}),(function(e){return k.some(Jc.moveToElement(e))}),(function(e){return cl(r,e,i)?k.none():k.some(Jc.moveToPosition(e))}));var i,r}));var i,r,o,a,s}(n,i,a)).map((function(n){return n.fold((a=e,s=t,function(e){return a._selectionOverrides.hideFakeCaret(),dd(a,s,li(e)),!0}),(r=e,o=t,function(e){var t=o?ps.before(e):ps.after(e);return r.selection.setRng(t.toRange()),!0}),(i=e,function(e){return i.selection.setRng(e.toRange()),!0}));var i,r,o,a,s})).getOr(!1)},hd=function(e,t){return e.selection.isCollapsed()?fd(e,t):function(e,t){var n,i=e.selection.getNode();return!!Mr.isContentEditableFalse(i)&&(n=li(e.getBody()),q(Ho(n,".mce-offscreen-selection"),Fo),dd(e,t,li(e.selection.getNode())),uc(e),!0)}(e,t)},pd=function(e){var t,n=function(e,t){for(;t&&t!==e;){if(Mr.isContentEditableTrue(t)||Mr.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return Mr.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(ps.before(t).toRange())),!0},md=Mr.isText,gd=function(e){return md(e)&&e.data[0]===da},vd=function(e){return md(e)&&e.data[e.data.length-1]===da},yd=function(e){return e.ownerDocument.createTextNode(da)},bd=function(e,t){return e?function(e){if(md(e.previousSibling))return vd(e.previousSibling)||e.previousSibling.appendData(da),e.previousSibling;if(md(e))return gd(e)||e.insertData(0,da),e;var t=yd(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(md(e.nextSibling))return gd(e.nextSibling)||e.nextSibling.insertData(0,da),e.nextSibling;if(md(e))return vd(e)||e.appendData(da),e;var t=yd(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},_d=o(bd,!0),wd=o(bd,!1),Sd=function(e,t){return Mr.isText(e.container())?bd(t,e.container()):bd(t,e.getNode())},Ed=function(e,t){var n=t.get();return n&&e.container()===n&&ga(n)},Cd=function(e,t){return t.fold((function(t){Gs.remove(e.get());var n=_d(t);return e.set(n),k.some(ps(n,n.length-1))}),(function(t){return ql.firstPositionIn(t).map((function(t){if(Ed(t,e))return ps(e.get(),1);Gs.remove(e.get());var n=Sd(t,!0);return e.set(n),ps(n,1)}))}),(function(t){return ql.lastPositionIn(t).map((function(t){if(Ed(t,e))return ps(e.get(),e.get().length-1);Gs.remove(e.get());var n=Sd(t,!1);return e.set(n),ps(n,n.length-1)}))}),(function(t){Gs.remove(e.get());var n=wd(t);return e.set(n),k.some(ps(n,1))}))},xd=function(e,t){for(var n=0;n<e.length;n++){var i=e[n].apply(null,t);if(i.isSome())return i}return k.none()},Td=Nc([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Id=function(e,t){return ul(t,e)||e},kd=function(e,t,n){var i=sc.normalizeForwards(n),r=Id(t,i.container());return sc.findRootInline(e,r,i).fold((function(){return ql.nextPosition(r,i).bind(o(sc.findRootInline,e,r)).map((function(e){return Td.before(e)}))}),k.none)},Od=function(e,t){return null===Bs(e,t)},Ad=function(e,t,n){return sc.findRootInline(e,t,n).filter(o(Od,t))},Dd=function(e,t,n){var i=sc.normalizeBackwards(n);return Ad(e,t,i).bind((function(e){return ql.prevPosition(e,i).isNone()?k.some(Td.start(e)):k.none()}))},Pd=function(e,t,n){var i=sc.normalizeForwards(n);return Ad(e,t,i).bind((function(e){return ql.nextPosition(e,i).isNone()?k.some(Td.end(e)):k.none()}))},Nd=function(e,t,n){var i=sc.normalizeBackwards(n),r=Id(t,i.container());return sc.findRootInline(e,r,i).fold((function(){return ql.prevPosition(r,i).bind(o(sc.findRootInline,e,r)).map((function(e){return Td.after(e)}))}),k.none)},Rd=function(e){return!1===sc.isRtl(Fd(e))},Ld=function(e,t,n){return xd([kd,Dd,Pd,Nd],[e,t,n]).filter(Rd)},Fd=function(e){return e.fold(r,r,r,r)},Md=function(e){return e.fold(i("before"),i("start"),i("end"),i("after"))},Bd=function(e){return e.fold(Td.before,Td.before,Td.after,Td.after)},Vd=function(e,t,n,i,r,o){return Ga(sc.findRootInline(t,n,i),sc.findRootInline(t,n,r),(function(t,i){return t!==i&&sc.hasSameParentBlock(n,t,i)?Td.after(e?t:i):o})).getOr(o)},$d=function(e,t){return e.fold(i(!0),(function(e){return i=t,!(Md(n=e)===Md(i)&&Fd(n)===Fd(i));var n,i}))},jd=function(e,t){return e?t.fold(n(k.some,Td.start),k.none,n(k.some,Td.after),k.none):t.fold(k.none,n(k.some,Td.before),k.none,n(k.some,Td.end))},Ud=function(e,t,n,i){var r=sc.normalizePosition(e,i),a=Ld(t,n,r);return Ld(t,n,r).bind(o(jd,e)).orThunk((function(){return r=e,s=t,l=n,u=a,c=i,d=sc.normalizePosition(r,c),ql.fromPosition(r,l,d).map(o(sc.normalizePosition,r)).fold((function(){return u.map(Bd)}),(function(e){return Ld(s,l,e).map(o(Vd,r,s,l,d,e)).filter(o($d,u))})).filter(Rd);var r,s,l,u,c,d}))},zd=Ld,qd=Ud,Hd=(o(Ud,!1),o(Ud,!0),Bd),Gd=function(e){return e.fold(Td.start,Td.start,Td.end,Td.end)},Wd=function(e,t,n){var i=e?1:-1;return t.setRng(ps(n.container(),n.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Yd=function(e,t){var n=t.selection.getRng(),i=e?ps.fromRangeEnd(n):ps.fromRangeStart(n);return!!function(e){return L(e.selection.getSel().modify)}(t)&&(e&&ba(i)?Wd(!0,t.selection,i):!(e||!_a(i))&&Wd(!1,t.selection,i))},Kd=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},Xd=function(e){return!1!==e.settings.inline_boundaries},Zd=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Qd=function(e,t,n){return Cd(t,n).map((function(t){return Kd(e,t),n}))},Jd=function(e,t,n){return function(){return!!Xd(t)&&Yd(e,t)}},ef={move:function(e,t,n){return function(){return!!Xd(e)&&(i=e,r=t,a=n,s=i.getBody(),l=ps.fromRangeStart(i.selection.getRng()),u=o(sc.isInlineTarget,i),qd(a,u,s,l).bind((function(e){return Qd(i,r,e)}))).isSome();var i,r,a,s,l,u}},moveNextWord:o(Jd,!0),movePrevWord:o(Jd,!1),setupSelectedState:function(e){var t=Vo(null),n=o(sc.isInlineTarget,e);return e.on("NodeChange",(function(i){var r,a,s,l,u;Xd(e)&&(r=n,a=e.dom,s=i.parents,l=G(a.select('*[data-mce-selected="inline-boundary"]'),r),u=G(s,r),q(Q(l,u),o(Zd,!1)),q(Q(u,l),o(Zd,!0)),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=ps.fromRangeStart(e.selection.getRng());ps.isTextPosition(n)&&!1===sc.isAtZwsp(n)&&(Kd(e,Gs.removeAndReposition(t.get(),n)),t.set(null))}}(e,t),function(e,t,n,i){if(t.selection.isCollapsed()){var r=G(i,e);q(r,(function(i){var r=ps.fromRangeStart(t.selection.getRng());zd(e,t.getBody(),r).bind((function(e){return Qd(t,n,e)}))}))}}(n,e,t,i.parents))})),t},setCaretPosition:Kd},tf=function(e,t){return function(n){return Cd(t,n).map((function(t){return ef.setCaretPosition(e,t),!0})).getOr(!1)}},nf=function(t,n,i,r){var a=t.getBody(),s=o(sc.isInlineTarget,t);t.undoManager.ignore((function(){var o,l,u;t.selection.setRng((o=i,l=r,(u=e.document.createRange()).setStart(o.container(),o.offset()),u.setEnd(l.container(),l.offset()),u)),t.execCommand("Delete"),zd(s,a,ps.fromRangeStart(t.selection.getRng())).map(Gd).map(tf(t,n))})),t.nodeChanged()},rf=function(e,t,n){if(e.selection.isCollapsed()&&!1!==e.settings.inline_boundaries){var r=ps.fromRangeStart(e.selection.getRng());return function(e,t,n,r){var a,s,l=(a=e.getBody(),s=r.container(),ul(s,a)||a),u=o(sc.isInlineTarget,e),c=zd(u,l,r);return c.bind((function(e){return n?e.fold(i(k.some(Gd(e))),k.none,i(k.some(Hd(e))),k.none):e.fold(k.none,i(k.some(Hd(e))),k.none,i(k.some(Gd(e))))})).map(tf(e,t)).getOrThunk((function(){var i=ql.navigate(n,l,r),o=i.bind((function(e){return zd(u,l,e)}));return c.isSome()&&o.isSome()?sc.findRootInline(u,l,r).map((function(t){return i=t,!!Ga(ql.firstPositionIn(i),ql.lastPositionIn(i),(function(e,t){var n=sc.normalizePosition(!0,e),r=sc.normalizePosition(!1,t);return ql.nextPosition(i,n).map((function(e){return e.isEqual(r)})).getOr(!0)})).getOr(!0)&&(dd(e,n,li(t)),!0);var i})).getOr(!1):o.bind((function(o){return i.map((function(i){return n?nf(e,t,r,i):nf(e,t,i,r),!0}))})).getOr(!1)}))}(e,t,n,r)}return!1},of=Oi("start","end"),af=Oi("rng","table","cells"),sf=Nc([{removeTable:["element"]},{emptyCells:["cells"]}]),lf=function(e,t){return Qo(li(e),"td,th",t)},uf=function(e,t){return Xo(e,"table",t)},cf=function(e){return!1===Fi(e.start(),e.end())},df=function(e,t){return uf(e.start(),t).bind((function(n){return uf(e.end(),t).bind((function(e){return Fi(n,e)?k.some(n):k.none()}))}))},ff=function(e){return Ho(e,"td,th")},hf=function(e,t){return df(t,e).isSome()},pf=function(e,t){var n,i,r,a,s=o(Fi,e);return(n=t,i=s,r=lf(n.startContainer,i),a=lf(n.endContainer,i),Ga(r,a,of).filter(cf).filter((function(e){return hf(i,e)})).orThunk((function(){return function(e,t){var n=lf(t.startContainer,e),i=lf(t.endContainer,e);return t.collapsed?k.none():Ga(n,i,of).fold((function(){return n.fold((function(){return i.bind((function(t){return uf(t,e).bind((function(e){return J(ff(e)).map((function(e){return of(e,t)}))}))}))}),(function(t){return uf(t,e).bind((function(e){return ee(ff(e)).map((function(e){return of(t,e)}))}))}))}),(function(t){return hf(e,t)?k.none():(i=e,uf((n=t).start(),i).bind((function(e){return ee(ff(e)).map((function(e){return of(n.start(),e)}))})));var n,i}))}(i,n)}))).bind((function(e){return df(t=e,s).map((function(e){return af(t,e,ff(e))}));var t}))},mf=function(e,t){return K(e,(function(e){return Fi(e,t)}))},gf=function(e){return(t=e,Ga(mf(t.cells(),t.rng().start()),mf(t.cells(),t.rng().end()),(function(e,n){return t.cells().slice(e,n+1)}))).map((function(t){var n=e.cells();return t.length===n.length?sf.removeTable(e.table()):sf.emptyCells(t)}));var t},vf=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},yf=vf,bf=function(e){return G(function(e){return X(e,(function(e){var t=Ua(e);return t?[li(t)]:[]}))}(e),Cr)},_f=function(e,t){var n=function(e){return Ho(e,"td[data-mce-selected],th[data-mce-selected]")}(t),i=bf(e);return 0<n.length?n:i},wf=_f,Sf=function(e){return _f(yf(e.selection.getSel()),li(e.getBody()))},Ef=function(e,t){return q(t,Vu),e.selection.setCursorLocation(t[0].dom(),0),!0},Cf=function(e,t){return dd(e,!1,t),!0},xf=function(e,t,n,i){return If(t,i).fold((function(){return i=e,function(e,t){return pf(e,t).bind(gf)}(t,n).map((function(e){return e.fold(o(Cf,i),o(Ef,i))}));var i}),(function(t){return kf(e,t)})).getOr(!1)},Tf=function(e,t){return Y(wc(t,e),Cr)},If=function(e,t){return Y(wc(t,e),(function(e){return"caption"===fi(e)}))},kf=function(e,t){return Vu(t),e.selection.setCursorLocation(t.dom(),0),k.some(!0)},Of=function(e,t,n){var i=li(e.getBody());return If(i,n).fold((function(){return function(e,t,n,i){var r=ps.fromRangeStart(e.selection.getRng());return Tf(n,i).bind((function(i){return pc(i)?kf(e,i):(o=e,a=n,s=t,l=i,u=r,ql.navigate(s,o.getBody(),u).bind((function(e){return Tf(a,li(e.getNode())).map((function(e){return!1===Fi(e,l)}))})));var o,a,s,l,u}))}(e,t,i,n)}),(function(n){return r=e,o=t,a=i,s=n,l=ps.fromRangeStart(r.selection.getRng()),pc(s)?kf(r,s):function(e,t,n,i,r){return ql.navigate(n,e.getBody(),r).bind((function(o){return s=i,l=n,u=r,c=o,ql.firstPositionIn(s.dom()).bind((function(e){return ql.lastPositionIn(s.dom()).map((function(t){return l?u.isEqual(e)&&c.isEqual(t):u.isEqual(t)&&c.isEqual(e)}))})).getOr(!0)?kf(e,i):(a=i,If(t,li(o.getNode())).map((function(e){return!1===Fi(e,a)})));var a,s,l,u,c})).or(k.some(!0))}(r,a,o,s,l);var r,o,a,s,l})).getOr(!1)},Af=function(e,t){var n,i,r,o,a,s=li(e.selection.getStart(!0)),l=Sf(e);return e.selection.isCollapsed()&&0===l.length?Of(e,t,s):(i=s,r=li((n=e).getBody()),o=n.selection.getRng(),0!==(a=Sf(n)).length?Ef(n,a):xf(n,r,o,i))},Df=uu,Pf=function(e,t,n){var i=e.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&e.dom.is(t,i[r].selector))return!0;return!1},Nf=function(e,t,n,i){var r=e.dom.getRoot();return t!==r&&(t=e.dom.getParent(t,(function(t){return!!Pf(e,t,n)||t.parentNode===r||!!Ff(e,t,n,i,!0)})),Ff(e,t,n,i))},Rf=function(e,t,n){return!!Df(t,n.inline)||!!Df(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},Lf=function(e,t,n,i,r,o){var a,s,l,u=n[i];if(n.onmatch)return n.onmatch(t,n,i);if(u)if(void 0===u.length){for(a in u)if(u.hasOwnProperty(a)){if(s="attributes"===i?e.getAttrib(t,a):du(e,t,a),r&&!s&&!n.exact)return;if((!r||n.exact)&&!Df(s,cu(e,lu(u[a],o),a)))return}}else for(l=0;l<u.length;l++)if("attributes"===i?e.getAttrib(t,u[l]):du(e,t,u[l]))return n;return n},Ff=function(e,t,n,i,r){var o,a,s,l,u=e.formatter.get(n),c=e.dom;if(u&&t)for(a=0;a<u.length;a++)if(o=u[a],Rf(e.dom,t,o)&&Lf(c,t,o,"attributes",r,i)&&Lf(c,t,o,"styles",r,i)){if(l=o.classes)for(s=0;s<l.length;s++)if(!e.dom.hasClass(t,l[s]))return;return o}},Mf={matchNode:Ff,matchName:Rf,match:function(e,t,n,i){var r;return i?Nf(e,i,t,n):(i=e.selection.getNode(),!!Nf(e,i,t,n)||!((r=e.selection.getStart())===i||!Nf(e,r,t,n)))},matchAll:function(e,t,n){var i,r=[],o={};return i=e.selection.getStart(),e.dom.getParent(i,(function(i){var a,s;for(a=0;a<t.length;a++)s=t[a],!o[s]&&Ff(e,i,s,n)&&(o[s]=!0,r.push(s))}),e.dom.getRoot()),r},canApply:function(e,t){var n,i,r,o,a,s=e.formatter.get(t),l=e.dom;if(s)for(n=e.selection.getStart(),i=hu(l,n),o=s.length-1;0<=o;o--){if(!(a=s[o].selector)||s[o].defaultBlock)return!0;for(r=i.length-1;0<=r;r--)if(l.is(i[r],a))return!0}return!1},matchesUnInheritedFormatSelector:Pf},Bf=function(e,t){return e.splitText(t)},Vf=function(e){var t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;return t===i&&Mr.isText(t)?0<n&&n<t.nodeValue.length&&(t=(i=Bf(t,n)).previousSibling,n<r?(t=i=Bf(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(Mr.isText(t)&&0<n&&n<t.nodeValue.length&&(t=Bf(t,n),n=0),Mr.isText(i)&&0<r&&r<i.nodeValue.length&&(r=(i=Bf(i,r).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:i,endOffset:r}},$f=da,jf="_mce_caret",Uf=function(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==$f||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length},zf=function(e){var t;if(e)for(e=(t=new cr(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null},qf=function(e){var t=ai("span");return Ci(t,{id:jf,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&No(t,si($f)),t},Hf=function(e,t,n){void 0===n&&(n=!0);var i,r=e.dom,o=e.selection;if(Uf(t))dd(e,!1,li(t),n);else{var a=o.getRng(),s=r.getParent(t,r.isBlock),l=((i=zf(t))&&i.nodeValue.charAt(0)===$f&&i.deleteData(0,1),i);a.startContainer===l&&0<a.startOffset&&a.setStart(l,a.startOffset-1),a.endContainer===l&&0<a.endOffset&&a.setEnd(l,a.endOffset-1),r.remove(t,!0),s&&r.isEmpty(s)&&Vu(li(s)),o.setRng(a)}},Gf=function(e,t,n){void 0===n&&(n=!0);var i=e.dom,r=e.selection;if(t)Hf(e,t,n);else if(!(t=Bs(e.getBody(),r.getStart())))for(;t=i.get(jf);)Hf(e,t,!1)},Wf=function(e,t,n){var i=e.dom,r=i.getParent(n,o(ou,e));r&&i.isEmpty(r)?n.parentNode.replaceChild(t,n):(function(e){var t=Ho(e,"br"),n=G(function(e){for(var t=[],n=e.dom();n;)t.push(li(n)),n=n.lastChild;return t}(e).slice(-1),yr);t.length===n.length&&q(n,Fo)}(li(n)),i.isEmpty(n)?n.parentNode.replaceChild(t,n):i.insertAfter(t,n))},Yf=function(e,t){return e.appendChild(t),t},Kf=function(e,t){var n,i,r=(n=function(e,t){return Yf(e,t.cloneNode(!1))},i=t,function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n])}(e,(function(e){i=n(i,e)})),i);return Yf(r,r.ownerDocument.createTextNode($f))},Xf=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(fi(t))&&!Ms(t.dom())&&!Mr.isBogus(t.dom())},Zf=function(e){return 1===Hi(e).length},Qf=function(e,t){var n,r=li(e.getBody()),a=li(e.selection.getStart()),s=G((n=wc(a,r),K(n,gr).fold(i(n),(function(e){return n.slice(0,e)}))),Zf);return ee(s).map((function(n){var i,r=ps.fromRangeStart(e.selection.getRng());return!(!function(e,t,n){return Ga(ql.firstPositionIn(n),ql.lastPositionIn(n),(function(i,r){var o=sc.normalizePosition(!0,i),a=sc.normalizePosition(!1,r),s=sc.normalizePosition(!1,t);return e?ql.nextPosition(n,s).map((function(e){return e.isEqual(a)&&t.isEqual(o)})).getOr(!1):ql.prevPosition(n,s).map((function(e){return e.isEqual(o)&&t.isEqual(a)})).getOr(!1)})).getOr(!0)}(t,r,n.dom())||Ms((i=n).dom())&&Uf(i.dom())||(function(e,t,n,i){var r,a,s,l,u=o(Xf,t),c=z(G(i,u),(function(e){return e.dom()}));if(0===c.length)dd(t,e,n);else{var d=(r=n.dom(),a=c,s=qf(!1),l=Kf(a,s.dom()),Ao(li(r),s),Fo(li(r)),ps(l,0));t.selection.setRng(d.toRange())}}(t,e,n,s),0))})).getOr(!1)},Jf=function(e,t){return!!e.selection.isCollapsed()&&Qf(e,t)},eh=Mr.isContentEditableTrue,th=Mr.isContentEditableFalse,nh=function(e,t,n,i,r){return t._selectionOverrides.showCaret(e,n,i,r)},ih=function(e,t){var n,i;return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((i=(n=t).ownerDocument.createRange()).selectNode(n),i)},rh=function(e,t,n){var i=gl(1,e.getBody(),t),r=ps.fromRangeStart(i),o=r.getNode();if(th(o))return nh(1,e,o,!r.isAtEnd(),!1);var a=r.getNode(!0);if(th(a))return nh(1,e,a,!1,!1);var s=e.dom.getParent(r.getNode(),(function(e){return th(e)||eh(e)}));return th(s)?nh(1,e,s,!1,n):null},oh=function(e,t,n){return t&&t.collapsed&&rh(e,t,n)||t},ah=function(e,t,n,i,r,o){var a,s,l=nh(i,e,o.getNode(!r),r,!0);if(t.collapsed){var u=t.cloneRange();r?u.setEnd(l.startContainer,l.startOffset):u.setStart(l.endContainer,l.endOffset),u.deleteContents()}else t.deleteContents();return e.selection.setRng(l),a=e.dom,s=n,Mr.isText(s)&&0===s.data.length&&a.remove(s),!0},sh=function(e,t){return function(e,t){var n=e.selection.getRng();if(!Mr.isText(n.commonAncestorContainer))return!1;var i=t?fs.Forwards:fs.Backwards,r=Rl(e.getBody()),a=o(_l,r.next),s=o(_l,r.prev),l=t?a:s,u=t?Yc:Kc,c=yl(i,e.getBody(),n),d=sc.normalizePosition(t,l(c));if(!d)return!1;if(u(d))return ah(e,n,c.getNode(),i,t,d);var f=l(d);return!!(f&&u(f)&&wl(d,f))&&ah(e,n,c.getNode(),i,t,f)}(e,t)},lh=function(e,t){e.getDoc().execCommand(t,!1,null)},uh=function(e){return function(t,n){return k.from(n).map(li).filter(pi).bind((function(n){return function(e,t,n){var i=function(t){return n=e,i=t.dom(),r=ki(i,n),k.from(r).filter((function(e){return 0<e.length}));var n,i,r};return Ko(li(n),(function(e){return i(e).isSome()}),(function(e){return Fi(li(t),e)})).bind(i)}(e,t,n.dom()).or((i=e,r=n.dom(),k.from(wo.DOM.getStyle(r,i,!0))));var i,r})).getOr("")}},ch={getFontSize:uh("font-size"),getFontFamily:n((function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),uh("font-family")),toPt:function(e,t){return/[0-9.]+px$/.test(e)?(n=72*parseInt(e,10)/96,i=t||0,r=Math.pow(10,i),Math.round(n*r)/r+"pt"):e;var n,i,r}},dh=function(e){return ql.firstPositionIn(e.getBody()).map((function(e){var t=e.container();return Mr.isText(t)?t.parentNode:t}))},fh=function(e){return k.from(e.selection.getRng()).bind((function(t){var n,i;return i=e.getBody(),(n=t).startContainer===i&&0===n.startOffset?k.none():k.from(e.selection.getStart(!0))}))},hh=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(1<=n&&n<=7){var i=function(e){return Yt.explode(e.getParam("font_size_style_values",""))}(e),r=function(e){return Yt.explode(e.getParam("font_size_classes",""))}(e);return r?r[n-1]||t:i[n-1]||t}return t}return t},ph=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},mh=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},gh=function(e,t,n){return mh(e,t,(function(e){return e.nodeName===n}))},vh=function(e){return e&&"TABLE"===e.nodeName},yh=function(e,t,n){for(var i=new cr(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=i[n?"prev":"next"]();)if(Mr.isBr(t))return!0},bh=function(e,t,n,i,r){var o,a,s,l,u,c,d=e.getRoot(),f=e.schema.getNonEmptyElements();if(s=e.getParent(r.parentNode,e.isBlock)||d,i&&Mr.isBr(r)&&t&&e.isEmpty(s))return k.some(ds(r.parentNode,e.nodeIndex(r)));for(o=new cr(r,s);l=o[i?"prev":"next"]();){if("false"===e.getContentEditableParent(l)||(c=d,va(u=l)&&!1===mh(u,c,Ms)))return k.none();if(Mr.isText(l)&&0<l.nodeValue.length)return!1===gh(l,d,"A")?k.some(ds(l,i?l.nodeValue.length:0)):k.none();if(e.isBlock(l)||f[l.nodeName.toLowerCase()])return k.none();a=l}return n&&a?k.some(ds(a,0)):k.none()},_h=function(e,t,n,i){var r,o,a,s,l,u,c,d,f,h=e.getRoot(),p=!1;if(r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"],c=Mr.isElement(r)&&o===r.childNodes.length,l=e.schema.getNonEmptyElements(),u=n,va(r))return k.none();if(Mr.isElement(r)&&o>r.childNodes.length-1&&(u=!1),Mr.isDocument(r)&&(r=h,o=0),r===h){if(u&&(s=r.childNodes[0<o?o-1:0])){if(va(s))return k.none();if(l[s.nodeName]||vh(s))return k.none()}if(r.hasChildNodes()){if(o=Math.min(!u&&0<o?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=Mr.isText(r)&&c?r.data.length:0,!t&&r===h.lastChild&&vh(r))return k.none();if(function(e,t){for(;t&&t!==e;){if(Mr.isContentEditableFalse(t))return!0;t=t.parentNode}return!1}(h,r)||va(r))return k.none();if(r.hasChildNodes()&&!1===vh(r)){a=new cr(s=r,h);do{if(Mr.isContentEditableFalse(s)||va(s)){p=!1;break}if(Mr.isText(s)&&0<s.nodeValue.length){o=u?0:s.nodeValue.length,r=s,p=!0;break}if(l[s.nodeName.toLowerCase()]&&(!(d=s)||!/^(TD|TH|CAPTION)$/.test(d.nodeName))){o=e.nodeIndex(s),r=s.parentNode,u||o++,p=!0;break}}while(s=u?a.next():a.prev())}}}return t&&(Mr.isText(r)&&0===o&&bh(e,c,t,!0,r).each((function(e){r=e.container(),o=e.offset(),p=!0})),Mr.isElement(r)&&((s=r.childNodes[o])||(s=r.childNodes[o-1]),!s||!Mr.isBr(s)||("A",(f=s).previousSibling&&"A"===f.previousSibling.nodeName)||yh(e,s,!1)||yh(e,s,!0)||bh(e,c,t,!0,s).each((function(e){r=e.container(),o=e.offset(),p=!0})))),u&&!t&&Mr.isText(r)&&o===r.nodeValue.length&&bh(e,c,t,!1,r).each((function(e){r=e.container(),o=e.offset(),p=!0})),p?k.some(ds(r,o)):k.none()},wh=function(e,t){var n=t.collapsed,i=t.cloneRange(),r=ds.fromRangeStart(t);return _h(e,n,!0,i).each((function(e){n&&ds.isAbove(r,e)||i.setStart(e.container(),e.offset())})),n||_h(e,n,!1,i).each((function(e){i.setEnd(e.container(),e.offset())})),n&&i.collapse(!0),ph(t,i)?k.none():k.some(i)},Sh=function(e,t,n){var i=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),t.scrollIntoView(i),e.remove(i)},Eh=function(e,t,n,i){var r=e.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),t.setRng(r)},Ch=function(e,t){var n=ai("br");Ao(li(t),n),e.undoManager.add()},xh=function(e,t){Th(e.getBody(),t)||Do(li(t),ai("br"));var n=ai("br");Do(li(t),n),Sh(e.dom,e.selection,n.dom()),Eh(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},Th=function(e,t){return n=ps.after(t),!!Mr.isBr(n.getNode())||ql.nextPosition(e,ps.after(t)).map((function(e){return Mr.isBr(e.getNode())})).getOr(!1);var n},Ih=function(e){return e&&"A"===e.nodeName&&"href"in e},kh=function(e){return e.fold(i(!1),Ih,Ih,i(!1))},Oh=function(e,n){n.fold(t,o(Ch,e),o(xh,e),t)},Ah=function(e,t){var n,i,r,a=(n=e,i=o(sc.isInlineTarget,n),r=ps.fromRangeStart(n.selection.getRng()),zd(i,n.getBody(),r).filter(kh));a.isSome()?a.each(o(Oh,e)):function(e,t){var n,i,r=e.selection,o=e.dom,a=r.getRng();wh(o,a).each((function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}));var s=a.startOffset,l=a.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=u&&3===l.nodeType?l.nodeValue.length:0}var c=o.getParent(l,o.isBlock),d=c?o.getParent(c.parentNode,o.isBlock):null,f=d?d.nodeName.toUpperCase():"",h=t&&t.ctrlKey;"LI"!==f||h||(c=d),l&&3===l.nodeType&&s>=l.nodeValue.length&&(function(e,t,n){for(var i,r=new cr(t,n),o=e.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||0<i.length)return!0}(e.schema,l,c)||(n=o.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),i=!0)),n=o.create("br"),xs(o,a,n),Sh(o,r,n),Eh(o,r,n,i),e.undoManager.add()}(e,t)},Dh={create:Oi("start","soffset","finish","foffset")},Ph=Nc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Nh=(Ph.before,Ph.on,Ph.after,function(e){return e.fold(r,r,r)}),Rh=Nc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Lh={domRange:Rh.domRange,relative:Rh.relative,exact:Rh.exact,exactFromRange:function(e){return Rh.exact(e.start(),e.soffset(),e.finish(),e.foffset())},getWin:function(e){var t=e.match({domRange:function(e){return li(e.startContainer)},relative:function(e,t){return Nh(e)},exact:function(e,t,n,i){return e}});return Vi(t)},range:Dh.create},Fh=ii.detect().browser,Mh=function(e,t){var n=mi(t)?Ou(t).length:Hi(t).length+1;return n<e?n:e<0?0:e},Bh=function(e){return Lh.range(e.start(),Mh(e.soffset(),e.start()),e.finish(),Mh(e.foffset(),e.finish()))},Vh=function(e,t){return!Mr.isRestrictedNode(t.dom())&&(Mi(e,t)||Fi(e,t))},$h=function(e){return function(t){return Vh(e,t.start())&&Vh(e,t.finish())}},jh=function(e){return Lh.range(li(e.startContainer),e.startOffset,li(e.endContainer),e.endOffset)},Uh=function(e){return function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?k.from(t.getRangeAt(0)):k.none()).map(jh)}(Vi(e).dom()).filter($h(e))},zh=function(e,t){return k.from(t).filter($h(e)).map(Bh)},qh=function(t){var n=e.document.createRange();try{return n.setStart(t.start().dom(),t.soffset()),n.setEnd(t.finish().dom(),t.foffset()),k.some(n)}catch(e){return k.none()}},Hh=function(e){return(e.bookmark?e.bookmark:k.none()).bind(o(zh,li(e.getBody()))).bind(qh)},Gh=function(e){var t=function(e){return!0===e.inline||Fh.isIE()}(e)?Uh(li(e.getBody())):k.none();e.bookmark=t.isSome()?t:e.bookmark},Wh=Hh,Yh=function(e){return _r(e)||wr(e)},Kh=function(e,t){var n=e.settings,i=e.dom,r=e.selection,o=e.formatter,a=/[a-z%]+$/i.exec(n.indentation)[0],s=parseInt(n.indentation,10),l=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||n.forced_root_block||i.getParent(r.getNode(),i.isBlock)||o.apply("div"),q(function(e){return G(z(e.selection.getSelectedBlocks(),li),(function(e){return!Yh(e)&&!$i(e).map(Yh).getOr(!1)}))}(e),(function(e){!function(e,t,n,i,r,o){if("false"!==e.getContentEditable(o)){var a=n?"margin":"padding";if(a="TABLE"===o.nodeName?"margin":a,a+="rtl"===e.getStyle(o,"direction",!0)?"Right":"Left","outdent"===t){var s=Math.max(0,parseInt(o.style[a]||0,10)-i);e.setStyle(o,a,s?s+r:"")}else s=parseInt(o.style[a]||0,10)+i+r,e.setStyle(o,a,s)}}(i,t,l,s,a,e.dom())}))},Xh=Yt.each,Zh=Yt.extend,Qh=Yt.map,Jh=Yt.inArray;function ep(e){var t,n,i,r,o={state:{},exec:{},value:{}},a=e.settings;e.on("PreInit",(function(){t=e.dom,n=e.selection,a=e.settings,i=e.formatter}));var s=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=o.state[t])return n(t);try{return e.getDoc().queryCommandState(t)}catch(e){}return!1}},l=function(e,t){t=t||"exec",Xh(e,(function(e,n){Xh(n.toLowerCase().split(","),(function(n){o[t][n]=e}))}))},u=function(t,n,i){t=t.toLowerCase(),o.value[t]=function(){return n.call(i||e)}};Zh(this,{execCommand:function(t,n,i,r){var a,s,l=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?function(e){Hh(e).each((function(t){e.selection.setRng(t)}))}(e):e.focus(),(r=e.fire("BeforeExecCommand",{command:t,ui:n,value:i})).isDefaultPrevented())return!1;if(s=t.toLowerCase(),a=o.exec[s])return a(s,n,i),e.fire("ExecCommand",{command:t,ui:n,value:i}),!0;if(Xh(e.plugins,(function(r){if(r.execCommand&&r.execCommand(t,n,i))return e.fire("ExecCommand",{command:t,ui:n,value:i}),!(l=!0)})),l)return l;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(t,n,i))return e.fire("ExecCommand",{command:t,ui:n,value:i}),!0;try{l=e.getDoc().execCommand(t,n,i)}catch(e){}return!!l&&(e.fire("ExecCommand",{command:t,ui:n,value:i}),!0)}},queryCommandState:s,queryCommandValue:function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=o.value[t])return n(t);try{return e.getDoc().queryCommandValue(t)}catch(e){}}},queryCommandSupported:function(t){if(t=t.toLowerCase(),o.exec[t])return!0;try{return e.getDoc().queryCommandSupported(t)}catch(e){}return!1},addCommands:l,addCommand:function(t,n,i){t=t.toLowerCase(),o.exec[t]=function(t,r,o,a){return n.call(i||e,r,o,a)}},addQueryStateHandler:function(t,n,i){t=t.toLowerCase(),o.state[t]=function(){return n.call(i||e)}},addQueryValueHandler:u,hasCustomCommand:function(e){return e=e.toLowerCase(),!!o.exec[e]}});var c=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.getDoc().execCommand(t,n,i)},d=function(e){return i.match(e)},f=function(t,n){i.toggle(t,n?{value:n}:void 0),e.nodeChanged()},h=function(e){r=n.getBookmark(e)},p=function(){n.moveToBookmark(r)};l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(t){var n,i=e.getDoc();try{c(t)}catch(e){n=!0}if("paste"!==t||i.queryCommandEnabled(t)||(n=!0),n||!i.queryCommandSupported(t)){var r=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");de.mac&&(r=r.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(n.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else i.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),Xh("left,center,right,justify".split(","),(function(e){t!==e&&i.remove("align"+e)})),"none"!==t&&f("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var i,r;c(e),(i=t.getParent(n.getNode(),"ol,ul"))&&(r=i.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(h(),t.split(r,i),p()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){f(e)},"ForeColor,HiliteColor":function(e,t,n){f(e,n)},FontName:function(t,n,i){var r,o;o=i,(r=e).formatter.toggle("fontname",{value:hh(r,o)}),r.nodeChanged()},FontSize:function(t,n,i){var r,o;o=i,(r=e).formatter.toggle("fontsize",{value:hh(r,o)}),r.nodeChanged()},RemoveFormat:function(e){i.remove(e)},mceBlockQuote:function(){f("blockquote")},FormatBlock:function(e,t,n){return f(n||"p")},mceCleanup:function(){var t=n.getBookmark();e.setContent(e.getContent()),n.moveToBookmark(t)},mceRemoveNode:function(t,i,r){var o=r||n.getNode();o!==e.getBody()&&(h(),e.dom.remove(o,!0),p())},mceSelectNodeDepth:function(i,r,o){var a=0;t.getParent(n.getNode(),(function(e){if(1===e.nodeType&&a++===o)return n.select(e),!1}),e.getBody())},mceSelectNode:function(e,t,i){n.select(i)},mceInsertContent:function(t,n,i){!function(e,t){var n,i,r="string"!=typeof(n=t)?(i=Yt.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:i}):{content:n,details:{}};Wu(e,r.content,r.details)}(e,i)},mceInsertRawHTML:function(t,i,r){n.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceToggleFormat:function(e,t,n){f(n)},mceSetContent:function(t,n,i){e.setContent(i)},"Indent,Outdent":function(t){Kh(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,i,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(e,r,o){var a;"string"==typeof o&&(o={href:o}),a=t.getParent(n.getNode(),"a"),o.href=o.href.replace(" ","%20"),a&&o.href||i.remove("link"),o.href&&i.apply("link",o,a)},selectAll:function(){var e=t.getParent(n.getStart(),Mr.isContentEditableTrue);if(e){var i=t.createRng();i.selectNodeContents(e),n.setRng(i)}},delete:function(){!function(e){hd(e,!1)||sh(e,!1)||rf(e,!1)||Oc(e,!1)||Af(e)||Pc(e)||Jf(e,!1)||(lh(e,"Delete"),uc(e))}(e)},forwardDelete:function(){!function(e){hd(e,!0)||sh(e,!0)||rf(e,!0)||Oc(e,!0)||Af(e)||Pc(e)||Jf(e,!0)||lh(e,"ForwardDelete")}(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,i){return Ah(e,i),!0}});var m=function(e){return function(){var r=n.isCollapsed()?[t.getParent(n.getNode(),t.isBlock)]:n.getSelectedBlocks(),o=Qh(r,(function(t){return!!i.matchNode(t,e)}));return-1!==Jh(o,!0)}};l({JustifyLeft:m("alignleft"),JustifyCenter:m("aligncenter"),JustifyRight:m("alignright"),JustifyFull:m("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return d(e)},mceBlockQuote:function(){return d("blockquote")},Outdent:function(){var e;if(a.inline_styles){if((e=t.getParent(n.getStart(),t.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0;if((e=t.getParent(n.getEnd(),t.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0}return s("InsertUnorderedList")||s("InsertOrderedList")||!a.inline_styles&&!!t.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var i=t.getParent(n.getNode(),"ul,ol");return i&&("insertunorderedlist"===e&&"UL"===i.tagName||"insertorderedlist"===e&&"OL"===i.tagName)}},"state"),l({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),u("FontName",(function(){return fh(t=e).fold((function(){return dh(t).map((function(e){return ch.getFontFamily(t.getBody(),e)})).getOr("")}),(function(e){return ch.getFontFamily(t.getBody(),e)}));var t}),this),u("FontSize",(function(){return fh(t=e).fold((function(){return dh(t).map((function(e){return ch.getFontSize(t.getBody(),e)})).getOr("")}),(function(e){return ch.getFontSize(t.getBody(),e)}));var t}),this)}var tp=Yt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),np=function(e){var t,n,i=this,r={},o=function(){return!1},a=function(){return!0};t=(e=e||{}).scope||i,n=e.toggleEvent||o;var s=function(e,t,a,s){var l,u,c;if(!1===t&&(t=o),t)for(t={func:t},s&&Yt.extend(t,s),c=(u=e.toLowerCase().split(" ")).length;c--;)e=u[c],(l=r[e])||(l=r[e]=[],n(e,!0)),a?l.unshift(t):l.push(t);return i},l=function(e,t){var o,a,s,l,u;if(e)for(o=(l=e.toLowerCase().split(" ")).length;o--;){if(e=l[o],a=r[e],!e){for(s in r)n(s,!1),delete r[s];return i}if(a){if(t)for(u=a.length;u--;)a[u].func===t&&(a=a.slice(0,u).concat(a.slice(u+1)),r[e]=a);else a.length=0;a.length||(n(e,!1),delete r[e])}}else{for(e in r)n(e,!1);r={}}return i};i.fire=function(n,i){var s,u,c,d;if(n=n.toLowerCase(),(i=i||{}).type=n,i.target||(i.target=t),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=a},i.stopPropagation=function(){i.isPropagationStopped=a},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=a},i.isDefaultPrevented=o,i.isPropagationStopped=o,i.isImmediatePropagationStopped=o),e.beforeFire&&e.beforeFire(i),s=r[n])for(u=0,c=s.length;u<c;u++){if((d=s[u]).once&&l(n,d.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===d.func.call(t,i))return i.preventDefault(),i}return i},i.on=s,i.off=l,i.once=function(e,t,n){return s(e,t,n,{once:!0})},i.has=function(e){return e=e.toLowerCase(),!(!r[e]||0===r[e].length)}};np.isNative=function(e){return!!tp[e.toLowerCase()]};var ip,rp=function(e){return e._eventDispatcher||(e._eventDispatcher=new np({scope:e,toggleEvent:function(t,n){np.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},op={fire:function(e,t,n){if(this.removed&&"remove"!==e&&"detach"!==e)return t;if(t=rp(this).fire(e,t,n),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},on:function(e,t,n){return rp(this).on(e,t,n)},off:function(e,t){return rp(this).off(e,t)},once:function(e,t){return rp(this).once(e,t)},hasEventListeners:function(e){return rp(this).has(e)}},ap=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},sp=function(e,t,n){var i,r;zo(e,t)&&!1===n?(r=t,jo(i=e)?i.dom().classList.remove(r):function(e,t){return r=t,0<(o=G($o(n=e,i="class"),(function(e){return e!==r}))).length?Ei(n,i,o.join(" ")):Ti(n,i),!1;var n,i,r,o}(i,r),function(e){0===(jo(e)?e.dom().classList:$o(e,"class")).length&&Ti(e,"class")}(i)):n&&Uo(e,t)},lp=function(e,t){sp(li(e.getBody()),"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",ap(e,"StyleWithCSS",!1),ap(e,"enableInlineTableEditing",!1),ap(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},up=wo.DOM,cp=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=up.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},dp=function(e,t,n){var i;(i=e).hidden||i.readonly?!0===e.readonly&&n.preventDefault():e.fire(t,n)},fp=function(e,t){var n,i;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=cp(e,t),e.settings.event_root){if(ip||(ip={},e.editorManager.on("removeEditor",(function(){var t;if(!e.editorManager.activeEditor&&ip){for(t in ip)e.dom.unbind(cp(e,t));ip=null}}))),ip[t])return;i=function(n){for(var i=n.target,r=e.editorManager.get(),o=r.length;o--;){var a=r[o].getBody();(a===i||up.isChildOf(i,a))&&dp(r[o],t,n)}},ip[t]=i,up.bind(n,t,i)}else i=function(n){dp(e,t,n)},up.bind(n,t,i),e.delegates[t]=i},hp={bindPendingEventDelegates:function(){var e=this;Yt.each(e._pendingNativeEvents,(function(t){fp(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?fp(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(cp(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),i=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(cp(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&i&&(n.onload=null,i.unbind(t.getWin()),i.unbind(t.getDoc())),i&&(i.unbind(n),i.unbind(t.getContainer()))}},pp=hp=Yt.extend({},op,hp),mp=Oi("sections","settings"),gp=ii.detect().deviceType.isTouch(),vp=["lists","autolink","autosave"],yp={theme:"mobile"},bp=function(e){var t=P(e)?e.join(" "):e,n=z(A(t)?t.split(" "):[],Kn);return G(n,(function(e){return 0<e.length}))},_p=function(e,t){return e.sections().hasOwnProperty(t)},wp=function(e,t,n,i){var r,a=bp(n.forced_plugins),s=bp(i.plugins),l=(r=e&&_p(t,"mobile")?G(s,o(j,vp)):s,[].concat(bp(a)).concat(bp(r)));return Yt.extend(i,{plugins:l.join(" ")})},Sp=function(e,t,n){return k.from(t.settings[n]).filter(e)},Ep=Yt.each,Cp=Yt.explode,xp={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Tp=Yt.makeMap("alt,ctrl,shift,meta,access");function Ip(e){var t={},n=[],i=function(e){var t,n,i={};for(n in Ep(Cp(e,"+"),(function(e){e in Tp?i[e]=!0:/^[0-9]{2,}$/.test(e)?i.keyCode=parseInt(e,10):(i.charCode=e.charCodeAt(0),i.keyCode=xp[e]||e.toUpperCase().charCodeAt(0))})),t=[i.keyCode],Tp)i[n]?t.push(n):i[n]=!1;return i.id=t.join(","),i.access&&(i.alt=!0,de.mac?i.ctrl=!0:i.shift=!0),i.meta&&(de.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},r=function(t,n,r,o){var a;return(a=Yt.map(Cp(t,">"),i))[a.length-1]=Yt.extend(a[a.length-1],{func:r,scope:o||e}),Yt.extend(a[0],{desc:e.translate(n),subpatterns:a.slice(1)})},o=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},a=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",(function(e){var i,r;((r=e).altKey||r.ctrlKey||r.metaKey||"keydown"===(i=e).type&&112<=i.keyCode&&i.keyCode<=123)&&!e.isDefaultPrevented()&&(Ep(t,(function(t){if(o(e,t))return n=t.subpatterns.slice(0),"keydown"===e.type&&a(t),!0})),o(e,n[0])&&(1===n.length&&"keydown"===e.type&&a(n[0]),n.shift()))})),this.add=function(n,i,o,a){var s;return"string"==typeof(s=o)?o=function(){e.execCommand(s,!1,null)}:Yt.isArray(s)&&(o=function(){e.execCommand(s[0],s[1],s[2])}),Ep(Cp(Yt.trim(n.toLowerCase())),(function(e){var n=r(e,i,o,a);t[n.id]=n})),!0},this.remove=function(e){var n=r(e);return!!t[n.id]&&(delete t[n.id],!0)}}var kp=function(e){var t=Bi(e).dom();return e.dom()===t.activeElement},Op=function(e,t){(function(e,t){return(n=t,n.collapsed?k.from(za(n.startContainer,n.startOffset)).map(li):k.none()).bind((function(t){return Er(t)?k.some(t):!1===Mi(e,t)?k.some(e):k.none()}));var n})(li(e.getBody()),t).bind((function(e){return ql.firstPositionIn(e.dom())})).fold((function(){e.selection.normalize()}),(function(t){return e.selection.setRng(t.toRange())}))},Ap=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Dp=function(t){var n,i=t.getBody();return i&&(n=li(i),kp(n)||function(t){return(n=Bi(t),i=void 0!==n?n.dom():e.document,k.from(i.activeElement).map(li)).filter((function(e){return t.dom().contains(e.dom())}));var n,i}(n).isSome())},Pp=function(e){return e.inline?Dp(e):(t=e).iframeElement&&kp(li(t.iframeElement));var t},Np=function(e){return e.editorManager.setActive(e)},Rp=Pp,Lp=function(e,t){return t.dom()[e]},Fp=function(e,t){return parseInt(Ii(t,e),10)},Mp=o(Lp,"clientWidth"),Bp=o(Lp,"clientHeight"),Vp=o(Fp,"margin-top"),$p=o(Fp,"margin-left"),jp=function(e,t,n){var i,r,o,a,s,l,u,c,d,f,h=li(e.getBody()),p=e.inline?h:li(h.dom().ownerDocument.documentElement),m=(i=e.inline,o=t,a=n,s=(r=p).dom().getBoundingClientRect(),{x:o-(i?s.left+r.dom().clientLeft+$p(r):0),y:a-(i?s.top+r.dom().clientTop+Vp(r):0)});return u=m.x,c=m.y,d=Mp(l=p),f=Bp(l),0<=u&&0<=c&&u<=d&&c<=f};function Up(e){var t,n=[],i=function(){var t,n=e.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:t,reposition:t,getArgs:t}},r=function(){0<n.length&&i().reposition(n)},o=function(e){K(n,(function(t){return t===e})).each((function(e){n.splice(e,1)}))},a=function(t){if(!e.removed&&function(e){var t;return(t=e.inline?e.getBody():e.getContentAreaContainer(),k.from(t).map(li)).map((function(e){return Mi(Bi(e),e)})).getOr(!1)}(e))return Y(n,(function(e){return n=i().getArgs(e),r=t,!(n.type!==r.type||n.text!==r.text||n.progressBar||n.timeout||r.progressBar||r.timeout);var n,r})).getOrThunk((function(){e.editorManager.setActive(e);var a,s=i().open(t,(function(){o(s),r()}));return a=s,n.push(a),r(),s}))};return(t=e).on("SkinLoaded",(function(){var e=t.settings.service_message;e&&a({text:e,type:"warning",timeout:0,icon:""})})),t.on("ResizeEditor ResizeWindow",(function(){ge.requestAnimationFrame(r)})),t.on("remove",(function(){q(n.slice(),(function(e){i().close(e)}))})),{open:a,close:function(){k.from(n[0]).each((function(e){i().close(e),o(e),r()}))},getNotifications:function(){return n}}}function zp(e){var t=[],n=function(){var t,n=e.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:t=function(){throw new Error("Theme did not provide a WindowManager implementation.")},alert:t,confirm:t,close:t,getParams:t,setParams:t}},i=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},r=function(n){var i;t.push(n),i=n,e.fire("OpenWindow",{win:i})},o=function(n){K(t,(function(e){return e===n})).each((function(i){var r;t.splice(i,1),r=n,e.fire("CloseWindow",{win:r}),0===t.length&&e.focus()}))},a=function(){return k.from(t[t.length-1])};return e.on("remove",(function(){q(t.slice(0),(function(e){n().close(e)}))})),{windows:t,open:function(t,i){e.editorManager.setActive(e),Gh(e);var a=n().open(t,i,o);return r(a),a},alert:function(e,t,a){var s=n().alert(e,i(a||this,t),o);r(s)},confirm:function(e,t,a){var s=n().confirm(e,i(a||this,t),o);r(s)},close:function(){a().each((function(e){n().close(e),o(e)}))},getParams:function(){return a().map(n().getParams).getOr(null)},setParams:function(e){a().each((function(t){n().setParams(t,e)}))},getWindows:function(){return t}}}var qp={},Hp="en",Gp={setCode:function(e){e&&(Hp=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return Hp},rtl:!1,add:function(e,t){var n=qp[e];for(var i in n||(qp[e]=n={}),t)n[i]=t[i];this.setCode(e)},translate:function(e){var t=qp[Hp]||{},n=function(e){return Yt.is(e,"function")?Object.prototype.toString.call(e):i(e)?"":""+e},i=function(e){return""===e||null===e||Yt.is(e,"undefined")},r=function(e){return e=n(e),Yt.hasOwn(t,e)?n(t[e]):e};if(i(e))return"";if(Yt.is(e,"object")&&Yt.hasOwn(e,"raw"))return n(e.raw);if(Yt.is(e,"array")){var o=e.slice(1);e=r(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return Yt.hasOwn(o,t)?n(o[t]):e}))}return r(e).replace(/{context:\w+}$/,"")},data:qp},Wp=Oo.PluginManager,Yp=function(e,t){e.notificationManager.open({type:"error",text:t})},Kp=function(e,t){e._skinLoaded?Yp(e,t):e.on("SkinLoaded",(function(){Yp(e,t)}))},Xp=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=e.window.console;r&&(r.error?r.error.apply(r,arguments):r.log.apply(r,arguments))},Zp=function(e,t){Kp(e,function(e,t){var n=function(e,t){for(var n in Wp.urls)if(Wp.urls[n]+"/plugin"+t+".js"===e)return n;return null}(t,e.suffix);return n?Gp.translate(["Failed to load plugin: {0} from url {1}",n,t]):Gp.translate(["Failed to load plugin url: {0}",t])}(e,t))},Qp=function(e,t,n){var i=Gp.translate(["Failed to initialize plugin: {0}",t]);Xp(i,n),Kp(e,i)},Jp=function(e,t){Kp(e,Gp.translate(["Failed to upload image: {0}",t]))},em=Kp,tm=Xp,nm=Oo.PluginManager,im=Oo.ThemeManager;function rm(){return new(ie.getOrDie("XMLHttpRequest"))}function om(t,n){var i={},r=function(t,i,r,o){var a,s;(a=rm()).open("POST",n.url),a.withCredentials=n.credentials,a.upload.onprogress=function(e){o(e.loaded/e.total*100)},a.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var e,t,o;a.status<200||300<=a.status?r("HTTP Error: "+a.status):(e=JSON.parse(a.responseText))&&"string"==typeof e.location?i((t=n.basePath,o=e.location,t?t.replace(/\/$/,"")+"/"+o.replace(/^\//,""):o)):r("Invalid JSON: "+a.responseText)},(s=new e.FormData).append("file",t.blob(),t.filename()),a.send(s)},o=function(e,t){return{url:t,blobInfo:e,status:!0}},a=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},s=function(e,t){Yt.each(i[e],(function(e){e(t)})),delete i[e]};return!1===L(n.handler)&&(n.handler=r),{upload:function(e,l){return n.url||n.handler!==r?function(e,r){return e=Yt.grep(e,(function(e){return!t.isUploaded(e.blobUri())})),fe.all(Yt.map(e,(function(e){return t.isPending(e.blobUri())?(d=e.blobUri(),new fe((function(e){i[d]=i[d]||[],i[d].push(e)}))):(l=e,u=n.handler,c=r,t.markPending(l.blobUri()),new fe((function(e){var n;try{var i=function(){n&&n.close()};u(l,(function(n){i(),t.markUploaded(l.blobUri(),n),s(l.blobUri(),o(l,n)),e(o(l,n))}),(function(n){i(),t.removeFailed(l.blobUri()),s(l.blobUri(),a(l,n)),e(a(l,n))}),(function(e){e<0||100<e||(n||(n=c()),n.progressBar.value(e))}))}catch(t){e(a(l,t.message))}})));var l,u,c,d})))}(e,l):new fe((function(e){e([])}))}}}var am=function(e){var t,n,i=decodeURIComponent(e).split(",");return(n=/data:([^;]+)/.exec(i[0]))&&(t=n[1]),{type:t,data:i[1]}},sm=function(t){return new fe((function(n){var i,r,o,a,s=am(t);try{i=function(e){return ie.getOrDie("atob")(e)}(s.data)}catch(t){return void n(new e.Blob([]))}for(a=i.length,r=new(ie.getOrDie("Uint8Array"))(a),o=0;o<r.length;o++)r[o]=i.charCodeAt(o);n(new e.Blob([r],{type:s.type}))}))},lm=function(e){return 0===e.indexOf("blob:")?(t=e,new fe((function(e,n){var i=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var r=rm();r.open("GET",t,!0),r.responseType="blob",r.onload=function(){200===this.status?e(this.response):i()},r.onerror=i,r.send()}catch(e){i()}}))):0===e.indexOf("data:")?sm(e):null;var t},um=am,cm=0,dm=function(e){return(e||"blobid")+cm++},fm=function(e,t,n,i){var r,o;0!==t.src.indexOf("blob:")?(r=um(t.src).data,(o=e.findFirst((function(e){return e.base64()===r})))?n({image:t,blobInfo:o}):lm(t.src).then((function(i){o=e.create(dm(),i,r),e.add(o),n({image:t,blobInfo:o})}),(function(e){i(e)}))):(o=e.getByUri(t.src))?n({image:t,blobInfo:o}):lm(t.src).then((function(i){(function(e){return new fe((function(t){var n=new(ie.getOrDie("FileReader"));n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))})(i).then((function(a){r=um(a).data,o=e.create(dm(),i,r),e.add(o),n({image:t,blobInfo:o})}))}),(function(e){i(e)}))},hm=0,pm=function(e){return e+hm+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t};function mm(e){var t,n,r,o,a,s,l,u,c,d=(t=[],n=function(e){var t,n,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return t=e.id||pm("blobid"),n=e.name||t,{id:i(t),name:i(n),filename:i(n+"."+(r=e.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[r.toLowerCase()]||"dat")),blob:i(e.blob),base64:i(e.base64),blobUri:i(e.blobUri||oe(e.blob)),uri:i(e.uri)}},{create:function(e,t,i,r){if(A(e))return n({id:e,name:r,blob:t,base64:i});if(D(e))return n(e);throw new Error("Unknown input type")},add:function(e){r(e.id())||t.push(e)},get:r=function(e){return o((function(t){return t.id()===e}))},getByUri:function(e){return o((function(t){return t.blobUri()===e}))},findFirst:o=function(e){return G(t,e)[0]},removeByUri:function(e){t=G(t,(function(t){return t.blobUri()!==e||(ae(t.blobUri()),!1)}))},destroy:function(){q(t,(function(e){ae(e.blobUri())})),t=[]}}),f=(l={},u=function(e,t){return{status:e,resultUri:t}},{hasBlobUri:c=function(e){return e in l},getResultUri:function(e){var t=l[e];return t?t.resultUri:null},isPending:function(e){return!!c(e)&&1===l[e].status},isUploaded:function(e){return!!c(e)&&2===l[e].status},markPending:function(e){l[e]=u(1,null)},markUploaded:function(e,t){l[e]=u(2,t)},removeFailed:function(e){delete l[e]},destroy:function(){l={}}}),h=[],p=function(t){return function(n){return e.selection?t(n):[]}},m=function(e,t,n){for(var i=0;-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1),-1!==i;);return e},g=function(e,t,n){return e=m(e,'src="'+t+'"','src="'+n+'"'),m(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},v=function(t,n){q(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=z(e.fragments,(function(e){return g(e,t,n)})):e.content=g(e.content,t,n)}))},y=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},b=function(t){return a||(a=om(f,{url:tc(e),basePath:nc(e),credentials:ic(e),handler:rc(e)})),S().then(p((function(n){var i;return i=z(n,(function(e){return e.blobInfo})),a.upload(i,y).then(p((function(i){var r=z(i,(function(t,i){var r=n[i].image;return t.status&&function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")}(e)?function(t,n){d.removeByUri(t.src),v(t.src,n),e.$(t).attr({src:ec(e)?n+"?"+(new Date).getTime():n,"data-mce-src":e.convertURL(n,"src")})}(r,t.url):t.error&&Jp(e,t.error),{element:r,status:t.status}}));return t&&t(r),r})))})))},_=function(t){if(Ju(e))return b(t)},w=function(t){return!1!==Z(h,(function(e){return e(t)}))&&(0!==t.getAttribute("src").indexOf("data:")||function(e){return e.getParam("images_dataimg_filter",i(!0),"function")}(e)(t))},S=function(){var t,n,r;return s||(t=f,n=d,r={},s={findAll:function(e,o){var a;o||(o=i(!0)),a=G(function(e){return e?te(e.getElementsByTagName("img")):[]}(e),(function(e){var n=e.src;return!!de.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===de.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n)&&o(e):0===n.indexOf("data:")&&o(e))}));var s=z(a,(function(e){if(r[e.src])return new fe((function(t){r[e.src].then((function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))}));var t=new fe((function(t,i){fm(n,e,t,i)})).then((function(e){return delete r[e.image.src],e})).catch((function(t){return delete r[e.src],t}));return r[e.src]=t}));return fe.all(s)}}),s.findAll(e.getBody(),w).then(p((function(t){return t=G(t,(function(t){return"string"!=typeof t||(em(e,t),!1)})),q(t,(function(e){v(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))},E=function(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var i=f.getResultUri(n);if(i)return'src="'+i+'"';var r=d.getByUri(n);return r||(r=W(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':t}))};return e.on("setContent",(function(){Ju(e)?_():S()})),e.on("RawSaveContent",(function(e){e.content=E(e.content)})),e.on("getContent",(function(e){e.source_view||"raw"===e.format||(e.content=E(e.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){q(e,(function(e){var t=e.attr("src");if(!d.getByUri(t)){var n=f.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:d,addFilter:function(e){h.push(e)},uploadImages:b,uploadImagesAuto:_,scanForImages:S,destroy:function(){d.destroy(),f.destroy(),s=a=null}}}var gm=function(e,t){return e.hasOwnProperty(t.nodeName)},vm=function(e,t){if(Mr.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||gm(e,t.nextSibling)))return!0}return!1},ym=function(e){var t,n,i,r,o,a,s,l,u,c,d,f=e.settings,h=e.dom,p=e.selection,m=e.schema,g=m.getBlockElements(),v=p.getStart(),y=e.getBody();if(d=f.forced_root_block,v&&Mr.isElement(v)&&d&&(c=y.nodeName.toLowerCase(),m.isValidChild(c,d.toLowerCase())&&(b=g,_=y,!U(_c(li(v),li(_)),(function(e){return gm(b,e.dom())}))))){var b,_,w,S;for(n=(t=p.getRng()).startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,u=Rp(e),v=y.firstChild;v;)if(w=g,S=v,Mr.isText(S)||Mr.isElement(S)&&!gm(w,S)&&!Jl(S)){if(vm(g,v)){v=(s=v).nextSibling,h.remove(s);continue}a||(a=h.create(d,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),l=!0),v=(s=v).nextSibling,a.appendChild(s)}else a=null,v=v.nextSibling;l&&u&&(t.setStart(n,i),t.setEnd(r,o),p.setRng(t),e.nodeChanged())}},bm=function(e){e.settings.forced_root_block&&e.on("NodeChange",o(ym,e))},_m=function(e){return Wi(e).fold(i([e]),(function(t){return[e].concat(_m(t))}))},wm=function(e){return Yi(e).fold(i([e]),(function(t){return"br"===fi(t)?ji(t).map((function(t){return[e].concat(wm(t))})).getOr([]):[e].concat(wm(t))}))},Sm=function(e,t,n,i){var r=n,o=new cr(n,r),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Yt.trim(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(de.ie&&de.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(i?t.setStart(n,0):t.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},Em=function(e){var t=e.selection.getSel();return t&&0<t.rangeCount};function Cm(e){var t,n=[];"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",(function(n){var i,r;r={startContainer:(i=e.selection.getRng()).startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset},"nodechange"!==n.type&&ph(r,t)||e.fire("SelectionChange"),t=r})),e.on("contextmenu",(function(){e.fire("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);!t||!de.range&&e.selection.isCollapsed()||Em(e)&&!function(t){var i,r;if((r=e.$(t).parentsUntil(e.getBody()).add(t)).length===n.length){for(i=r.length;0<=i&&r[i]===n[i];i--);if(-1===i)return n=r,!0}return n=r,!1}(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("MouseUp",(function(t){!t.isDefaultPrevented()&&Em(e)&&("IMG"===e.selection.getNode().nodeName?ge.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())})),this.nodeChanged=function(t){var n,i,r,o=e.selection;e.initialized&&o&&!e.settings.disable_nodechange&&!e.readonly&&(r=e.getBody(),(n=o.getStart(!0)||r).ownerDocument===e.getDoc()&&e.dom.isChildOf(n,r)||(n=r),i=[],e.dom.getParent(n,(function(e){if(e===r)return!0;i.push(e)})),(t=t||{}).element=n,t.parents=i,e.fire("NodeChange",t))}}var xm,Tm,Im={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return de.mac?e.metaKey:e.ctrlKey&&!e.altKey}},km=function(e){return W(e,(function(e,t){return e.concat(function(e){var t=function(t){return z(t,(function(t){return(t=Fa(t)).node=e,t}))};if(Mr.isElement(e))return t(e.getClientRects());if(Mr.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}}(t))}),[])};(Tm=xm||(xm={}))[Tm.Up=-1]="Up",Tm[Tm.Down=1]="Down";var Om=function(e,t,n,i,r,o){var a,s,l=0,u=[],c=function(i){var o,a,c;for(c=km([i]),-1===e&&(c=c.reverse()),o=0;o<c.length;o++)if(a=c[o],!n(a,s)){if(0<u.length&&t(a,zt.last(u))&&l++,a.line=l,r(a))return!0;u.push(a)}};return(s=zt.last(o.getClientRects()))&&(c(a=o.getNode()),function(e,t,n,i){for(;i=ll(i,e,Ra,t);)if(n(i))return}(e,i,c,a)),u},Am=o(Om,xm.Up,Va,$a),Dm=o(Om,xm.Down,$a,Va),Pm=function(e){return function(t){return n=e,t.line>n;var n}},Nm=function(e){return function(t){return n=e,t.line===n;var n}},Rm=Mr.isContentEditableFalse,Lm=ll,Fm=function(e,t){return Math.abs(e.left-t)},Mm=function(e,t){return Math.abs(e.right-t)},Bm=function(e,t){return e>=t.left&&e<=t.right},Vm=function(e,t){return zt.reduce(e,(function(e,n){var i,r;return i=Math.min(Fm(e,t),Mm(e,t)),r=Math.min(Fm(n,t),Mm(n,t)),Bm(t,n)?n:Bm(t,e)?e:r===i&&Rm(n.node)||r<i?n:e}))},$m=function(e,t,n,i){for(;i=Lm(i,e,Ra,t);)if(n(i))return},jm=function(e,t,n){if(n.collapsed)return!1;if(de.ie&&de.ie<=11&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var i=n.startContainer.childNodes[n.startOffset];if(Mr.isElement(i))return U(i.getClientRects(),(function(n){return ja(n,e,t)}))}return U(n.getClientRects(),(function(n){return ja(n,e,t)}))},Um=function(e){var t,n,i,r;return r=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},zm=function(e,t){return n=(s=e).inline?Um(s.getBody()):{left:0,top:0},a=(o=e).getBody(),i=o.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(r=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Um(e.getContentAreaContainer()),i=(o=(r=e).getBody(),a=r.getDoc().documentElement,s={left:o.scrollLeft,top:o.scrollTop},l={left:o.scrollLeft||a.scrollLeft,top:o.scrollTop||a.scrollTop},r.inline?s:l);return{left:t.pageX-n.left+i.left,top:t.pageY-n.top+i.top}}var r,o,a,s,l;return{left:t.pageX,top:t.pageY}}(e,t)).left-n.left+i.left,pageY:r.top-n.top+i.top};var n,i,r,o,a,s},qm=Mr.isContentEditableFalse,Hm=Mr.isContentEditableTrue,Gm=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},Wm=function(e,t){return function(n){if(0===n.button){var i=Y(t.dom.getParents(n.target),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Wa.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}}(qm,Hm)).getOr(null);if(s=t.getBody(),qm(l=i)&&l!==s){var r=t.dom.getPos(i),o=t.getBody(),a=t.getDoc().documentElement;e.element=i,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?o.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?o.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-r.x,e.relY=n.pageY-r.y,e.width=i.offsetWidth,e.height=i.offsetHeight,e.ghost=function(e,t,n,i){var r=t.cloneNode(!0);e.dom.setStyles(r,{width:n,height:i}),e.dom.setAttrib(r,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),e.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o}(t,i,e.width,e.height)}}var s,l}},Ym=function(e){e.dragging=!1,e.element=null,Gm(e.ghost)},Km=function(t){var n,i,r,o,a,s,l,u,c,d,f,h={};n=wo.DOM,s=e.document,i=Wm(h,t),l=h,u=t,c=ge.throttle((function(e,t){u._selectionOverrides.hideFakeCaret(),u.selection.placeCaretAt(e,t)}),0),r=function(e){var t,n,i,r,o,a,s,d,f,h,p,m,g=Math.max(Math.abs(e.screenX-l.screenX),Math.abs(e.screenY-l.screenY));if(l.element&&!l.dragging&&10<g){if(u.fire("dragstart",{target:l.element}).isDefaultPrevented())return;l.dragging=!0,u.focus()}if(l.dragging){var v=(p=l,{pageX:(m=zm(u,e)).pageX-p.relX,pageY:m.pageY+5});f=l.ghost,h=u.getBody(),f.parentNode!==h&&h.appendChild(f),t=l.ghost,n=v,i=l.width,r=l.height,o=l.maxX,a=l.maxY,d=s=0,t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+i>o&&(s=n.pageX+i-o),n.pageY+r>a&&(d=n.pageY+r-a),t.style.width=i-s+"px",t.style.height=r-d+"px",c(e.clientX,e.clientY)}},o=function(e,t){return function(n){if(e.dragging&&(s=3===(u=(a=t).selection.getSel().getRangeAt(0).startContainer).nodeType?u.parentNode:u)!==(l=e.element)&&!a.dom.isChildOf(s,l)&&!qm(s)){var i=((o=e.element.cloneNode(!0)).removeAttribute("data-mce-selected"),o),r=t.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,t.undoManager.transact((function(){Gm(e.element),t.insertContent(t.dom.getOuterHTML(i)),t._selectionOverrides.hideFakeCaret()})))}var o,a,s,l,u;Ym(e)}}(h,t),d=h,a=function(){d.dragging&&f.fire("dragend"),Ym(d)},(f=t).on("mousedown",i),t.on("mousemove",r),t.on("mouseup",o),n.bind(s,"mousemove",r),n.bind(s,"mouseup",a),t.on("remove",(function(){n.unbind(s,"mousemove",r),n.unbind(s,"mouseup",a)}))},Xm=Mr.isContentEditableTrue,Zm=Mr.isContentEditableFalse,Qm=function(e,t){for(var n=e.getBody();t&&t!==n;){if(Xm(t)||Zm(t))return t;t=t.parentNode}return null},Jm=function(e){var t,n,i,r=e.getBody(),a=Xs(e.getBody(),(function(t){return e.dom.isBlock(t)}),(function(){return Rp(e)})),s="sel-"+e.dom.uniqueId(),l=function(t){t&&e.selection.setRng(t)},u=function(){return e.selection.getRng()},c=function(t,n,i,r){return void 0===r&&(r=!0),e.fire("ShowCaret",{target:n,direction:t,before:i}).isDefaultPrevented()?null:(r&&e.selection.scrollIntoView(n,-1===t),a.show(i,n))},d=function(e,t){return t=gl(e,r,t),-1===e?ps.fromRangeStart(t):ps.fromRangeEnd(t)},f=function(e){return va(e)||wa(e)||Sa(e)},h=function(e){return f(e.startContainer)||f(e.endContainer)},p=function(n,i){var r,o,a,l,u,f,p,m,v,y,b=e.$,_=e.dom;if(!n)return null;if(n.collapsed){if(!h(n))if(!1===i){if(m=d(-1,n),Qs(m.getNode(!0)))return c(-1,m.getNode(!0),!1,!1);if(Qs(m.getNode()))return c(-1,m.getNode(),!m.isAtEnd(),!1)}else{if(m=d(1,n),Qs(m.getNode()))return c(1,m.getNode(),!m.isAtEnd(),!1);if(Qs(m.getNode(!0)))return c(1,m.getNode(!0),!1,!1)}return null}return l=n.startContainer,u=n.startOffset,f=n.endOffset,3===l.nodeType&&0===u&&Zm(l.parentNode)&&(l=l.parentNode,u=_.nodeIndex(l),l=l.parentNode),1!==l.nodeType?null:(f===u+1&&l===n.endContainer&&(r=l.childNodes[u]),Zm(r)?(v=y=r.cloneNode(!0),(p=e.fire("ObjectSelected",{target:r,targetClone:v})).isDefaultPrevented()?null:(o=Zo(li(e.getBody()),"#"+s).fold((function(){return b([])}),(function(e){return b([e.dom()])})),v=p.targetClone,0===o.length&&(o=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",s)).appendTo(e.getBody()),n=e.dom.createRng(),v===y&&de.ie?(o.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(v),n.setStartAfter(o[0].firstChild.firstChild),n.setEndAfter(v)):(o.empty().append(" ").append(v).append(" "),n.setStart(o[0].firstChild,1),n.setEnd(o[0].lastChild,0)),o.css({top:_.getPos(r,e.getBody()).y}),o[0].focus(),(a=e.selection.getSel()).removeAllRanges(),a.addRange(n),q(Ho(li(e.getBody()),"*[data-mce-selected]"),(function(e){Ti(e,"data-mce-selected")})),r.setAttribute("data-mce-selected","1"),t=r,g(),n)):null)},m=function(){t&&(t.removeAttribute("data-mce-selected"),Zo(li(e.getBody()),"#"+s).each(Fo),t=null),Zo(li(e.getBody()),"#"+s).each(Fo),t=null},g=function(){a.hide()};return de.ceFalse&&(function(){e.on("mouseup",(function(t){var n=u();n.collapsed&&jp(e,t.clientX,t.clientY)&&l(rh(e,n,!1))})),e.on("click",(function(t){var n;(n=Qm(e,t.target))&&(Zm(n)&&(t.preventDefault(),e.focus()),Xm(n)&&e.dom.isChildOf(n,e.selection.getNode())&&m())})),e.on("blur NewBlock",(function(){m()})),e.on("ResizeWindow FullscreenStateChanged",(function(){return a.reposition()}));var n,i;i=!1,(n=e).on("touchstart",(function(){i=!1})),n.on("touchmove",(function(){i=!0})),n.on("touchend",(function(e){var t=Qm(n,e.target);Zm(t)&&(i||(e.preventDefault(),p(ih(n,t))))})),e.on("mousedown",(function(t){var n,i=t.target;if((i===r||"HTML"===i.nodeName||e.dom.isChildOf(i,r))&&!1!==jp(e,t.clientX,t.clientY))if(n=Qm(e,i))Zm(n)?(t.preventDefault(),p(ih(e,n))):(m(),Xm(n)&&t.shiftKey||jm(t.clientX,t.clientY,e.selection.getRng())||(g(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===Qs(i)){m(),g();var a=function(e,t,n){var i,r,a,s,l,u,c,d=km(G(te(e.getElementsByTagName("*")),Qs)),f=G(d,(function(e){return n>=e.top&&n<=e.bottom}));return(i=Vm(f,t))&&(i=Vm((s=e,c=function(e,t){var n;return n=G(km([t]),(function(t){return!e(t,l)})),u=u.concat(n),0===n.length},(u=[]).push(l=i),$m(xm.Up,s,o(c,Va),l.node),$m(xm.Down,s,o(c,$a),l.node),u),t))&&Qs(i.node)?(a=t,{node:(r=i).node,before:Fm(r,a)<Mm(r,a)}):null}(r,t.clientX,t.clientY);if(a&&!function(t,n){var i,r,o=e.dom.getParent(t,e.dom.isBlock),a=e.dom.getParent(n,e.dom.isBlock);return!(!o||!e.dom.isChildOf(o,a)||!1!==Zm(Qm(e,o)))||o&&(i=o,r=a,!(e.dom.getParent(i,e.dom.isBlock)===e.dom.getParent(r,e.dom.isBlock)))&&function(e){var t=Rl(e);if(!e.firstChild)return!1;var n=ps.before(e.firstChild),i=t.next(n);return i&&!Yc(i)&&!Kc(i)}(o)}(t.target,a.node)){t.preventDefault();var s=c(1,a.node,a.before,!1);e.getBody().focus(),l(s)}}})),e.on("keypress",(function(t){Im.modifierPressed(t)||(t.keyCode,Zm(e.selection.getNode())&&t.preventDefault())})),e.on("getSelectionRange",(function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);(n=n.cloneRange()).selectNode(t),e.range=n}})),e.on("setSelectionRange",(function(t){t.range=function(t){var n=e.schema.getShortEndedElements(),i=e.dom.createRng(),r=t.startContainer,o=t.startOffset,a=t.endContainer,s=t.endOffset;return _i(n,r.nodeName.toLowerCase())?0===o?i.setStartBefore(r):i.setStartAfter(r):i.setStart(r,o),_i(n,a.nodeName.toLowerCase())?0===s?i.setEndBefore(a):i.setEndAfter(a):i.setEnd(a,s),i}(t.range);var n=p(t.range,t.forward);n&&(t.range=n)})),e.on("AfterSetSelectionRange",(function(t){var n,i=t.range;h(i)||"mcepastebin"===i.startContainer.parentNode.id||g(),n=i.startContainer.parentNode,e.dom.hasClass(n,"mce-offscreen-selection")||m()})),e.on("copy",(function(t){var n,i=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!de.ie){var r=(n=e.dom.get(s))?n.getElementsByTagName("*")[0]:n;r&&(t.preventDefault(),i.clearData(),i.setData("text/html",r.outerHTML),i.setData("text/plain",r.outerText))}})),function(e){var t;Km(e),(t=e).on("drop",(function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(qm(n)||qm(t.dom.getContentEditableParent(n)))&&e.preventDefault()}))}(e),function(e){var t=Bo((function(){if(!e.removed&&e.selection.getRng().collapsed){var t=oh(e,e.selection.getRng(),!1);e.selection.setRng(t)}}),0);e.on("focus",(function(){t.throttle()})),e.on("blur",(function(){t.cancel()}))}(e)}(),i=".mce-content-body",(n=e.contentStyles).push(a.getCss()),n.push(i+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+i+" *[contentEditable=false] {cursor: default;}"+i+" *[contentEditable=true] {cursor: text;}")),{showCaret:c,showBlockCaretContainer:function(t){t.hasAttribute("data-mce-caret")&&(Ea(t),l(u()),e.selection.scrollIntoView(t[0]))},hideFakeCaret:g,destroy:function(){a.destroy(),t=null}}},eg=function(e){for(var t=e;/<!--|--!?>/g.test(t);)t=t.replace(/<!--|--!?>/g,"");return t},tg=function(e,t,n){var i,r,o,a,s=1;for(a=e.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(t);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i},ng=function(e,t){var n=e.exec(t);if(n){var i=n[1],r=n[2];return"string"==typeof i&&"data-mce-bogus"===i.toLowerCase()?r:null}return null};function ig(e,t){void 0===t&&(t=lo());var n=function(){};!1!==(e=e||{}).fix_self_closing&&(e.fix_self_closing=!0);var i=e.comment?e.comment:n,r=e.cdata?e.cdata:n,o=e.text?e.text:n,a=e.start?e.start:n,s=e.end?e.end:n,l=e.pi?e.pi:n,u=e.doctype?e.doctype:n;return{parse:function(n){var c,d,f,h,p,m,g,v,y,b,_,w,S,E,C,x,T,I,k,O,A,D,P,N,R,L,F,M,B,V=0,$=[],j=0,U=Zr.decode,z=Yt.makeMap("src,href,data,background,formaction,poster,xlink:href"),q=/((java|vb)script|mhtml):/i,H=function(e){var t,n;for(t=$.length;t--&&$[t].name!==e;);if(0<=t){for(n=$.length-1;t<=n;n--)(e=$[n]).valid&&s(e.name);$.length=t}},G=function(t,n,i,r,o){var a,s,l,u,c;if(i=(n=n.toLowerCase())in _?n:U(i||r||o||""),S&&!v&&0==(0===(l=n).indexOf("data-")||0===l.indexOf("aria-"))){if(!(a=I[n])&&k){for(s=k.length;s--&&!(a=k[s]).pattern.test(n););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(i in a.validValues))return}if(z[n]&&!e.allow_script_urls){var d=i.replace(/[\s\u0000-\u001F]+/g,"");try{d=decodeURIComponent(d)}catch(e){d=unescape(d)}if(q.test(d))return;if(c=d,!(u=e).allow_html_data_urls&&(/^data:image\//i.test(c)?!1===u.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(c):/^data:/i.test(c)))return}v&&(n in z||0===n.indexOf("on"))||(h.map[n]=i,h.push({name:n,value:i}))};for(R=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),L=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,b=t.getShortEndedElements(),N=e.self_closing_elements||t.getSelfClosingElements(),_=t.getBoolAttrs(),S=e.validate,y=e.remove_internals,B=e.fix_self_closing,F=t.getSpecialElements(),P=n+">";c=R.exec(P);){if(V<c.index&&o(U(n.substr(V,c.index-V))),d=c[6])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),H(d);else if(d=c[7]){if(c.index+c[0].length>n.length){o(U(n.substr(c.index))),V=c.index+c[0].length;continue}":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),w=d in b,B&&N[d]&&0<$.length&&$[$.length-1].name===d&&H(d);var W=ng(L,c[8]);if(null!==W){if("all"===W){V=tg(t,n,R.lastIndex),R.lastIndex=V;continue}C=!1}if(!S||(E=t.getElementRule(d))){if(C=!0,S&&(I=E.attributes,k=E.attributePatterns),(T=c[8])?((v=-1!==T.indexOf("data-mce-type"))&&y&&(C=!1),(h=[]).map={},T.replace(L,G)):(h=[]).map={},S&&!v){if(O=E.attributesRequired,A=E.attributesDefault,D=E.attributesForced,E.removeEmptyAttrs&&!h.length&&(C=!1),D)for(p=D.length;p--;)g=(x=D[p]).name,"{$uid}"===(M=x.value)&&(M="mce_"+j++),h.map[g]=M,h.push({name:g,value:M});if(A)for(p=A.length;p--;)(g=(x=A[p]).name)in h.map||("{$uid}"===(M=x.value)&&(M="mce_"+j++),h.map[g]=M,h.push({name:g,value:M}));if(O){for(p=O.length;p--&&!(O[p]in h.map););-1===p&&(C=!1)}if(x=h.map["data-mce-bogus"]){if("all"===x){V=tg(t,n,R.lastIndex),R.lastIndex=V;continue}C=!1}}C&&a(d,h,w)}else C=!1;if(f=F[d]){f.lastIndex=V=c.index+c[0].length,(c=f.exec(n))?(C&&(m=n.substr(V,c.index-V)),V=c.index+c[0].length):(m=n.substr(V),V=n.length),C&&(0<m.length&&o(m,!0),s(d)),R.lastIndex=V;continue}w||(T&&T.indexOf("/")===T.length-1?C&&s(d):$.push({name:d,valid:C}))}else(d=c[1])?(">"===d.charAt(0)&&(d=" "+d),e.allow_conditional_comments||"[if"!==d.substr(0,3).toLowerCase()||(d=" "+d),i(d)):(d=c[2])?r(eg(d)):(d=c[3])?u(d):(d=c[4])&&l(d,c[5]);V=c.index+c[0].length}for(V<n.length&&o(U(n.substr(V))),p=$.length-1;0<=p;p--)(d=$[p]).valid&&s(d.name)}}}(ig||(ig={})).findEndTag=tg;var rg=ig,og=function(e,t){var n,i,r,o,a,s,l,u,c=t,d=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,f=e.schema;for(s=e.getTempAttrs(),l=c,u=new RegExp(["\\s?("+s.join("|")+')="[^"]+"'].join("|"),"gi"),c=l.replace(u,""),a=f.getShortEndedElements();o=d.exec(c);)i=d.lastIndex,r=o[0].length,n=a[o[1]]?i:rg.findEndTag(f,c,i),c=c.substring(0,i-r)+c.substring(n),d.lastIndex=i-r;return fa(c)},ag=og,sg=og,lg=function(e){return Mr.isElement(e)?e.outerHTML:Mr.isText(e)?Zr.encodeRaw(e.data,!1):Mr.isComment(e)?"\x3c!--"+e.data+"--\x3e":""},ug=function(t,n){var i,r,o;return i=function(e,t){var n=e.length+t.length+2,i=new Array(n),r=new Array(n),o=function(n,i,r,a,l){var u=s(n,i,r,a);if(null===u||u.start===i&&u.diag===i-a||u.end===n&&u.diag===n-r)for(var c=n,d=r;c<i||d<a;)c<i&&d<a&&e[c]===t[d]?(l.push([0,e[c]]),++c,++d):a-r<i-n?(l.push([2,e[c]]),++c):(l.push([1,t[d]]),++d);else{o(n,u.start,r,u.start-u.diag,l);for(var f=u.start;f<u.end;++f)l.push([0,e[f]]);o(u.end,i,u.end-u.diag,a,l)}},a=function(n,i,r,o){for(var a=n;a-i<o&&a<r&&e[a]===t[a-i];)++a;return{start:n,end:a,diag:i}},s=function(n,o,s,l){var u=o-n,c=l-s;if(0===u||0===c)return null;var d,f,h,p,m,g=u-c,v=c+u,y=(v%2==0?v:v+1)/2;for(i[1+y]=n,r[1+y]=o+1,d=0;d<=y;++d){for(f=-d;f<=d;f+=2){for(h=f+y,f===-d||f!==d&&i[h-1]<i[h+1]?i[h]=i[h+1]:i[h]=i[h-1]+1,m=(p=i[h])-n+s-f;p<o&&m<l&&e[p]===t[m];)i[h]=++p,++m;if(g%2!=0&&g-d<=f&&f<=g+d&&r[h-g]<=i[h])return a(r[h-g],f+n-s,o,l)}for(f=g-d;f<=g+d;f+=2){for(h=f+y-g,f===g-d||f!==g+d&&r[h+1]<=r[h-1]?r[h]=r[h+1]-1:r[h]=r[h-1],m=(p=r[h]-1)-n+s-f;n<=p&&s<=m&&e[p]===t[m];)r[h]=p--,m--;if(g%2==0&&-d<=f&&f<=d&&r[h]<=i[h+g])return a(r[h],f+n-s,o,l)}}},l=[];return o(0,e.length,0,t.length,l),l}(z(te(n.childNodes),lg),t),r=n,o=0,q(i,(function(t){0===t[0]?o++:1===t[0]?(function(t,n,i){var r=function(t){var n,i,r;for(r=e.document.createElement("div"),n=e.document.createDocumentFragment(),t&&(r.innerHTML=t);i=r.firstChild;)n.appendChild(i);return n}(n);if(t.hasChildNodes()&&i<t.childNodes.length){var o=t.childNodes[i];o.parentNode.insertBefore(r,o)}else t.appendChild(r)}(r,t[1],o),o++):2===t[0]&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(r,o)})),n},cg=Vo(k.none()),dg=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},fg=function(t){var n=ai("body",cg.get().getOrThunk((function(){var t=e.document.implementation.createHTMLDocument("undo");return cg.set(k.some(t)),t})));return ua(n,dg(t)),q(Ho(n,"*[data-mce-bogus]"),Mo),n.dom().innerHTML},hg=function(e){var t,n,i;return t=function(e){return G(z(te(e.childNodes),lg),(function(e){return 0<e.length}))}(e.getBody()),-1!==(n=(i=X(t,(function(t){var n=sg(e.serializer,t);return 0<n.length?[n]:[]}))).join("")).indexOf("</iframe>")?function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}(i):function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}(n)},pg=function(e,t,n){"fragmented"===t.type?ug(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},mg=function(e,t){return!(!e||!t)&&(i=t,dg(e)===dg(i)||(n=t,fg(e)===fg(n)));var n,i};function gg(e){var t,n,i=this,r=0,o=[],a=0,s=function(){return 0===a},l=function(e){s()&&(i.typing=e)},u=function(t){e.setDirty(t)},c=function(e){l(!1),i.add({},e)},d=function(){i.typing&&(l(!1),i.add())};return e.on("init",(function(){i.add()})),e.on("BeforeExecCommand",(function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(d(),i.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&c(e)})),e.on("ObjectResizeStart Cut",(function(){i.beforeChange()})),e.on("SaveContent ObjectResized blur",c),e.on("DragEnd",c),e.on("KeyUp",(function(t){var r=t.keyCode;t.isDefaultPrevented()||((33<=r&&r<=36||37<=r&&r<=40||45===r||t.ctrlKey)&&(c(),e.nodeChanged()),46!==r&&8!==r||e.nodeChanged(),n&&i.typing&&!1===mg(hg(e),o[0])&&(!1===e.isDirty()&&(u(!0),e.fire("change",{level:o[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))})),e.on("KeyDown",(function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(33<=t&&t<=36||37<=t&&t<=40||45===t)i.typing&&c(e);else{var r=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224===t||91===t||i.typing||r||(i.beforeChange(),l(!0),i.add({},e),n=!0)}})),e.on("MouseDown",(function(e){i.typing&&c(e)})),e.on("input",(function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data)&&c(e)})),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()})),i={data:o,typing:!1,beforeChange:function(){s()&&(t=Ls.getUndoBookmark(e.selection))},add:function(n,i){var a,l,c,d=e.settings;if(c=hg(e),n=n||{},n=Yt.extend(n,c),!1===s()||e.removed)return null;if(l=o[r],e.fire("BeforeAddUndo",{level:n,lastLevel:l,originalEvent:i}).isDefaultPrevented())return null;if(l&&mg(l,n))return null;if(o[r]&&(o[r].beforeBookmark=t),d.custom_undo_redo_levels&&o.length>d.custom_undo_redo_levels){for(a=0;a<o.length-1;a++)o[a]=o[a+1];o.length--,r=o.length}n.bookmark=Ls.getUndoBookmark(e.selection),r<o.length-1&&(o.length=r+1),o.push(n),r=o.length-1;var f={level:n,lastLevel:l,originalEvent:i};return e.fire("AddUndo",f),0<r&&(u(!0),e.fire("change",f)),n},undo:function(){var t;return i.typing&&(i.add(),i.typing=!1,l(!1)),0<r&&(t=o[--r],pg(e,t,!0),u(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return r<o.length-1&&(t=o[++r],pg(e,t,!1),u(!0),e.fire("redo",{level:t})),t},clear:function(){o=[],r=0,i.typing=!1,i.data=o,e.fire("ClearUndos")},hasUndo:function(){return 0<r||i.typing&&o[0]&&!mg(hg(e),o[0])},hasRedo:function(){return r<o.length-1&&!i.typing},transact:function(e){return d(),i.beforeChange(),i.ignore(e),i.add()},ignore:function(e){try{a++,e()}finally{a--}},extra:function(t,n){var a,s;i.transact(t)&&(s=o[r].bookmark,a=o[r-1],pg(e,a,!0),i.transact(n)&&(o[r-1].beforeBookmark=s))}}}var vg,yg={},bg=zt.filter,_g=zt.each;vg=function(e){var t,n,i=e.selection.getRng();t=Mr.matchNodeNames("pre"),i.collapsed||(n=e.selection.getSelectedBlocks(),_g(bg(bg(n,t),(function(e){return t(e.previousSibling)&&-1!==zt.indexOf(n,e.previousSibling)})),(function(e){var t,n;t=e.previousSibling,pn(n=e).remove(),pn(t).append("<br><br>").append(n.childNodes)})))},yg["pre"]||(yg.pre=[]),yg.pre.push(vg);var wg=/^(src|href|style)$/,Sg=Yt.each,Eg=uu,Cg=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},xg=function(e,t,n){var i,r,o;return i=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],Mr.isElement(i)&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[o<r?o:r]),Mr.isText(i)&&n&&r>=i.nodeValue.length&&(i=new cr(i,e.getBody()).next()||i),Mr.isText(i)&&!n&&0===r&&(i=new cr(i,e.getBody()).prev()||i),i},Tg=function(e,t,n,i){var r=e.create(n,i);return t.parentNode.insertBefore(r,t),r.appendChild(t),r},Ig=function(e,t,n,i,r){var o=li(t),a=li(e.create(i,r)),s=n?qi(o):zi(o);return Ro(a,s),n?(Ao(o,a),Po(a,o)):(Do(o,a),No(a,o)),a.dom()},kg=function(e,t,n,i){return!(t=ru(t,n,i))||"BR"===t.nodeName||e.isBlock(t)},Og=function(e,t,n,i,r){var o,a,s,l,u,c,d,f,h,p,m,g,v,y,b=e.dom;if(u=b,!(Eg(c=i,(d=t).inline)||Eg(c,d.block)||(d.selector?Mr.isElement(c)&&u.is(c,d.selector):void 0)||(l=i,t.links&&"A"===l.tagName)))return!1;if("all"!==t.remove)for(Sg(t.styles,(function(e,o){e=cu(b,lu(e,n),o),"number"==typeof o&&(o=e,r=0),(t.remove_similar||!r||Eg(du(b,r,o),e))&&b.setStyle(i,o,""),s=1})),s&&""===b.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),Sg(t.attributes,(function(e,t){var o;if(e=lu(e,n),"number"==typeof t&&(t=e,r=0),!r||Eg(b.getAttrib(r,t),e)){if("class"===t&&(e=b.getAttrib(i,t))&&(o="",Sg(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)})),o))return void b.setAttrib(i,t,o);"class"===t&&i.removeAttribute("className"),wg.test(t)&&i.removeAttribute("data-mce-"+t),i.removeAttribute(t)}})),Sg(t.classes,(function(e){e=lu(e,n),r&&!b.hasClass(r,e)||b.removeClass(i,e)})),a=b.getAttribs(i),o=0;o<a.length;o++){var _=a[o].nodeName;if(0!==_.indexOf("_")&&0!==_.indexOf("data-"))return!1}return"none"!==t.remove?(f=e,p=t,g=(h=i).parentNode,v=f.dom,y=f.settings.forced_root_block,p.block&&(y?g===v.getRoot()&&(p.list_block&&Eg(h,p.list_block)||Sg(Yt.grep(h.childNodes),(function(e){au(f,y,e.nodeName.toLowerCase())?m?m.appendChild(e):(m=Tg(v,e,y),v.setAttribs(m,f.settings.forced_root_block_attrs)):m=0}))):v.isBlock(h)&&!v.isBlock(g)&&(kg(v,h,!1)||kg(v,h.firstChild,!0,1)||h.insertBefore(v.create("br"),h.firstChild),kg(v,h,!0)||kg(v,h.lastChild,!1,1)||h.appendChild(v.create("br")))),p.selector&&p.inline&&!Eg(p.inline,h)||v.remove(h,1),!0):void 0},Ag=Og,Dg=function(e,t,n,i,r){var o,a,s=e.formatter.get(t),l=s[0],u=!0,c=e.dom,d=e.selection,f=function(i){var o,a,u,c,d,f,h=(a=i,u=t,c=n,d=r,Sg(hu((o=e).dom,a.parentNode).reverse(),(function(e){var t;f||"_start"===e.id||"_end"===e.id||(t=Mf.matchNode(o,e,u,c,d))&&!1!==t.split&&(f=e)})),f);return function(e,t,n,i,r,o,a,s){var l,u,c,d,f,h,p=e.dom;if(n){for(h=n.parentNode,l=i.parentNode;l&&l!==h;l=l.parentNode){for(u=p.clone(l,!1),f=0;f<t.length;f++)if(Og(e,t[f],s,u,u)){u=0;break}u&&(c&&u.appendChild(c),d||(d=u),c=u)}a.mixed&&p.isBlock(n)||(i=p.split(n,i)),c&&(r.parentNode.insertBefore(c,r),d.appendChild(r))}return i}(e,s,h,i,i,0,l,n)},h=function(t){var i,r,o,a,d;if(Mr.isElement(t)&&c.getContentEditable(t)&&(a=u,u="true"===c.getContentEditable(t),d=!0),i=Yt.grep(t.childNodes),u&&!d)for(r=0,o=s.length;r<o&&!Og(e,s[r],n,t,t);r++);if(l.deep&&i.length){for(r=0,o=i.length;r<o;r++)h(i[r]);d&&(u=a)}},p=function(e){var t,n=c.get(e?"_start":"_end"),i=n[e?"firstChild":"lastChild"];return Jl(t=i)&&Mr.isElement(t)&&("_start"===t.id||"_end"===t.id)&&(i=i[e?"firstChild":"lastChild"]),Mr.isText(i)&&0===i.data.length&&(i=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),c.remove(n,!0),i},m=function(t){var n,i,r=t.commonAncestorContainer;if(t=xu(e,t,s,!0),l.split){if(t=Vf(t),(n=xg(e,t,!0))!==(i=xg(e,t))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&/^(TH|TD)$/.test(i.nodeName)&&i.firstChild&&(i=i.firstChild||i),Cg(c,n,i)){var o=k.from(n.firstChild).getOr(n);return f(Ig(c,o,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0)}if(Cg(c,i,n))return o=k.from(i.lastChild).getOr(i),f(Ig(c,o,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1);n=Tg(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=Tg(c,i,"span",{id:"_end","data-mce-type":"bookmark"}),f(n),f(i),n=p(!0),i=p()}else n=i=f(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=c.nodeIndex(n),t.endContainer=i.parentNode?i.parentNode:i,t.endOffset=c.nodeIndex(i)+1}Iu(c,t,(function(t){Sg(t,(function(t){h(t),Mr.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===fu(c,t.parentNode)&&Og(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)}))}))};if(i)i.nodeType?((a=c.createRng()).setStartBefore(i),a.setEndAfter(i),m(a)):m(i);else if("false"!==c.getContentEditable(d.getNode()))d.isCollapsed()&&l.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?function(e,t,n,i){var r,o,a,s,l,u,c,d=e.dom,f=e.selection,h=[],p=f.getRng();for(r=p.startContainer,o=p.startOffset,3===(l=r).nodeType&&(o!==r.nodeValue.length&&(s=!0),l=l.parentNode);l;){if(Mf.matchNode(e,l,t,n,i)){u=l;break}l.nextSibling&&(s=!0),h.push(l),l=l.parentNode}if(u)if(s){a=f.getBookmark(),p.collapse(!0);var m=xu(e,p,e.formatter.get(t),!0);m=Vf(m),e.formatter.remove(t,n,m),f.moveToBookmark(a)}else{c=Bs(e.getBody(),u);var g=qf(!1).dom(),v=Kf(h,g);Wf(e,g,c||u),Hf(e,c,!1),f.setCursorLocation(v,1),d.isEmpty(u)&&d.remove(u)}}(e,t,n,r):(o=Ls.getPersistentBookmark(e.selection,!0),m(d.getRng()),d.moveToBookmark(o),l.inline&&Mf.match(e,t,n,d.getStart())&&iu(c,d,d.getRng()),e.nodeChanged());else{i=d.getNode();for(var g=0,v=s.length;g<v&&(!s[g].ceFalseOverride||!Og(e,s[g],n,i,i));g++);}},Pg=Yt.each,Ng=function(e){return e&&1===e.nodeType&&!Jl(e)&&!Ms(e)&&!Mr.isBogus(e)},Rg=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!Jl(n))return n}return e},Lg=function(e,t,n){var i,r,o=new Bu(e);if(t&&n&&(t=Rg(t,"previousSibling"),n=Rg(n,"nextSibling"),o.compare(t,n))){for(i=t.nextSibling;i&&i!==n;)i=(r=i).nextSibling,t.appendChild(r);return e.remove(n),Yt.each(Yt.grep(n.childNodes),(function(e){t.appendChild(e)})),t}return n},Fg=function(e,t,n){Pg(e.childNodes,(function(e){Ng(e)&&(t(e)&&n(e),e.hasChildNodes()&&Fg(e,t,n))}))},Mg=function(e,t){return o((function(t,n){return!(!n||!du(e,n,t))}),t)},Bg=function(e,t,n){return o((function(t,n,i){e.setStyle(i,t,n),""===i.getAttribute("style")&&i.removeAttribute("style"),Vg(e,i)}),t,n)},Vg=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},$g=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=fu(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},jg=Yt.each,Ug=function(e,t,n,i){var r,a,s=e.formatter.get(t),l=s[0],u=!i&&e.selection.isCollapsed(),c=e.dom,d=e.selection,f=function(e,t){if(t=t||l,e){if(t.onformat&&t.onformat(e,t,n,i),jg(t.styles,(function(t,i){c.setStyle(e,i,lu(t,n))})),t.styles){var r=c.getAttrib(e,"style");r&&e.setAttribute("data-mce-style",r)}jg(t.attributes,(function(t,i){c.setAttrib(e,i,lu(t,n))})),jg(t.classes,(function(t){t=lu(t,n),c.hasClass(e,t)||c.addClass(e,t)}))}},h=function(e,t){var n=!1;return!!l.selector&&(jg(e,(function(e){if(!("collapsed"in e)||e.collapsed===u)return c.is(t,e.selector)&&!Ms(t)?(f(t,e),!(n=!0)):void 0})),n)},p=function(i,r,o,a){var u,c,d=[],p=!0;u=l.inline||l.block,c=i.create(u),f(c),Iu(i,r,(function(r){var o,m=function(r){var g,v,y,b;if(b=p,g=r.nodeName.toLowerCase(),v=r.parentNode.nodeName.toLowerCase(),1===r.nodeType&&i.getContentEditable(r)&&(b=p,p="true"===i.getContentEditable(r),y=!0),uu(g,"br"))return o=0,void(l.block&&i.remove(r));if(l.wrapper&&Mf.matchNode(e,r,t,n))o=0;else{if(p&&!y&&l.block&&!l.wrapper&&ou(e,g)&&au(e,v,u))return r=i.rename(r,u),f(r),d.push(r),void(o=0);if(l.selector){var _=h(s,r);if(!l.inline||_)return void(o=0)}!p||y||!au(e,u,g)||!au(e,v,u)||!a&&3===r.nodeType&&1===r.nodeValue.length&&65279===r.nodeValue.charCodeAt(0)||Ms(r)||l.inline&&i.isBlock(r)?(o=0,jg(Yt.grep(r.childNodes),m),y&&(p=b),o=0):(o||(o=i.clone(c,!1),r.parentNode.insertBefore(o,r),d.push(o)),o.appendChild(r))}};jg(r,m)})),!0===l.links&&jg(d,(function(e){var t=function(e){"A"===e.nodeName&&f(e,l),jg(Yt.grep(e.childNodes),t)};t(e)})),jg(d,(function(r){var o,a,u,c,h;a=0,jg(r.childNodes,(function(e){su(e)||Jl(e)||a++})),o=a,!(1<d.length)&&i.isBlock(r)||0!==o?(l.inline||l.wrapper)&&(l.exact||1!==o||((c=function(e){var t=!1;return jg(e.childNodes,(function(e){if((n=e)&&1===n.nodeType&&!Jl(n)&&!Ms(n)&&!Mr.isBogus(n))return t=e,!1;var n})),t}(u=r))&&!Jl(c)&&Mf.matchName(i,c,l)&&(h=i.clone(c,!1),f(h),i.replace(h,u,!0),i.remove(c,1)),r=h||u),function(e,t,n,i){Pg(t,(function(t){Pg(e.dom.select(t.inline,i),(function(i){Ng(i)&&Ag(e,t,n,i,t.exact?i:null)})),function(e,t,n){if(t.clear_child_styles){var i=t.links?"*:not(a)":"*";Pg(e.select(i,n),(function(n){Ng(n)&&Pg(t.styles,(function(t,i){e.setStyle(n,i,"")}))}))}}(e.dom,t,i)}))}(e,s,n,r),function(e,t,n,i,r){Mf.matchNode(e,r.parentNode,n,i)&&Ag(e,t,i,r)||t.merge_with_parents&&e.dom.getParent(r.parentNode,(function(o){if(Mf.matchNode(e,o,n,i))return Ag(e,t,i,r),!0}))}(e,l,t,n,r),function(e,t,n,i){t.styles&&t.styles.backgroundColor&&Fg(i,Mg(e,"fontSize"),Bg(e,"backgroundColor",lu(t.styles.backgroundColor,n)))}(i,l,n,r),function(e,t,n,i){"sub"!==t.inline&&"sup"!==t.inline||(Fg(i,Mg(e,"fontSize"),Bg(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",i),!0))}(i,l,0,r),function(e,t,n,i){i&&!1!==t.merge_siblings&&(i=Lg(e,ru(i),i),i=Lg(e,i,ru(i,!0)))}(i,l,0,r)):i.remove(r,1)}))};if("false"!==c.getContentEditable(d.getNode())){if(l){if(i)i.nodeType?h(s,i)||((a=c.createRng()).setStartBefore(i),a.setEndAfter(i),p(c,xu(e,a,s),0,!0)):p(c,i,0,!0);else if(u&&l.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length)!function(e,t,n){var i,r,o,a,s,l,u=e.selection;a=(i=u.getRng(!0)).startOffset,l=i.startContainer.nodeValue,(r=Bs(e.getBody(),u.getStart()))&&(o=zf(r));var c,d,f=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&0<a&&a<l.length&&f.test(l.charAt(a))&&f.test(l.charAt(a-1))?(s=u.getBookmark(),i.collapse(!0),i=xu(e,i,e.formatter.get(t)),i=Vf(i),e.formatter.apply(t,n,i),u.moveToBookmark(s)):(r&&o.nodeValue===$f||(c=e.getDoc(),d=qf(!0).dom(),o=(r=c.importNode(d,!0)).firstChild,i.insertNode(r),a=1),e.formatter.apply(t,n,r),u.setCursorLocation(o,a))}(e,t,n);else{var m=e.selection.getNode();e.settings.forced_root_block||!s[0].defaultBlock||c.getParent(m,c.isBlock)||Ug(e,s[0].defaultBlock),e.selection.setRng(qu(e.selection.getRng())),r=Ls.getPersistentBookmark(e.selection,!0),p(c,xu(e,d.getRng(),s)),l.styles&&function(e,t,n,i){(t.styles.color||t.styles.textDecoration)&&(Yt.walk(i,o($g,e),"childNodes"),$g(e,i))}(c,l,0,m),d.moveToBookmark(r),iu(c,d,d.getRng()),e.nodeChanged()}!function(e,t){_g(yg[e],(function(e){e(t)}))}(t,e)}}else{i=d.getNode();for(var g=0,v=s.length;g<v;g++)if(s[g].ceFalseOverride&&c.is(i,s[g].selector))return void f(i,s[g])}},zg={applyFormat:Ug},qg=Yt.each,Hg=function(e,t,n,i,r){var o,a,s,l,u,c,d,f;null===t.get()&&(a=e,s={},(o=t).set({}),a.on("NodeChange",(function(e){var t=hu(a.dom,e.element),n={};t=Yt.grep(t,(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")})),qg(o.get(),(function(e,i){qg(t,(function(r){return a.formatter.matchNode(r,i,{},e.similar)?(s[i]||(qg(e,(function(e){e(!0,{node:r,format:i,parents:t})})),s[i]=e),n[i]=e,!1):!Mf.matchesUnInheritedFormatSelector(a,r,i)&&void 0}))})),qg(s,(function(i,r){n[r]||(delete s[r],qg(i,(function(n){n(!1,{node:e.element,format:r,parents:t})})))}))}))),u=n,c=i,d=r,f=(l=t).get(),qg(u.split(","),(function(e){f[e]||(f[e]=[],f[e].similar=d),f[e].push(c)})),l.set(f)},Gg=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,i){Yt.each(i,(function(n,i){e.setAttrib(t,i,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Yt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}})),t},Wg=Yt.each,Yg=wo.DOM,Kg=function(e,t){var n,i,r,o=t&&t.schema||lo({}),a=function(e){var t,n,r;return i="string"==typeof e?{name:e,classes:[],attrs:{}}:e,n=t=Yg.create(i.name),(r=i).classes.length&&Yg.addClass(n,r.classes.join(" ")),Yg.setAttribs(n,r.attrs),t},s=function(e,t,n){var i,r,l,u,c,d,f,h,p=0<t.length&&t[0],m=p&&p.name;if(c=m,d="string"!=typeof(u=e)?u.nodeName.toLowerCase():u,l=!(!(h=(f=o.getElementRule(d))&&f.parentsRequired)||!h.length)&&(c&&-1!==Yt.inArray(h,c)?c:h[0]))m===l?(r=t[0],t=t.slice(1)):r=l;else if(p)r=t[0],t=t.slice(1);else if(!n)return e;return r&&(i=a(r)).appendChild(e),n&&(i||(i=Yg.create("div")).appendChild(e),Yt.each(n,(function(t){var n=a(t);i.insertBefore(n,e)}))),s(i,t,r&&r.siblings)};return e&&e.length?(i=e[0],n=a(i),(r=Yg.create("div")).appendChild(s(n,e.slice(1),i.siblings)),r):""},Xg=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=Yt.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,i,r,o){switch(t){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==Yt.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===r){var a=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=t||"div",n},Zg=function(e,t){var n,i,r,o,a,s,l="";if(!1===(s=e.settings.preview_styles))return"";"string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var u=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(s=t.preview)?"":(n=t.block||t.inline||"span",(o=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Yt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=Yt.map(e.split(/(?:~\+|~|\+)/),Xg),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]}(t.selector)).length?(o[0].name||(o[0].name=n),n=t.selector,i=Kg(o,e)):i=Kg([n],e),r=Yg.select(n,i)[0]||i.firstChild,Wg(t.styles,(function(e,t){(e=u(e))&&Yg.setStyle(r,t,e)})),Wg(t.attributes,(function(e,t){(e=u(e))&&Yg.setAttrib(r,t,e)})),Wg(t.classes,(function(e){e=u(e),Yg.hasClass(r,e)||Yg.addClass(r,e)})),e.fire("PreviewFormats"),Yg.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),a=Yg.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,Wg(s.split(" "),(function(t){var n=Yg.getStyle(r,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=Yg.getStyle(e.getBody(),t,!0),"#ffffff"===Yg.toHex(n).toLowerCase())||"color"===t&&"#000000"===Yg.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*a+"px"}"border"===t&&n&&(l+="padding:0 2px;"),l+=t+":"+n+";"}})),e.fire("AfterPreviewFormats"),Yg.remove(i),l)},Qg=function(e,t,n,i,r){var o=t.get(n);!Mf.match(e,n,i,r)||"toggle"in o[0]&&!o[0].toggle?zg.applyFormat(e,n,i,r):Dg(e,n,i,r)};function Jg(e){var t,n,i,r=(n={},(i=function(e,t){e&&("string"!=typeof e?Yt.each(e,(function(e,t){i(t,e)})):(t=t.length?t:[t],Yt.each(t,(function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))})),n[e]=t))})(Gg((t=e).dom)),i(t.settings.formats),{get:function(e){return e?n[e]:n},register:i,unregister:function(e){return e&&n[e]&&delete n[e],n}}),a=Vo(null);return function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}(e),function(e){e.on("mouseup keydown",(function(t){var n,i,r,o;n=e,i=t.keyCode,r=n.selection,o=n.getBody(),Gf(n,null,!1),8!==i&&46!==i||!r.isCollapsed()||r.getStart().innerHTML!==$f||Gf(n,Bs(o,r.getStart())),37!==i&&39!==i||Gf(n,Bs(o,r.getStart()))}))}(e),{get:r.get,register:r.register,unregister:r.unregister,apply:o(zg.applyFormat,e),remove:o(Dg,e),toggle:o(Qg,e,r),match:o(Mf.match,e),matchAll:o(Mf.matchAll,e),matchNode:o(Mf.matchNode,e),canApply:o(Mf.canApply,e),formatChanged:o(Hg,e,a),getCssText:o(Zg,e)}}var ev,tv=Object.prototype.hasOwnProperty,nv=(ev=function(e,t){return t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},i=0;i<e.length;i++){var r=e[i];for(var o in r)tv.call(r,o)&&(n[o]=ev(n[o],r[o]))}return n}),iv=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)})),e.addAttributeFilter("src,href,style",(function(e,i){for(var r,o,a=e.length,s="data-mce-"+i,l=t.url_converter,u=t.url_converter_scope;a--;)void 0!==(o=(r=e[a]).attributes.map[s])?(r.attr(i,0<o.length?o:null),r.attr(s,null)):(o=r.attributes.map[i],"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):l&&(o=l.call(u,o,i,r.name)),r.attr(i,0<o.length?o:null))})),e.addAttributeFilter("class",(function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))})),e.addAttributeFilter("data-mce-type",(function(e,t,n){for(var i,r=e.length;r--;)"bookmark"!==(i=e[r]).attributes.map["data-mce-type"]||n.cleanup||(k.from(i.firstChild).exists((function(e){return!ca(e.value)}))?i.unwrap():i.remove())})),e.addNodeFilter("noscript",(function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=Zr.decode(t.value))})),e.addNodeFilter("script,style",(function(e,n){for(var i,r,o,a=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=(i=e[a]).firstChild?i.firstChild.value:"","script"===n?((o=i.attr("type"))&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===t.element_format&&0<r.length&&(i.firstChild.value="// <![CDATA[\n"+s(r)+"\n// ]]>")):"xhtml"===t.element_format&&0<r.length&&(i.firstChild.value="\x3c!--\n"+s(r)+"\n--\x3e")})),e.addNodeFilter("#comment",(function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))})),e.addNodeFilter("xml:namespace,input",(function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))})),e.addAttributeFilter("data-mce-type",(function(t){q(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))},rv=function(e){var t,n,i=function(e){return e&&"br"===e.name};i(t=e.lastChild)&&i(n=t.prev)&&(t.remove(),n.remove())},ov=function(t,n,i){return f=i,(d=t)&&d.hasEventListeners("PreProcess")&&!f.no_events?(o=n,a=i,c=(r=t).dom,o=o.cloneNode(!0),(s=e.document.implementation).createHTMLDocument&&(l=s.createHTMLDocument(""),Yt.each("BODY"===o.nodeName?o.childNodes:[o],(function(e){l.body.appendChild(l.importNode(e,!0))})),o="BODY"!==o.nodeName?l.body.firstChild:l.body,u=c.doc,c.doc=l),function(e,t){e.fire("PreProcess",t)}(r,nv(a,{node:o})),u&&(c.doc=u),o):n;var r,o,a,s,l,u,c,d,f},av=function(e,t){var n,i=co();t.convert_fonts_to_spans&&function(e,t,n){e.addNodeFilter("font",(function(e){q(e,(function(e){var i,r=t.parse(e.attr("style")),o=e.attr("color"),a=e.attr("face"),s=e.attr("size");o&&(r.color=o),a&&(r["font-family"]=a),s&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),i=e,q(["color","face","size"],(function(e){i.attr(e,null)}))}))}))}(e,i,Yt.explode(t.font_size_legacy_values)),n=i,e.addNodeFilter("strike",(function(e){q(e,(function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}))}))},sv={register:function(e,t){t.inline_styles&&av(e,t)}},lv=/^[ \t\r\n]*$/,uv={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},cv=function(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}},dv=function(){function e(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var i,r;if(i=new e(t,uv[t]||1),n)for(r in n)i.attr(r,n[r]);return i},e.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},e.prototype.attr=function(e,t){var n,i;if("string"!=typeof e){for(i in e)this.attr(i,e[i]);return this}if(n=this.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),this;return this}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}return n.map[e]}},e.prototype.clone=function(){var t,n,i,r,o,a=new e(this.name,this.type);if(i=this.attributes){for((o=[]).map={},t=0,n=i.length;t<n;t++)"id"!==(r=i[t]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);a.attributes=o}return a.value=this.value,a.shortEnded=this.shortEnded,a},e.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},e.prototype.unwrap=function(){var e,t;for(e=this.firstChild;e;)t=e.next,this.insert(e,this,!0),e=t;this.remove()},e.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},e.prototype.append=function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},e.prototype.insert=function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=i,e},e.prototype.getAll=function(e){var t,n=[];for(t=this.firstChild;t;t=cv(t,this))t.name===e&&n.push(t);return n},e.prototype.empty=function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=cv(n,this))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},e.prototype.isEmpty=function(e,t,n){var i,r,o=this.firstChild;if(t=t||{},o)do{if(1===o.type){if(o.attributes.map["data-mce-bogus"])continue;if(e[o.name])return!1;for(i=o.attributes.length;i--;)if("name"===(r=o.attributes[i].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===o.type)return!1;if(3===o.type&&!lv.test(o.value))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&lv.test(o.value))return!1;if(n&&n(o))return!1}while(o=cv(o,this));return!0},e.prototype.walk=function(e){return cv(this,null,e)},e}(),fv=function(e,t,n,i){(e.padd_empty_with_br||t.insert)&&n[i.name]?i.empty().append(new dv("br",1)).shortEnded=!0:i.empty().append(new dv("#text",3)).value=" "},hv=function(e){return pv(e,"#text")&&" "===e.firstChild.value},pv=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},mv=function(e,t,n,i){return i.isEmpty(t,n,(function(t){return n=t,(i=e.getElementRule(n.name))&&i.paddEmpty;var n,i}))},gv=function(e,t){return e&&(t[e.name]||"br"===e.name)},vv=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,i,r){var o,a,s,l,u,c,d,f,h=e.length,p=Yt.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(p.body=1,o=0;o<h;o++)if(s=(a=e[o]).parent,p[a.parent.name]&&a===s.lastChild){for(u=a.prev;u;){if("span"!==(c=u.name)||"bookmark"!==u.attr("data-mce-type")){if("br"!==c)break;if("br"===c){a=null;break}}u=u.prev}a&&(a.remove(),mv(n,m,g,s)&&(d=n.getElementRule(s.name))&&(d.removeEmpty?s.remove():d.paddEmpty&&fv(t,r,p,s)))}else{for(l=a;s&&s.firstChild===l&&s.lastChild===l&&!p[(l=s).name];)s=s.parent;l===s&&!0!==t.padd_empty_with_br&&((f=new dv("#text",3)).value=" ",a.replace(f))}})),e.addAttributeFilter("href",(function(e){var n,i,r,o=e.length;if(!t.allow_unsafe_link_target)for(;o--;)"a"===(n=e[o]).name&&"_blank"===n.attr("target")&&n.attr("rel",(r=(i=n.attr("rel"))?Yt.trim(i):"",/\b(noopener)\b/g.test(r)?r:r.split(" ").filter((function(e){return 0<e.length})).concat(["noopener"]).sort().join(" ")))})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){for(var t,n,i,r,o=e.length;o--;)if("a"===(r=e[o]).name&&r.firstChild&&!r.attr("href"))for(i=r.parent,t=r.lastChild;n=t.prev,i.insert(t,r),t=n;);})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){for(var t,n,i=e.length;i--;)if("ul"===(n=(t=e[i]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var r=new dv("li",1);r.attr("style","list-style-type: none"),t.wrap(r)}})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){for(var t,i,r,o,a,s,l,u=e.length,c=n.getValidClasses();u--;){for(i=(t=e[u]).attr("class").split(" "),a="",r=0;r<i.length;r++)o=i[r],l=!1,(s=c["*"])&&s[o]&&(l=!0),s=c[t.name],!l&&s&&s[o]&&(l=!0),l&&(a&&(a+=" "),a+=o);a.length||(a=null),t.attr("class",a)}}))},yv=Yt.makeMap,bv=Yt.each,_v=Yt.explode,wv=Yt.extend;function Sv(e,t){void 0===t&&(t=lo());var n={},i=[],r={},o={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var t,a,s;(a=e.name)in n&&((s=r[a])?s.push(e):r[a]=[e]),t=i.length;for(;t--;)(a=i[t].name)in e.attributes.map&&((s=o[a])?s.push(e):o[a]=[e]);return e},s={schema:t,addAttributeFilter:function(e,t){bv(_v(e),(function(e){var n;for(n=0;n<i.length;n++)if(i[n].name===e)return void i[n].callbacks.push(t);i.push({name:e,callbacks:[t]})}))},getAttributeFilters:function(){return[].concat(i)},addNodeFilter:function(e,t){bv(_v(e),(function(e){var i=n[e];i||(n[e]=i=[]),i.push(t)}))},getNodeFilters:function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},filterNode:a,parse:function(s,l){var u,c,d,f,h,p,m,g,v,y,b,_=[];l=l||{},r={},o={},v=wv(yv("script,style,head,html,body,title,meta,param"),t.getBlockElements());var w=t.getNonEmptyElements(),S=t.children,E=e.validate,C="forced_root_block"in l?l.forced_root_block:e.forced_root_block,x=t.getWhiteSpaceElements(),T=/^[ \t\r\n]+/,I=/[ \t\r\n]+$/,k=/[ \t\r\n]+/g,O=/^[ \t\r\n]+$/;y=x.hasOwnProperty(l.context)||x.hasOwnProperty(e.root_name);var A=function(e,t){var i,o=new dv(e,t);return e in n&&((i=r[e])?i.push(o):r[e]=[o]),o},D=function(e){var n,i,r,o,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(0<(r=n.value.replace(I,"")).length)return void(n.value=r);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!a[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}};u=rg({validate:E,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){b.append(A("#cdata",4)).value=e},text:function(e,t){var n;y||(e=e.replace(k," "),gv(b.lastChild,v)&&(e=e.replace(T,""))),0!==e.length&&((n=A("#text",3)).raw=!!t,b.append(n).value=e)},comment:function(e){b.append(A("#comment",8)).value=e},pi:function(e,t){b.append(A(e,7)).value=t,D(b)},doctype:function(e){b.append(A("#doctype",10)).value=e,D(b)},start:function(e,n,r){var a,s,l,u,c;if(l=E?t.getElementRule(e):{}){for((a=A(l.outputName||e,1)).attributes=n,a.shortEnded=r,b.append(a),(c=S[b.name])&&S[a.name]&&!c[a.name]&&_.push(a),s=i.length;s--;)(u=i[s].name)in n.map&&((m=o[u])?m.push(a):o[u]=[a]);v[e]&&D(a),r||(b=a),!y&&x[e]&&(y=!0)}},end:function(n){var i,r,o,a,s;if(r=E?t.getElementRule(n):{}){if(v[n]&&!y){if((i=b.firstChild)&&3===i.type)if(0<(o=i.value.replace(T,"")).length)i.value=o,i=i.next;else for(a=i.next,i.remove(),i=a;i&&3===i.type;)o=i.value,a=i.next,(0===o.length||O.test(o))&&(i.remove(),i=a),i=a;if((i=b.lastChild)&&3===i.type)if(0<(o=i.value.replace(I,"")).length)i.value=o,i=i.prev;else for(a=i.prev,i.remove(),i=a;i&&3===i.type;)o=i.value,a=i.prev,(0===o.length||O.test(o))&&(i.remove(),i=a),i=a}if(y&&x[n]&&(y=!1),r.removeEmpty&&mv(t,w,x,b)&&!b.attributes.map.name&&!b.attr("id"))return s=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=s);r.paddEmpty&&(hv(b)||mv(t,w,x,b))&&fv(e,l,v,b),b=b.parent}}},t);var P=b=new dv(l.context||e.root_name,11);if(u.parse(s),E&&_.length&&(l.context?l.invalid=!0:function(e){var n,i,r,o,s,l,u,c,d,f,h,p,m,g,v,y;for(p=yv("tr,td,th,tbody,thead,tfoot,table"),f=t.getNonEmptyElements(),h=t.getWhiteSpaceElements(),m=t.getTextBlockElements(),g=t.getSpecialElements(),n=0;n<e.length;n++)if((i=e[n]).parent&&!i.fixed)if(m[i.name]&&"li"===i.parent.name){for(v=i.next;v&&m[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(o=[i],r=i.parent;r&&!t.isValidChild(r.name,i.name)&&!p[r.name];r=r.parent)o.push(r);if(r&&1<o.length){for(o.reverse(),s=l=a(o[0].clone()),d=0;d<o.length-1;d++){for(t.isValidChild(l.name,o[d].name)?(u=a(o[d].clone()),l.append(u)):u=l,c=o[d].firstChild;c&&c!==o[d+1];)y=c.next,u.append(c),c=y;l=u}mv(t,f,h,s)?r.insert(i,o[0],!0):(r.insert(s,o[0],!0),r.insert(i,s)),r=o[0],(mv(t,f,h,r)||pv(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if((v=i.prev)&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if((v=i.next)&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(a(new dv("ul",1)));continue}t.isValidChild(i.parent.name,"div")&&t.isValidChild("div",i.name)?i.wrap(a(new dv("div",1))):g[i.name]?i.empty().remove():i.unwrap()}}}(_)),C&&("body"===P.name||l.isRootContent)&&function(){var n,i,r=P.firstChild,o=function(e){e&&((r=e.firstChild)&&3===r.type&&(r.value=r.value.replace(T,"")),(r=e.lastChild)&&3===r.type&&(r.value=r.value.replace(I,"")))};if(t.isValidChild(P.name,C.toLowerCase())){for(;r;)n=r.next,3===r.type||1===r.type&&"p"!==r.name&&!v[r.name]&&!r.attr("data-mce-type")?(i||((i=A(C,1)).attr(e.forced_root_block_attrs),P.insert(i,r)),i.append(r)):(o(i),i=null),r=n;o(i)}}(),!l.invalid){for(g in r){for(m=n[g],h=(c=r[g]).length;h--;)c[h].parent||c.splice(h,1);for(d=0,f=m.length;d<f;d++)m[d](c,g,l)}for(d=0,f=i.length;d<f;d++)if((m=i[d]).name in o){for(h=(c=o[m.name]).length;h--;)c[h].parent||c.splice(h,1);for(h=0,p=m.callbacks.length;h<p;h++)m.callbacks[h](c,m.name,l)}}return P}};return vv(s,e),sv.register(s,e),s}var Ev=function(e,t,n){-1===Yt.inArray(t,n)&&(e.addAttributeFilter(n,(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),t.push(n))};function Cv(e,t){var n,i,r,a,s,l,u=(n=e,l=["data-mce-selected"],r=(i=t)&&i.dom?i.dom:wo.DOM,a=i&&i.schema?i.schema:lo(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs=!("remove_trailing_brs"in n)||n.remove_trailing_brs,s=Sv(n,a),iv(s,n,r),{schema:a,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:function(e,t){var o=nv({format:"html"},t||{}),l=ov(i,e,o),u=function(e,t,n){var i=fa(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||xr(li(t))?i:Yt.trim(i)}(r,l,o),c=function(e,t,n){var i=n.selection?nv({forced_root_block:!1},n):n,r=e.parse(t,i);return rv(r),r}(s,u,o);return"tree"===o.format?c:function(e,t,n,i,r){var o,a,s,l;return a=e,o=i,l=zu(t,n).serialize(o),!(s=r).no_events&&a?function(e,t){return e.fire("PostProcess",t)}(a,nv(s,{content:l})).content:l}(i,n,a,c,o)},addRules:function(e){a.addValidElements(e)},setRules:function(e){a.setValidElements(e)},addTempAttr:o(Ev,s,l),getTempAttrs:function(){return l}});return{schema:u.schema,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:u.serialize,addRules:u.addRules,setRules:u.setRules,addTempAttr:u.addTempAttr,getTempAttrs:u.getTempAttrs}}function xv(e){return{getBookmark:o(Zl,e),moveToBookmark:o(Ql,e)}}(xv||(xv={})).isBookmarkNode=Jl;var Tv,Iv,kv=xv,Ov=Mr.isContentEditableFalse,Av=Mr.isContentEditableTrue,Dv=function(t,n){var i,r,o,a,s,l,u,c,d,f,h,p,m,g,v,y,b,_=n.dom,w=Yt.each,S=n.getDoc(),E=e.document,C=Math.abs,x=Math.round,T=n.getBody();a={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var I=".mce-content-body";n.contentStyles.push(I+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+I+" .mce-resizehandle:hover {background: #000}"+I+" img[data-mce-selected],"+I+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+I+" .mce-clonedresizable {position: absolute;"+(de.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+I+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var k=function(e){return e&&("IMG"===e.nodeName||n.dom.is(e,"figure.image"))},O=function(e){var t,i,r=e.target;t=e,i=n.selection.getRng(),!k(t.target)||jm(t.clientX,t.clientY,i)||e.isDefaultPrevented()||n.selection.select(r)},A=function(e){return n.dom.is(e,"figure.image")?e.querySelector("img"):e},D=function(e){var t=n.settings.object_resizing;return!1!==t&&!de.iOS&&("string"!=typeof t&&(t="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&e!==n.getBody()&&Ri(li(e),t))},P=function(e){var t,a,w,S;t=e.screenX-l,a=e.screenY-u,g=t*s[2]+f,v=a*s[3]+h,g=g<5?5:g,v=v<5?5:v,(k(i)&&!1!==n.settings.resize_img_proportional?!Im.modifierPressed(e):Im.modifierPressed(e)||k(i)&&s[2]*s[3]!=0)&&(C(t)>C(a)?(v=x(g*p),g=x(v/p)):(g=x(v/p),v=x(g*p))),_.setStyles(A(r),{width:g,height:v}),w=0<(w=s.startPos.x+t)?w:0,S=0<(S=s.startPos.y+a)?S:0,_.setStyles(o,{left:w,top:S,display:"block"}),o.innerHTML=g+" &times; "+v,s[2]<0&&r.clientWidth<=g&&_.setStyle(r,"left",c+(f-g)),s[3]<0&&r.clientHeight<=v&&_.setStyle(r,"top",d+(h-v)),(t=T.scrollWidth-y)+(a=T.scrollHeight-b)!=0&&_.setStyles(o,{left:w-t,top:S-a}),m||(function(e,t,n,i){e.fire("ObjectResizeStart",{target:t,width:n,height:i})}(n,i,f,h),m=!0)},N=function(){m=!1;var e=function(e,t){t&&(i.style[e]||!n.schema.isValid(i.nodeName.toLowerCase(),e)?_.setStyle(A(i),e,t):_.setAttrib(A(i),e,t))};e("width",g),e("height",v),_.unbind(S,"mousemove",P),_.unbind(S,"mouseup",N),E!==S&&(_.unbind(E,"mousemove",P),_.unbind(E,"mouseup",N)),_.remove(r),_.remove(o),R(i),function(e,t,n,i){e.fire("ObjectResized",{target:t,width:n,height:i})}(n,i,g,v),_.setAttrib(i,"style",_.getAttrib(i,"style")),n.nodeChanged()},R=function(e){var t,m,C,x,I;L(),B(),t=_.getPos(e,T),c=t.x,d=t.y,I=e.getBoundingClientRect(),m=I.width||I.right-I.left,C=I.height||I.bottom-I.top,i!==e&&(i=e,g=v=0),x=n.fire("ObjectSelected",{target:e}),D(e)&&!x.isDefaultPrevented()?w(a,(function(e,t){var n;(n=_.get("mceResizeHandle"+t))&&_.remove(n),n=_.add(T,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===de.ie&&(n.contentEditable=!1),_.bind(n,"mousedown",(function(t){var n;t.stopImmediatePropagation(),t.preventDefault(),l=(n=t).screenX,u=n.screenY,f=A(i).clientWidth,h=A(i).clientHeight,p=h/f,(s=e).startPos={x:m*e[0]+c,y:C*e[1]+d},y=T.scrollWidth,b=T.scrollHeight,r=i.cloneNode(!0),_.addClass(r,"mce-clonedresizable"),_.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,_.setStyles(r,{left:c,top:d,margin:0}),r.removeAttribute("data-mce-selected"),T.appendChild(r),_.bind(S,"mousemove",P),_.bind(S,"mouseup",N),E!==S&&(_.bind(E,"mousemove",P),_.bind(E,"mouseup",N)),o=_.add(T,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+h)})),e.elm=n,_.setStyles(n,{left:m*e[0]+c-n.offsetWidth/2,top:C*e[1]+d-n.offsetHeight/2})})):L(),i.setAttribute("data-mce-selected","1")},L=function(){var e,t;for(e in B(),i&&i.removeAttribute("data-mce-selected"),a)(t=_.get("mceResizeHandle"+e))&&(_.unbind(t),_.remove(t))},F=function(e){var i,r=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};m||n.removed||(w(_.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute("data-mce-selected")})),i="mousedown"===e.type?e.target:t.getNode(),r(i=_.$(i).closest("table,img,figure.image,hr")[0],T)&&(V(),r(t.getStart(!0),i)&&r(t.getEnd(!0),i))?R(i):L())},M=function(e){return Ov(function(e,t){for(;t&&t!==e;){if(Av(t)||Ov(t))return t;t=t.parentNode}return null}(n.getBody(),e))},B=function(){for(var e in a){var t=a[e];t.elm&&(_.unbind(t.elm),delete t.elm)}},V=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return n.on("init",(function(){V(),de.ie&&11<=de.ie&&(n.on("mousedown click",(function(e){var t=e.target,i=t.nodeName;m||!/^(TABLE|IMG|HR)$/.test(i)||M(t)||(2!==e.button&&n.selection.select(t,"TABLE"===i),"mousedown"===e.type&&n.nodeChanged())})),n.dom.bind(T,"mscontrolselect",(function(e){var t=function(e){ge.setEditorTimeout(n,(function(){n.selection.select(e)}))};if(M(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&t(e.target))})));var e=ge.throttle((function(e){n.composing||F(e)}));n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),n.on("keyup compositionend",(function(t){i&&"TABLE"===i.nodeName&&e(t)})),n.on("hide blur",L),n.on("contextmenu",O)})),n.on("remove",B),{isResizable:D,showResizeRect:R,hideResizeRect:L,updateResizeRect:F,destroy:function(){i=r=null}}},Pv=function(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}},Nv=function(e){return Mr.isContentEditableTrue(e)||Mr.isContentEditableFalse(e)},Rv=function(e,t,n){var i,r,o,a,s,l=n;if(l.caretPositionFromPoint)(r=l.caretPositionFromPoint(e,t))&&((i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(e,t);else if(l.body.createTextRange){i=l.body.createTextRange();try{i.moveToPoint(e,t),i.collapse(!0)}catch(r){i=function(e,t,n){var i,r,o;if(i=n.elementFromPoint(e,t),r=n.body.createTextRange(),i&&"HTML"!==i.tagName||(i=n.body),r.moveToElementText(i),0<(o=(o=Yt.toArray(r.getClientRects())).sort((function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-Math.abs(Math.max(n.top-t,n.bottom-t))}))).length){t=(o[0].bottom+o[0].top)/2;try{return r.moveToPoint(e,t),r.collapse(!0),r}catch(e){}}return null}(e,t,n)}return o=i,a=n.body,s=o&&o.parentElement?o.parentElement():null,Mr.isContentEditableFalse(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(s,a,Nv))?null:o}return i},Lv=function(e,t){return z(t,(function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))},Fv=function(t,n){var i=(n||e.document).createDocumentFragment();return q(t,(function(e){i.appendChild(e.dom())})),li(i)},Mv=Oi("element","width","rows"),Bv=Oi("element","cells"),Vv=Oi("x","y"),$v=function(e,t){var n=parseInt(xi(e,t),10);return isNaN(n)?1:n},jv=function(e){return W(e,(function(e,t){return t.cells().length>e?t.cells().length:e}),0)},Uv=function(e,t){for(var n=e.rows(),i=0;i<n.length;i++)for(var r=n[i].cells(),o=0;o<r.length;o++)if(Fi(r[o],t))return k.some(Vv(o,i));return k.none()},zv=function(e,t,n,i,r){for(var o=[],a=e.rows(),s=n;s<=r;s++){var l=a[s].cells(),u=t<i?l.slice(t,i+1):l.slice(i,t+1);o.push(Bv(a[s].element(),u))}return o},qv=function(e){return n=z((t=e).rows(),(function(e){var t=z(e.cells(),(function(e){var t=la(e);return Ti(t,"colspan"),Ti(t,"rowspan"),t})),n=sa(e.element());return Ro(n,t),n})),i=sa(t.element()),r=ai("tbody"),Ro(r,n),No(i,r),i;var t,n,i,r},Hv=function(e,t){return Y(e,(function(e){return"li"===fi(e)&&function(e,t){return Ga((a=t,s=a.startContainer,l=a.startOffset,Mr.isText(s)?0===l?k.some(li(s)):k.none():k.from(s.childNodes[l]).map(li)),(n=t,i=n.endContainer,r=n.endOffset,Mr.isText(i)?r===i.data.length?k.some(li(i)):k.none():k.from(i.childNodes[r-1]).map(li)),(function(t,n){var i=Y(_m(e),o(Fi,t)),r=Y(wm(e),o(Fi,n));return i.isSome()&&r.isSome()})).getOr(!1);var n,i,r,a,s,l}(e,t)})).fold(i([]),(function(t){return(n=e,Y(n,(function(e){return"ul"===fi(e)||"ol"===fi(e)}))).map((function(e){return[ai("li"),ai(fi(e))]})).getOr([]);var n}))},Gv=function(){return Fv([])},Wv=function(e,t){return n=li(t.cloneContents()),r=function(e,t){var n,r=li(t.commonAncestorContainer),o=wc(r,e),a=G(o,(function(e){return vr(e)||mr(e)})),s=Hv(o,t),l=a.concat(s.length?s:wr(n=r)?$i(n).filter(_r).fold(i([]),(function(e){return[n,e]})):_r(n)?[n]:[]);return z(l,sa)}(e,t),o=W(r,(function(e,t){return No(t,e),t}),n),0<r.length?Fv([o]):o;var n,r,o},Yv=function(e,t){return(n=e,i=t[0],Xo(i,"table",o(Fi,n))).bind((function(e){var n=t[0],i=t[t.length-1],r=function(e){var t=Mv(sa(e),0,[]);return q(Ho(e,"tr"),(function(e,n){q(Ho(e,"td,th"),(function(i,r){!function(e,t,n,i,r){for(var o=$v(r,"rowspan"),a=$v(r,"colspan"),s=e.rows(),l=n;l<n+o;l++){s[l]||(s[l]=Bv(la(i),[]));for(var u=t;u<t+a;u++)s[l].cells()[u]=l===n&&u===t?r:sa(r)}}(t,function(e,t,n){for(;i=t,r=n,o=void 0,((o=e.rows())[r]?o[r].cells():[])[i];)t++;var i,r,o;return t}(t,r,n),n,e,i)}))})),Mv(t.element(),jv(t.rows()),t.rows())}(e);return function(e,t,n){return Uv(e,t).bind((function(t){return Uv(e,n).map((function(n){return i=e,o=n,a=(r=t).x(),s=r.y(),l=o.x(),c=s<(u=o.y())?zv(i,a,s,l,u):zv(i,a,u,l,s),Mv(i.element(),jv(c),c);var i,r,o,a,s,l,u,c}))}))}(r,n,i).map((function(e){return Fv([qv(e)])}))})).getOrThunk(Gv);var n,i},Kv=function(e,t){if(void 0===t&&(t={}),t.get=!0,t.format=t.format||"html",t.selection=!0,(t=e.fire("BeforeGetContent",t)).isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return u=e,k.from(u.selection.getRng()).map((function(e){var t=u.dom.add(u.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),n=fa(t.innerText);return u.dom.remove(t),n})).getOr("");t.getInner=!0;var n,i,r,o,a,s,l,u,c=(i=t,o=(n=e).selection.getRng(),a=n.dom.create("body"),s=n.selection.getSel(),l=Lv(n,yf(s)),(r=i.contextual?function(e,t){var n,i,r=wf(t,e);return 0<r.length?Yv(e,r):(n=e,0<(i=t).length&&i[0].collapsed?Gv():Wv(n,i[0]))}(li(n.getBody()),l).dom():o.cloneContents())&&a.appendChild(r),n.selection.serializer.serialize(a,i));return"tree"===t.format?c:(t.content=e.selection.isCollapsed()?"":c,e.fire("GetContent",t),t.content)},Xv=function(e,t,n,i,r){var o=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return k.from(o).map(li).map((function(e){return i&&t.collapsed?e:Gi(e,r(e,a)).getOr(e)})).bind((function(e){return pi(e)?k.some(e):$i(e)})).map((function(e){return e.dom()})).getOr(e)},Zv=function(e,t,n){return Xv(e,t,!0,n,(function(e,t){return Math.min(e.dom().childNodes.length,t)}))},Qv=function(e,t,n){return Xv(e,t,!1,n,(function(e,t){return 0<t?t-1:t}))},Jv=function(e,t){for(var n=e;e&&Mr.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},ey=Yt.each,ty=function(e){return!!e.select},ny=function(e){return!(!e||!e.ownerDocument)&&Mi(li(e.ownerDocument),li(e))},iy=function(e,t,n,i){var r,o,a,s,l,u=function(e,t){return function(e,t,n){var i,r,o,a=e.selection.getRng(),s=e.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=t,n.no_events||!(n=e.fire("BeforeSetContent",n)).isDefaultPrevented()){if(t=n.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer===s&&a.endContainer===s?s.body.innerHTML=t:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(r=s.createDocumentFragment(),o=s.createElement("div"),r.appendChild(o),o.outerHTML=t,a.insertNode(r))),i=e.dom.get("__caret"),(a=s.createRange()).setStartBefore(i),a.setEndBefore(i),e.selection.setRng(a),e.dom.remove("__caret");try{e.selection.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=e.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t);n.no_events||e.fire("SetContent",n)}else e.fire("SetContent",n)}(i,e,t)},c=function(e){var t=f();t.collapse(!!e),h(t)},d=function(){return t.getSelection?t.getSelection():t.document.selection},f=function(){var n,r,o,l,u=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!t)return null;if(null==(l=t.document))return null;if(void 0!==i.bookmark&&!1===Rp(i)){var c=Wh(i);if(c.isSome())return c.map((function(e){return Lv(i,[e])[0]})).getOr(l.createRange())}try{(n=d())&&!Mr.isRestrictedNode(n.anchorNode)&&(r=0<n.rangeCount?n.getRangeAt(0):n.createRange?n.createRange():l.createRange())}catch(e){}return(r=Lv(i,[r])[0])||(r=l.createRange?l.createRange():l.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(o=e.getRoot(),r.setStart(o,0),r.setEnd(o,0)),a&&s&&(0===u(r.START_TO_START,r,a)&&0===u(r.END_TO_END,r,a)?r=s:s=a=null),r},h=function(e,t){var n,r;if((o=e)&&(ty(o)||ny(o.startContainer)&&ny(o.endContainer))){var o,l=ty(e)?e:null;if(l){s=null;try{l.select()}catch(e){}}else{if(n=d(),e=i.fire("SetSelectionRange",{range:e,forward:t}).range,n){s=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),a=0<n.rangeCount?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||de.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(r=e.startContainer.childNodes[e.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(r,0,r,1)),i.fire("AfterSetSelectionRange",{range:e,forward:t})}}},p=function(){var t,n,i=d();return!(i&&i.anchorNode&&i.focusNode)||((t=e.createRng()).setStart(i.anchorNode,i.anchorOffset),t.collapse(!0),(n=e.createRng()).setStart(i.focusNode,i.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},m={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:i,collapse:c,setCursorLocation:function(t,n){var r=e.createRng();t?(r.setStart(t,n),r.setEnd(t,n),h(r),c(!1)):(Sm(e,r,i.getBody(),!0),h(r))},getContent:function(e){return Kv(i,e)},setContent:u,getBookmark:function(e,t){return r.getBookmark(e,t)},moveToBookmark:function(e){return r.moveToBookmark(e)},select:function(t,n){var i,r,o;return(i=e,r=t,o=n,k.from(r).map((function(e){var t=i.nodeIndex(e),n=i.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(Sm(i,n,e,!0),Sm(i,n,e,!1)),n}))).each(h),t},isCollapsed:function(){var e=f(),t=d();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:p,setNode:function(t){return u(e.getOuterHTML(t)),t},getNode:function(){return e=i.getBody(),(t=f())?(r=t.startContainer,o=t.endContainer,a=t.startOffset,s=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===o&&s-a<2&&r.hasChildNodes()&&(n=r.childNodes[a]),3===r.nodeType&&3===o.nodeType&&(r=r.length===a?Jv(r.nextSibling,!0):r.parentNode,o=0===s?Jv(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):e;var e,t,n,r,o,a,s},getSel:d,setRng:h,getRng:f,getStart:function(e){return Zv(i.getBody(),f(),e)},getEnd:function(e){return Qv(i.getBody(),f(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,i){var r,o,a=[];if(o=e.getRoot(),n=e.getParent(n||Zv(o,t,t.collapsed),e.isBlock),i=e.getParent(i||Qv(o,t,t.collapsed),e.isBlock),n&&n!==o&&a.push(n),n&&i&&n!==i)for(var s=new cr(r=n,o);(r=s.next())&&r!==i;)e.isBlock(r)&&a.push(r);return i&&n!==i&&i!==o&&a.push(i),a}(e,f(),t,n)},normalize:function(){var t=f();if(!function(e){return 1<vf(e).length}(d())&&Em(i)){var n=wh(e,t);return n.each((function(e){h(e,p())})),n.getOr(t)}return t},selectorChanged:function(t,n){var r;return l||(l={},r={},i.on("NodeChange",(function(t){var n=t.element,i=e.getParents(n,null,e.getRoot()),o={};ey(l,(function(t,n){ey(i,(function(a){if(e.is(a,n))return r[n]||(ey(t,(function(e){e(!0,{node:a,selector:n,parents:i})})),r[n]=t),o[n]=t,!1}))})),ey(r,(function(e,t){o[t]||(delete r[t],ey(e,(function(e){e(!1,{node:n,selector:t,parents:i})})))}))}))),l[t]||(l[t]=[]),l[t].push(n),m},getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){return function(e,t,n){var i,r,o,a,s,l=e.dom,u=l.getRoot(),c=0;if(s={elm:t,alignToTop:n},e.fire("scrollIntoView",s),!s.isDefaultPrevented()&&Mr.isElement(t)){if(!1===n&&(c=t.offsetHeight),"BODY"!==u.nodeName){var d=e.selection.getScrollContainer();if(d)return i=Pv(t).y-Pv(d).y+c,a=d.clientHeight,void((i<(o=d.scrollTop)||o+a<i+25)&&(d.scrollTop=i<o?i:i-a+25))}r=l.getViewPort(e.getWin()),i=l.getPos(t).y+c,o=r.y,a=r.h,(i<r.y||o+a<i+25)&&e.getWin().scrollTo(0,i<o?i:i-a+25)}}(i,e,t)},placeCaretAt:function(e,t){return h(Rv(e,t,i.getDoc()))},getBoundingClientRect:function(){var e=f();return e.collapsed?ps.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=a=s=null,o.destroy()}};return r=kv(m),o=Dv(m,i),m.bookmarkManager=r,m.controlSelection=o,m};(Iv=Tv||(Tv={}))[Iv.Br=0]="Br",Iv[Iv.Block=1]="Block",Iv[Iv.Wrap=2]="Wrap",Iv[Iv.Eol=3]="Eol";var ry=function(e,t){return e===fs.Backwards?t.reverse():t},oy=function(e,t,n,i){for(var r,o,a,s,l,u,c=Rl(n),d=i,f=[];d&&(l=c,u=d,r=t===fs.Forwards?l.next(u):l.prev(u));){if(Mr.isBr(r.getNode(!1)))return t===fs.Forwards?{positions:ry(t,f).concat([r]),breakType:Tv.Br,breakAt:k.some(r)}:{positions:ry(t,f),breakType:Tv.Br,breakAt:k.some(r)};if(r.isVisible()){if(e(d,r)){var h=(o=t,a=d,s=r,Mr.isBr(s.getNode(o===fs.Forwards))?Tv.Br:!1===cl(a,s)?Tv.Block:Tv.Wrap);return{positions:ry(t,f),breakType:h,breakAt:k.some(r)}}f.push(r),d=r}else d=r}return{positions:ry(t,f),breakType:Tv.Eol,breakAt:k.none()}},ay=function(e,t,n,i){return t(n,i).breakAt.map((function(i){var r=t(n,i).positions;return e===fs.Backwards?r.concat(i):[i].concat(r)})).getOr([])},sy=function(e,t){return W(e,(function(e,n){return e.fold((function(){return k.some(n)}),(function(i){return Ga(J(i.getClientRects()),J(n.getClientRects()),(function(e,r){var o=Math.abs(t-e.left);return Math.abs(t-r.left)<=o?n:i})).or(e)}))}),k.none())},ly=function(e,t){return J(t.getClientRects()).bind((function(t){return sy(e,t.left)}))},uy=o(oy,ds.isAbove,-1),cy=o(oy,ds.isBelow,1),dy=o(ay,-1,uy),fy=o(ay,1,cy),hy=Mr.isContentEditableFalse,py=Ua,my=function(e,t,n){var i,r,a,s,l=Rl(e.getBody()),u=o(_l,l.next),c=o(_l,l.prev);if(n.collapsed&&e.settings.forced_root_block){if(!(i=e.dom.getParent(n.startContainer,"PRE")))return;(1===t?u(ps.fromRangeStart(n)):c(ps.fromRangeStart(n)))||(s=(a=e).dom.create(Zu(a)),(!de.ie||11<=de.ie)&&(s.innerHTML='<br data-mce-bogus="1">'),r=s,1===t?e.$(i).after(r):e.$(i).before(r),e.selection.select(r,!0),e.selection.collapse())}},gy=function(e,t){return function(){var n,i,r,a,s,l,u,c,d,f=(i=t,a=Rl((n=e).getBody()),s=o(_l,a.next),l=o(_l,a.prev),u=i?fs.Forwards:fs.Backwards,c=i?s:l,d=n.selection.getRng(),(r=function(e,t,n,i){var r=e===fs.Forwards,o=r?Yc:Kc;if(!i.collapsed){var a=py(i);if(hy(a))return nh(e,t,a,e===fs.Backwards,!0)}var s=ma(i.startContainer),l=yl(e,t.getBody(),i);if(o(l))return ih(t,l.getNode(!r));var u=sc.normalizePosition(r,n(l));if(!u)return s?i:null;if(o(u))return nh(e,t,u.getNode(!r),r,!0);var c=n(u);return c&&o(c)&&wl(u,c)?nh(e,t,c.getNode(!r),r,!0):s?oh(t,u.toRange(),!0):null}(u,n,c,d))?r:(r=my(n,u,d))||null);return!!f&&(e.selection.setRng(f),!0)}},vy=function(e,t){return function(){var n,i,r,o,a,s,l=(o=(i=t)?1:-1,a=i?Dm:Am,s=(n=e).selection.getRng(),(r=function(e,t,n,i){var r,o,a,s,l,u,c,d,f;if(f=py(i),r=yl(e,t.getBody(),i),o=n(t.getBody(),Pm(1),r),a=G(o,Nm(1)),l=zt.last(r.getClientRects()),(Yc(r)||Zc(r))&&(f=r.getNode()),(Kc(r)||Qc(r))&&(f=r.getNode(!0)),!l)return null;if(u=l.left,(s=Vm(a,u))&&hy(s.node))return c=Math.abs(u-s.left),d=Math.abs(u-s.right),nh(e,t,s.node,c<d,!0);if(f){var h=function(e,t,n,i){var r,o,a,s,l,u,c=Rl(t),d=[],f=0,h=function(e){return zt.last(e.getClientRects())};1===e?(r=c.next,o=$a,a=Va,s=ps.after(i)):(r=c.prev,o=Va,a=$a,s=ps.before(i)),u=h(s);do{if(s.isVisible()&&!a(l=h(s),u)){if(0<d.length&&o(l,zt.last(d))&&f++,(l=Fa(l)).position=s,l.line=f,n(l))return d;d.push(l)}}while(s=r(s));return d}(e,t.getBody(),Pm(1),f);if(s=Vm(G(h,Nm(1)),u))return oh(t,s.position.toRange(),!0);if(s=zt.last(G(h,Nm(0))))return oh(t,s.position.toRange(),!0)}}(o,n,a,s))?r:(r=my(n,o,s))||null);return!!l&&(e.selection.setRng(l),!0)}},yy=function(e,t){return function(){var n,r=t?ps.fromRangeEnd(e.selection.getRng()):ps.fromRangeStart(e.selection.getRng()),o=t?cy(e.getBody(),r):uy(e.getBody(),r);return(t?ee(o.positions):J(o.positions)).filter((n=t,function(e){return n?Kc(e):Yc(e)})).fold(i(!1),(function(t){return e.selection.setRng(t.toRange()),!0}))}},by=function(e,t,n,i,r){var o,a,s,l,u=Ho(li(n),"td,th,caption").map((function(e){return e.dom()})),c=G((o=e,X(u,(function(e){var t,n,i=(n=-1,{left:(t=Fa(e.getBoundingClientRect())).left-n,top:t.top-n,right:t.right+-2,bottom:t.bottom+-2,width:t.width+n,height:t.height+n});return[{x:i.left,y:o(i),cell:e},{x:i.right,y:o(i),cell:e}]}))),(function(e){return t(e,r)}));return(a=c,s=i,l=r,W(a,(function(e,t){return e.fold((function(){return k.some(t)}),(function(e){var n=Math.sqrt(Math.abs(e.x-s)+Math.abs(e.y-l)),i=Math.sqrt(Math.abs(t.x-s)+Math.abs(t.y-l));return k.some(i<n?t:e)}))}),k.none())).map((function(e){return e.cell}))},_y=o(by,(function(e){return e.bottom}),(function(e,t){return e.y<t})),wy=o(by,(function(e){return e.top}),(function(e,t){return e.y>t})),Sy=function(e,t){e.selection.setRng(t),function(e,t){J(ds.fromRangeStart(t).getClientRects()).each((function(t){var n,i,r,o,a,s,l,u,c,d=function(e){if(e.inline)return e.getBody().getBoundingClientRect();var t=e.getWin();return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight}}(e),f=(a=n=d,(s=i=t).left>a.left&&s.right<a.right?0:s.left<a.left?s.left-a.left:s.right-a.right),h=(r=n,(o=i).top>r.top&&o.bottom<r.bottom?0:o.top<r.top?o.top-r.top:o.bottom-r.bottom);u=0!==f?0<f?f+4:f-4:0,c=0!==h?0<h?h+4:h-4:0,(l=e).inline?(l.getBody().scrollLeft+=u,l.getBody().scrollTop+=c):l.getWin().scrollBy(u,c)}))}(e,t)},Ey=function(e,t,n){var i,r,o,a,s=e(t,n);return(a=s).breakType===Tv.Wrap&&0===a.positions.length||!Mr.isBr(n.getNode())&&(o=s).breakType===Tv.Br&&1===o.positions.length?(i=e,r=t,!s.breakAt.map((function(e){return i(r,e).breakAt.isSome()})).getOr(!1)):s.breakAt.isNone()},Cy=o(Ey,uy),xy=o(Ey,cy),Ty=function(e,t,n){var i=function(e,t){var n=t.getNode(e);return Mr.isElement(n)&&"TABLE"===n.nodeName?k.some(n):k.none()}(!!t,n),r=!1===t;i.fold((function(){return Sy(e,n.toRange())}),(function(i){return ql.positionIn(r,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return Sy(e,n.toRange())}),(function(r){return o=t,s=i,l=n,void((u=Zu(a=e))?a.undoManager.transact((function(){var e=ai(u);Ci(e,Qu(a)),No(e,ai("br")),o?Do(li(s),e):Ao(li(s),e);var t=a.dom.createRng();t.setStart(e.dom(),0),t.setEnd(e.dom(),0),Sy(a,t)})):Sy(a,l.toRange()));var o,a,s,l,u}))}))},Iy=function(e,t,n,i){var r,o,a,s,l,u,c=e.selection.getRng(),d=ps.fromRangeStart(c),f=e.getBody();if(!t&&Cy(i,d)){var h=(s=f,function(e,t){return J(t.getClientRects()).bind((function(t){return _y(e,t.left,t.top)})).bind((function(e){return ly((n=e,ql.lastPositionIn(n).map((function(e){return uy(n,e).positions.concat(e)})).getOr([])),t);var n}))}(l=n,u=d).orThunk((function(){return J(u.getClientRects()).bind((function(e){return sy(dy(s,ps.before(l)),e.left)}))})).getOr(ps.before(l)));return Ty(e,t,h),!0}return!(!t||!xy(i,d)||(r=f,h=function(e,t){return ee(t.getClientRects()).bind((function(t){return wy(e,t.left,t.top)})).bind((function(e){return ly((n=e,ql.firstPositionIn(n).map((function(e){return[e].concat(cy(n,e).positions)})).getOr([])),t);var n}))}(o=n,a=d).orThunk((function(){return J(a.getClientRects()).bind((function(e){return sy(fy(r,ps.after(o)),e.left)}))})).getOr(ps.after(o)),Ty(e,t,h),0))},ky=function(e,t){return function(){return k.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(n){return k.from(e.dom.getParent(n,"table")).map((function(n){return function(e,t,n,i){var r,o,a,s,l=e.selection.getRng(),u=t?1:-1;if(Zs()&&(r=t,o=l,a=n,s=ps.fromRangeStart(o),ql.positionIn(!r,a).map((function(e){return e.isEqual(s)})).getOr(!1))){var c=nh(u,e,n,!t,!0);return Sy(e,c),!0}return!1}(e,t,n)}))})).getOr(!1)}},Oy=function(e,t){return function(){return k.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(n){return k.from(e.dom.getParent(n,"table")).map((function(i){return Iy(e,t,i,n)}))})).getOr(!1)}},Ay=function(e){return j(["figcaption"],fi(e))},Dy=function(t){var n=e.document.createRange();return n.setStartBefore(t.dom()),n.setEndBefore(t.dom()),n},Py=function(e,t,n){n?No(e,t):Po(e,t)},Ny=function(e,t){var n,i,r,a=li(e.getBody()),s=ps.fromRangeStart(e.selection.getRng()),l=Zu(e),u=Qu(e);return(n=s,i=a,r=o(Fi,i),Ko(li(n.container()),gr,r).filter(Ay)).exists((function(){if(function(e,t,n){return t?(r=e.dom(),cy(r,n).breakAt.isNone()):(i=e.dom(),uy(i,n).breakAt.isNone());var i,r}(a,t,s)){var n=function(e,t,n,i){return""===t?(u=e,c=i,d=ai("br"),Py(u,d,c),Dy(d)):(r=e,o=i,a=n,s=ai(t),l=ai("br"),Ci(s,a),No(s,l),Py(r,s,o),Dy(l));var r,o,a,s,l,u,c,d}(a,l,u,t);return e.selection.setRng(n),!0}return!1}))},Ry=function(e,t){return function(){return!!e.selection.isCollapsed()&&Ny(e,t)}},Ly=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,i)}},Fy=function(e,n){return Y(function(e,n){return X(z(e,(function(e){return nv({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:t},e)})),(function(e){return t=e,(i=n).keyCode===t.keyCode&&i.shiftKey===t.shiftKey&&i.altKey===t.altKey&&i.ctrlKey===t.ctrlKey&&i.metaKey===t.metaKey?[e]:[];var t,i}))}(e,n),(function(e){return e.action()}))},My=function(e){return k.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},By=function(e,t){var n,i,r,o=t,a=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var l=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);l&&/^(UL|OL|DL)$/.test(l.nodeName)&&t.insertBefore(a.doc.createTextNode(" "),t.firstChild)}if(r=a.createRng(),t.normalize(),t.hasChildNodes()){for(n=new cr(t,t);i=n.current();){if(Mr.isText(i)){r.setStart(i,0),r.setEnd(i,0);break}if(s[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}o=i,i=n.next()}i||(r.setStart(o,0),r.setEnd(o,0))}else Mr.isBr(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),a.remove(void 0),e.selection.scrollIntoView(t)}},Vy=My,$y=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},jy=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},Uy=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},zy=function(e,t,n){for(var i=e[n?"firstChild":"lastChild"];i&&!Mr.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===t},qy=function(e){e.innerHTML='<br data-mce-bogus="1">'},Hy=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},Gy=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},Wy=function(e,t,n){return!1===Mr.isText(t)?n:e?1===n&&t.data.charAt(n-1)===da?0:n:n===t.data.length-1&&t.data.charAt(n)===da?t.data.length:n},Yy=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},Ky=function(e,t){var n=Zu(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&function(e,t,n){k.from(n.style).map(e.dom.parseStyle).each((function(n){var i=function(e){var t={},n=e.dom();if(wi(n))for(var i=0;i<n.style.length;i++){var r=n.style.item(i);t[r]=n.style[r]}return t}(li(t)),r=ra(ra({},i),n);e.dom.setStyles(t,r)}));var i=k.from(n.class).map((function(e){return e.split(/\s+/)})),r=k.from(t.className).map((function(e){return G(e.split(/\s+/),(function(e){return""!==e}))}));Ga(i,r,(function(n,i){var r=G(i,(function(e){return!j(n,e)})),o=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}(n,r);e.dom.setAttrib(t,"class",o.join(" "))}));var o=["style","class"],a=bi(n,(function(e,t){return!j(o,t)})).t;e.dom.setAttribs(t,a)}(e,t,Qu(e))},Xy=function(e,t){var n,i,r,o,a,s,l,u,c,d,f,h,p,m,g,v,y,b,_=e.dom,w=e.schema,S=w.getNonEmptyElements(),E=e.selection.getRng(),C=function(t){var n,o,s,l=r,u=w.getTextInlineElements();if(s=n=t||"TABLE"===d||"HR"===d?_.create(t||h):a.cloneNode(!1),!1===function(e){return e.getParam("keep_styles",!0)}(e))_.setAttrib(n,"style",null),_.setAttrib(n,"class",null);else do{if(u[l.nodeName]){if(Ms(l)||Jl(l))continue;o=l.cloneNode(!1),_.setAttrib(o,"id",""),n.hasChildNodes()?o.appendChild(n.firstChild):s=o,n.appendChild(o)}}while((l=l.parentNode)&&l!==i);return Ky(e,n),qy(s),n},x=function(e){var t,n,i,s;if(s=Wy(e,r,o),Mr.isText(r)&&(e?0<s:s<r.nodeValue.length))return!1;if(r.parentNode===a&&p&&!e)return!0;if(e&&Mr.isElement(r)&&r===a.firstChild)return!0;if(Hy(r,"TABLE")||Hy(r,"HR"))return p&&!e||!p&&e;for(t=new cr(r,a),Mr.isText(r)&&(e&&0===s?t.prev():e||s!==r.nodeValue.length||t.next());n=t.current();){if(Mr.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),S[i]&&"br"!==i))return!1}else if(Mr.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},T=function(){l=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==f?C(h):C(),function(e){return e.getParam("end_container_on_empty_block",!1)}(e)&&Gy(_,c)&&_.isEmpty(a)?l=_.split(c,a):_.insertAfter(l,a),By(e,l)};wh(_,E).each((function(e){E.setStart(e.startContainer,e.startOffset),E.setEnd(e.endContainer,e.endOffset)})),r=E.startContainer,o=E.startOffset,h=Zu(e),s=t.shiftKey,Mr.isElement(r)&&r.hasChildNodes()&&(p=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=p&&Mr.isText(r)?r.nodeValue.length:0),(i=Yy(_,r))&&((h&&!s||!h&&s)&&(r=function(e,t,n,i,r){var o,a,s,l,u,c,d,f=t||"P",h=e.dom,p=Yy(h,i);if(!(a=h.getParent(i,h.isBlock))||!Gy(h,a)){if(c=(a=a||p)===e.getBody()||(d=a)&&/^(TD|TH|CAPTION)$/.test(d.nodeName)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=h.create(f),Ky(e,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!==a;)l=l.parentNode;for(;l&&!h.isBlock(l);)l=(s=l).previousSibling;if(s&&e.schema.isValidChild(c,f.toLowerCase())){for(o=h.create(f),Ky(e,o),s.parentNode.insertBefore(o,s),l=s;l&&!h.isBlock(l);)u=l.nextSibling,o.appendChild(l),l=u;n.setStart(i,r),n.setEnd(i,r)}}return i}(e,h,E,r,o)),a=_.getParent(r,_.isBlock),c=a?_.getParent(a.parentNode,_.isBlock):null,d=a?a.nodeName.toUpperCase():"","LI"!==(f=c?c.nodeName.toUpperCase():"")||t.ctrlKey||(c=(a=c).parentNode,d=f),/^(LI|DT|DD)$/.test(d)&&_.isEmpty(a)?function(e,t,n,i,r){var o=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var s;jy(s=n)&&jy(s.parentNode)&&(r="LI");var l,u=r?t(r):o.create("BR");if(zy(n,i,!0)&&zy(n,i,!1))$y(n,"LI")?o.insertAfter(u,Uy(n)):o.replace(u,n);else if(zy(n,i,!0))$y(n,"LI")?(o.insertAfter(u,Uy(n)),u.appendChild(o.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(zy(n,i,!1))o.insertAfter(u,Uy(n));else{n=Uy(n);var c=a.cloneRange();c.setStartAfter(i),c.setEndAfter(n);var d=c.extractContents();"LI"===r&&(l=d).firstChild&&"LI"===l.firstChild.nodeName?(u=d.firstChild,o.insertAfter(d,n)):(o.insertAfter(d,n),o.insertAfter(u,n))}o.remove(i),By(e,u)}}(e,C,c,a,h):h&&a===e.getBody()||(h=h||"P",ma(a)?(l=Ea(a),_.isEmpty(a)&&qy(a),Ky(e,l),By(e,l)):x()?T():x(!0)?(l=a.parentNode.insertBefore(C(),a),By(e,Hy(a,"HR")?l:a)):((n=(y=E,b=y.cloneRange(),b.setStart(y.startContainer,Wy(!0,y.startContainer,y.startOffset)),b.setEnd(y.endContainer,Wy(!1,y.endContainer,y.endOffset)),b).cloneRange()).setEndAfter(a),u=n.extractContents(),q(qo(li(u),mi),(function(e){var t=e.dom();t.nodeValue=fa(t.nodeValue)})),function(e){for(;Mr.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(u),l=u.firstChild,_.insertAfter(u,a),function(e,t,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;Mr.isElement(r)&&!t[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?e.remove(r):(a=e,(s=r)&&"A"===s.nodeName&&a.isEmpty(s)&&e.remove(r));var a,s}}(_,S,l),m=_,(g=a).normalize(),(v=g.lastChild)&&!/^(left|right)$/gi.test(m.getStyle(v,"float",!0))||m.add(g,"br"),_.isEmpty(a)&&qy(a),l.normalize(),_.isEmpty(l)?(_.remove(l),T()):(Ky(e,l),By(e,l))),_.setAttrib(l,"id",""),e.fire("NewBlock",{newBlock:l})))},Zy=function(e,t){return Vy(e).filter((function(e){return 0<t.length&&Ri(li(e),t)})).isSome()},Qy=Nc([{br:[]},{block:[]},{none:[]}]),Jy=function(e,t){return function(e){return Zy(e,function(e){return e.getParam("no_newline_selector","")}(e))}(e)},eb=function(e){return function(t,n){return""===Zu(t)===e}},tb=function(e){return function(t,n){return function(e){return My(e).filter((function(e){return wr(li(e))})).isSome()}(t)===e}},nb=function(e,t){return function(n,r){return function(e){return My(e).fold(i(""),(function(e){return e.nodeName.toUpperCase()}))}(n)===e.toUpperCase()===t}},ib=function(e){return nb("pre",e)},rb=function(e){return function(t,n){return function(e){return e.getParam("br_in_pre",!0)}(t)===e}},ob=function(e,t){return function(e){return Zy(e,function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(e))}(e)},ab=function(e,t){return t},sb=function(e){var t=Zu(e),n=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},lb=function(e,t){return function(n,i){return W(e,(function(e,t){return e&&t(n,i)}),!0)?k.some(t):k.none()}},ub=function(e,n){(function(e,t){return xd([lb([Jy],Qy.none()),lb([nb("summary",!0)],Qy.br()),lb([ib(!0),rb(!1),ab],Qy.br()),lb([ib(!0),rb(!1)],Qy.block()),lb([ib(!0),rb(!0),ab],Qy.block()),lb([ib(!0),rb(!0)],Qy.br()),lb([tb(!0),ab],Qy.br()),lb([tb(!0)],Qy.block()),lb([eb(!0),ab,sb],Qy.block()),lb([eb(!0)],Qy.br()),lb([ob],Qy.br()),lb([eb(!1),ab],Qy.br()),lb([sb],Qy.block())],[e,t.shiftKey]).getOr(Qy.none())})(e,n).fold((function(){Ah(e,n)}),(function(){Xy(e,n)}),t)},cb=function(e,t){var n=t.container(),i=t.offset();return Mr.isText(n)?(n.insertData(i,e),k.some(ds(n,i+e.length))):bl(t).map((function(n){var i=si(e);return t.isAtEnd()?Do(n,i):Ao(n,i),ds(i.dom(),e.length)}))},db=o(cb," "),fb=o(cb," "),hb=function(e,t,n){return ql.navigateIgnore(e,t,n,Gc)},pb=function(e,t){return Y(wc(li(t.container()),e),gr)},mb=function(e,t,n){return hb(e,t.dom(),n).forall((function(e){return pb(t,n).fold((function(){return!1===cl(e,n,t.dom())}),(function(i){return!1===cl(e,n,t.dom())&&Mi(i,li(e.container()))}))}))},gb=function(e,t,n){return pb(t,n).fold((function(){return hb(e,t.dom(),n).forall((function(e){return!1===cl(e,n,t.dom())}))}),(function(t){return hb(e,t.dom(),n).isNone()}))},vb=o(gb,!1),yb=o(gb,!0),bb=o(mb,!1),_b=o(mb,!0),wb=function(e){return ds.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Sb=function(e,t){var n=G(wc(li(t.container()),e),gr);return J(n).getOr(e)},Eb=function(e,t){return wb(t)?Hc(t):Hc(t)||ql.prevPosition(Sb(e,t).dom(),t).exists(Hc)},Cb=function(e,t){return wb(t)?qc(t):qc(t)||ql.nextPosition(Sb(e,t).dom(),t).exists(qc)},xb=function(e){return bl(e).bind((function(e){return Ko(e,pi)})).exists((function(e){return t=Ii(e,"white-space"),j(["pre","pre-wrap"],t);var t}))},Tb=function(e,t){return n=e,!xb(i=t)&&(vb(n,i)||bb(n,i)||Mc(n,i)||Eb(n,i))||function(e,t){var n,i,r,o=(i=(n=t).container(),r=n.offset(),Mr.isText(i)&&r<i.data.length?ds(i,r+1):n);return!xb(o)&&(yb(e,o)||_b(e,o)||Fc(e,o)||Cb(e,o))}(e,t);var n,i},Ib=function(e,t){return $c(e.charAt(t))},kb=function(e){var t=e.container();return Mr.isText(t)&&Yn(t.data," ")},Ob=function(e,t){return k.some(t).filter(kb).bind((function(t){var n,i,r,o,a,s,l,u,c=t.container();return a=e,l=(s=c).data,u=ds(s,0),Ib(l,0)&&!Tb(a,u)&&(s.data=" "+l.slice(1),1)||function(e){var t,n=e.data,i=(t=n.split(""),z(t,(function(e,n){return $c(e)&&0<n&&n<t.length-1&&Uc(t[n-1])&&Uc(t[n+1])?" ":e})).join(""));return i!==n&&(e.data=i,!0)}(c)||(n=e,r=(i=c).data,o=ds(i,r.length-1),Ib(r,r.length-1)&&!Tb(n,o)&&(i.data=r.slice(0,-1)+" ",1))?k.some(t):k.none()}))},Ab=function(e){var t=li(e.getBody());e.selection.isCollapsed()&&Ob(t,ds.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))},Db=function(e,t){return function(n){return i=e,!xb(r=n)&&(function(e,t){return r=e,o=t,ql.prevPosition(r.dom(),o).isNone()||(n=e,i=t,ql.nextPosition(n.dom(),i).isNone())||vb(e,t)||yb(e,t)||Mc(e,t)||Fc(e,t);var n,i,r,o}(i,r)||Eb(i,r)||Cb(i,r))?db(t):fb(t);var i,r}},Pb=function(e){var t,n,i=ps.fromRangeStart(e.selection.getRng()),r=li(e.getBody());if(e.selection.isCollapsed()){var a=o(sc.isInlineTarget,e),s=ps.fromRangeStart(e.selection.getRng());return zd(a,e.getBody(),s).bind((n=r,function(e){return e.fold((function(e){return ql.prevPosition(n.dom(),ps.before(e))}),(function(e){return ql.firstPositionIn(e)}),(function(e){return ql.lastPositionIn(e)}),(function(e){return ql.nextPosition(n.dom(),ps.after(e))}))})).bind(Db(r,i)).exists((t=e,function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}))}return!1},Nb=function(e,t){var n;t.hasAttribute("data-mce-caret")&&(Ea(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))},Rb=function(e,t){var n=Zo(li(e.getBody()),"*[data-mce-caret]").fold(i(null),(function(e){return e.dom()}));if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void Nb(e,n)):void(ya(n)&&(Nb(e,n),e.undoManager.add()))},Lb=ii.detect().browser,Fb=function(e){var t=ef.setupSelectedState(e);(function(e){e.on("keyup compositionstart",o(Rb,e))})(e),function(e,t){e.on("keydown",(function(n){var i,r,o,a;!1===n.isDefaultPrevented()&&(i=e,r=t,o=n,a=ii.detect().os,Fy([{keyCode:Im.RIGHT,action:gy(i,!0)},{keyCode:Im.LEFT,action:gy(i,!1)},{keyCode:Im.UP,action:vy(i,!1)},{keyCode:Im.DOWN,action:vy(i,!0)},{keyCode:Im.RIGHT,action:ky(i,!0)},{keyCode:Im.LEFT,action:ky(i,!1)},{keyCode:Im.UP,action:Oy(i,!1)},{keyCode:Im.DOWN,action:Oy(i,!0)},{keyCode:Im.RIGHT,action:ef.move(i,r,!0)},{keyCode:Im.LEFT,action:ef.move(i,r,!1)},{keyCode:Im.RIGHT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:ef.moveNextWord(i,r)},{keyCode:Im.LEFT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:ef.movePrevWord(i,r)},{keyCode:Im.UP,action:Ry(i,!1)},{keyCode:Im.DOWN,action:Ry(i,!0)}],o).each((function(e){o.preventDefault()})))}))}(e,t),function(e,t){e.on("keydown",(function(n){var i,r,o;!1===n.isDefaultPrevented()&&(i=e,r=t,o=n,Fy([{keyCode:Im.BACKSPACE,action:Ly(hd,i,!1)},{keyCode:Im.DELETE,action:Ly(hd,i,!0)},{keyCode:Im.BACKSPACE,action:Ly(sh,i,!1)},{keyCode:Im.DELETE,action:Ly(sh,i,!0)},{keyCode:Im.BACKSPACE,action:Ly(rf,i,r,!1)},{keyCode:Im.DELETE,action:Ly(rf,i,r,!0)},{keyCode:Im.BACKSPACE,action:Ly(Af,i,!1)},{keyCode:Im.DELETE,action:Ly(Af,i,!0)},{keyCode:Im.BACKSPACE,action:Ly(Pc,i,!1)},{keyCode:Im.DELETE,action:Ly(Pc,i,!0)},{keyCode:Im.BACKSPACE,action:Ly(Oc,i,!1)},{keyCode:Im.DELETE,action:Ly(Oc,i,!0)},{keyCode:Im.BACKSPACE,action:Ly(Jf,i,!1)},{keyCode:Im.DELETE,action:Ly(Jf,i,!0)}],o).each((function(e){o.preventDefault()})))})),e.on("keyup",(function(t){var n,i;!1===t.isDefaultPrevented()&&(n=e,i=t,Fy([{keyCode:Im.BACKSPACE,action:Ly(pd,n)},{keyCode:Im.DELETE,action:Ly(pd,n)}],i))}))}(e,t),function(e){e.on("keydown",(function(t){var n,i,r;t.keyCode===Im.ENTER&&(n=e,(i=t).isDefaultPrevented()||(i.preventDefault(),(r=n.undoManager).typing&&(r.typing=!1,r.add()),n.undoManager.transact((function(){!1===n.selection.isCollapsed()&&n.execCommand("Delete"),ub(n,i)}))))}))}(e),function(e){e.on("keydown",(function(t){var n,i;!1===t.isDefaultPrevented()&&(n=e,i=t,Fy([{keyCode:Im.SPACEBAR,action:Ly(Pb,n)}],i).each((function(e){i.preventDefault()})))}))}(e),function(e){var t,n;t=e,n=Bo((function(){t.composing||Ab(t)}),0),Lb.isIE()&&(t.on("keypress",(function(e){n.throttle()})),t.on("remove",(function(e){n.cancel()}))),e.on("input",(function(t){!1===t.isComposing&&Ab(e)}))}(e),function(e){e.on("keydown",(function(t){var n,i;!1===t.isDefaultPrevented()&&(n=e,i=t,Fy([{keyCode:Im.END,action:yy(n,!0)},{keyCode:Im.HOME,action:yy(n,!1)}],i).each((function(e){i.preventDefault()})))}))}(e)};var Mb=function(e){return Mr.isElement(e)&&br(li(e))},Bb=wo.DOM,Vb=function(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&ge.setEditorTimeout(t,(function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()}),100)},$b=function(t,n){var i,r,o,a,s,l,u,c,d,f=t.settings,h=t.getElement(),p=t.getDoc();f.inline||(t.getElement().style.visibility=t.orgVisibility),n||f.content_editable||(p.open(),p.write(t.iframeHTML),p.close()),f.content_editable&&(t.on("remove",(function(){var e=this.getBody();Bb.removeClass(e,"mce-content-body"),Bb.removeClass(e,"mce-edit-focus"),Bb.setAttrib(e,"contentEditable",null)})),Bb.addClass(h,"mce-content-body"),t.contentDocument=p=f.content_document||e.document,t.contentWindow=f.content_window||e.window,t.bodyElement=h,f.content_document=f.content_window=null,f.root_name=h.nodeName.toLowerCase()),(i=t.getBody()).disabled=!0,t.readonly=f.readonly,t.readonly||(t.inline&&"static"===Bb.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable=t.getParam("content_editable_state",!0)),i.disabled=!1,t.editorUpload=mm(t),t.schema=lo(f),t.dom=wo(p,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:f.force_hex_style_colors,class_filter:f.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:f.content_editable,schema:t.schema,contentCssCors:oc(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=((a=Sv((o=t).settings,o.schema)).addAttributeFilter("src,href,style,tabindex",(function(e,t){for(var n,i,r,a=e.length,s=o.dom;a--;)if(i=(n=e[a]).attr(t),r="data-mce-"+t,!n.attributes.map[r]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===t?((i=s.serializeStyle(s.parseStyle(i),n.name)).length||(i=null),n.attr(r,i),n.attr(t,i)):"tabindex"===t?(n.attr(r,i),n.attr(t,null)):n.attr(r,o.convertURL(i,t,n.name))}})),a.addNodeFilter("script",(function(e){for(var t,n,i=e.length;i--;)0!==(n=(t=e[i]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)})),a.addNodeFilter("#cdata",(function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"})),a.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var t,n=e.length,i=o.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(i)&&0===t.getAll("br").length&&(t.append(new dv("br",1)).shortEnded=!0)})),a),t.serializer=Cv(f,t),t.selection=iy(t.dom,t.getWin(),t.serializer,t),t.annotator=Pu(t),t.formatter=Jg(t),t.undoManager=gg(t),t._nodeChangeDispatcher=new Cm(t),t._selectionOverrides=Jm(t),function(e){var t,n;(t=e).on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})),(n=e).parser.addNodeFilter("details",(function(e){q(e,(function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),n.serializer.addNodeFilter("details",(function(e){q(e,(function(e){var t=e.attr("data-mce-open");e.attr("open",A(t)?t:null),e.attr("data-mce-open",null)}))}))}(t),function(e){e.on("click",(function(t){3<=t.detail&&function(e){var t=e.selection.getRng(),n=ds.fromRangeStart(t),i=ds.fromRangeEnd(t);if(ds.isElementPosition(n)){var r=n.container();Mb(r)&&ql.firstPositionIn(r).each((function(e){return t.setStart(e.container(),e.offset())}))}ds.isElementPosition(i)&&(r=n.container(),Mb(r)&&ql.lastPositionIn(r).each((function(e){return t.setEnd(e.container(),e.offset())}))),e.selection.setRng(qu(t))}(e)}))}(t),Fb(t),bm(t),t.fire("PreInit"),f.browser_spellcheck||f.gecko_spellcheck||(p.body.spellcheck=!1,Bb.setAttrib(i,"spellcheck","false")),t.quirks=function(t){var n,i,r,o=Yt.each,a=Im.BACKSPACE,s=Im.DELETE,l=t.dom,u=t.selection,c=t.settings,d=t.parser,f=de.gecko,h=de.ie,p=de.webkit,m="data:text/mce-internal,",g=h?"Text":"URL",v=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(e){}},y=function(e){return e.isDefaultPrevented()},b=function(){t.shortcuts.add("meta+a",null,"SelectAll")},_=function(){t.on("keydown",(function(e){if(!y(e)&&e.keyCode===a&&u.isCollapsed()&&0===u.getRng().startOffset){var t=u.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))},w=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",(function(e){var n;if("HTML"===e.target.nodeName){if(11<de.ie)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}})))};return t.on("keydown",(function(e){var n,i,r,o,a;if(!y(e)&&e.keyCode===Im.BACKSPACE&&(i=(n=u.getRng()).startContainer,r=n.startOffset,o=l.getRoot(),a=i,n.collapsed&&0===r)){for(;a&&a.parentNode&&a.parentNode.firstChild===a&&a.parentNode!==o;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(t.formatter.toggle("blockquote",null,a),(n=l.createRng()).setStart(i,0),n.setEnd(i,0),u.setRng(n))}})),n=function(e){var t=l.create("body"),n=e.cloneContents();return t.appendChild(n),u.serializer.serialize(t,{format:"html"})},t.on("keydown",(function(e){var i,r,o,u,c,d=e.keyCode;if(!y(e)&&(d===s||d===a)){if(i=t.selection.isCollapsed(),r=t.getBody(),i&&!l.isEmpty(r))return;if(!i&&(o=t.selection.getRng(),u=n(o),(c=l.createRng()).selectNode(t.getBody()),u!==n(c)))return;e.preventDefault(),t.setContent(""),r.firstChild&&l.isBlock(r.firstChild)?t.selection.setCursorLocation(r.firstChild,0):t.selection.setCursorLocation(r,0),t.nodeChanged()}})),de.windowsPhone||t.on("keyup focusin mouseup",(function(e){Im.modifierPressed(e)||u.normalize()}),!0),p&&(t.settings.content_editable||l.bind(t.getDoc(),"mousedown mouseup",(function(e){var n;if(e.target===t.getDoc().documentElement)if(n=u.getRng(),t.getBody().focus(),"mousedown"===e.type){if(va(n.startContainer))return;u.placeCaretAt(e.clientX,e.clientY)}else u.setRng(n)})),t.on("click",(function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==l.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&l.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),u.select(n))})),c.forced_root_block&&t.on("init",(function(){v("DefaultParagraphSeparator",c.forced_root_block)})),t.on("init",(function(){t.dom.bind(t.getBody(),"submit",(function(e){e.preventDefault()}))})),_(),d.addNodeFilter("br",(function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),de.iOS?(t.inline||t.on("keydown",(function(){e.document.activeElement===e.document.body&&t.getWin().focus()})),w(),t.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):b()),11<=de.ie&&(w(),_()),de.ie&&(b(),v("AutoUrlDetect",!1),t.on("dragstart",(function(e){var n,i,r;(n=e).dataTransfer&&(t.selection.isCollapsed()&&"IMG"===n.target.tagName&&u.select(n.target),0<(i=t.selection.getContent()).length&&(r=m+escape(t.id)+","+escape(i),n.dataTransfer.setData(g,r)))})),t.on("drop",(function(e){if(!y(e)){var n=(o=e).dataTransfer&&(a=o.dataTransfer.getData(g))&&0<=a.indexOf(m)?(a=a.substr(23).split(","),{id:unescape(a[0]),html:unescape(a[1])}):null;if(n&&n.id!==t.id){e.preventDefault();var i=Rv(e.x,e.y,t.getDoc());u.setRng(i),r=n.html,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:r,internal:!0}):t.execCommand("mceInsertContent",!1,r)}}var r,o,a}))),f&&(t.on("keydown",(function(e){if(!y(e)&&e.keyCode===a){if(!t.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&0===u.getRng().startOffset){var n=u.getNode(),i=n.previousSibling;if("HR"===n.nodeName)return l.remove(n),void e.preventDefault();i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()&&(l.remove(i),e.preventDefault())}}})),e.Range.prototype.getClientRects||t.on("mousedown",(function(e){if(!y(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),ge.setEditorTimeout(t,(function(){n.focus()}))}})),i=function(){var e=l.getAttribs(u.getStart().cloneNode(!1));return function(){var n=u.getStart();n!==t.getBody()&&(l.setAttrib(n,"style",null),o(e,(function(e){n.setAttributeNode(e.cloneNode(!0))})))}},r=function(){return!u.isCollapsed()&&l.getParent(u.getStart(),l.isBlock)!==l.getParent(u.getEnd(),l.isBlock)},t.on("keypress",(function(e){var n;if(!y(e)&&(8===e.keyCode||46===e.keyCode)&&r())return n=i(),t.getDoc().execCommand("delete",!1,null),n(),e.preventDefault(),!1})),l.bind(t.getDoc(),"cut",(function(e){var n;!y(e)&&r()&&(n=i(),ge.setEditorTimeout(t,(function(){n()})))})),c.readonly||t.on("BeforeExecCommand MouseDown",(function(){v("StyleWithCSS",!1),v("enableInlineTableEditing",!1),c.object_resizing||v("enableObjectResizing",!1)})),t.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||o(l.select("a"),(function(e){var t=e.parentNode,n=l.getRoot();if(t.lastChild===e){for(;t&&!l.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}l.add(t,"br",{"data-mce-bogus":1})}}))})),t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),de.mac&&t.on("keydown",(function(e){!Im.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})),_()),{refreshContentEditable:function(){},isHidden:function(){var e;return!f||t.removed?0:!(e=t.selection.getSel())||!e.rangeCount||0===e.rangeCount}}}(t),t.fire("PostRender"),f.directionality&&(i.dir=f.directionality),f.nowrap&&(i.style.whiteSpace="nowrap"),f.protect&&t.on("BeforeSetContent",(function(e){Yt.each(f.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),t.on("SetContent",(function(){t.addVisual(t.getBody())})),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",(function(e){t.composing="compositionstart"===e.type})),0<t.contentStyles.length&&(r="",Yt.each(t.contentStyles,(function(e){r+=e+"\r\n"})),t.dom.addStyle(r)),(s=t,s.inline?Bb.styleSheetLoader:s.dom.styleSheetLoader).loadAll(t.contentCSS,(function(e){Vb(t)}),(function(e){Vb(t)})),f.content_style&&(l=t,u=f.content_style,c=li(l.getDoc().head),d=ai("style"),Ei(d,"type","text/css"),No(d,si(u)),No(c,d))},jb=wo.DOM,Ub=function(t,n){var i,r,o,a,s,l,u,c=t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),d=(i=t.id,r=c,o=n.height,a=function(e){return e.getParam("iframe_attrs",{})}(t),u=ai("iframe"),Ci(u,a),Ci(u,{id:i+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),function(t,n){var i=t.dom();yi(n,(function(t,n){!function(t,n,i){if(!A(i))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);wi(t)&&t.style.setProperty(n,i)}(i,n,t)}))}(u,{width:"100%",height:(s=o,l="number"==typeof s?s+"px":s,l||""),display:"block"}),u).dom();d.onload=function(){d.onload=null,t.fire("load")};var f,h,p,m,g=function(t,n){if(e.document.domain!==e.window.location.hostname&&de.ie&&de.ie<12){var i=pm("mce");t[i]=function(){$b(t)};var r='javascript:(function(){document.open();document.domain="'+e.document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+i+"(true);})()";return jb.setAttrib(n,"src",r),!0}return!1}(t,d);return t.contentAreaContainer=n.iframeContainer,t.iframeElement=d,t.iframeHTML=(m=function(e){return e.getParam("doctype","<!DOCTYPE html>")}(f=t)+"<html><head>",function(e){return e.getParam("document_base_url","")}(f)!==f.documentBaseUrl&&(m+='<base href="'+f.documentBaseURI.getURI()+'" />'),m+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',h=function(e){return Ku(e,"body_id","tinymce")}(f),p=function(e){return Ku(e,"body_class","")}(f),Xu(f)&&(m+='<meta http-equiv="Content-Security-Policy" content="'+Xu(f)+'" />'),m+='</head><body id="'+h+'" class="mce-content-body '+p+'" data-id="'+f.id+'"><br></body></html>'),jb.add(n.iframeContainer,d),g},zb=wo.DOM,qb=function(e,t,n){var i=nm.get(n),r=nm.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Yt.trim(n),i&&-1===Yt.inArray(t,n)){if(Yt.each(nm.dependencies(n),(function(n){qb(e,t,n)})),e.plugins[n])return;try{var o=new i(e,r,e.$);(e.plugins[n]=o).init&&(o.init(e,r),t.push(n))}catch(t){Qp(e,n,t)}}},Hb=function(e){return e.replace(/^\-/,"")},Gb=function(e){return{editorContainer:e,iframeContainer:e}},Wb=function(e){var t,n,i,r,o,a,s,l,u,c,d,f=e.settings,h=e.getElement();return e.orgDisplay=h.style.display,A(f.theme)?(c=(r=e).settings,d=r.getElement(),o=c.width||zb.getStyle(d,"width")||"100%",a=c.height||zb.getStyle(d,"height")||d.offsetHeight,s=c.min_height||100,(l=/^[0-9\.]+(|px)$/i).test(""+o)&&(o=Math.max(parseInt(o,10),100)),l.test(""+a)&&(a=Math.max(parseInt(a,10),s)),u=r.theme.renderUI({targetNode:d,width:o,height:a,deltaWidth:c.delta_width,deltaHeight:c.delta_height}),c.content_editable||(a=(u.iframeHeight||a)+("number"==typeof a?u.deltaHeight||0:""))<s&&(a=s),u.height=a,u):L(f.theme)?(i=(t=e).getElement(),(n=t.settings.theme(t,i)).editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:i.offsetHeight,n):function(e){var t,n,i=e.getElement();return e.inline?Gb(null):(t=i,n=zb.create("div"),zb.insertAfter(n,t),Gb(n))}(e)},Yb=function(e){var t,n,i,r,o,a,s=e.settings,l=e.getElement();return e.rtl=s.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(s.language),s.aria_label=s.aria_label||zb.getAttrib(l,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),r=(n=e).settings.theme,A(r)?(n.settings.theme=Hb(r),i=im.get(r),n.theme=new i(n,im.urls[r]),n.theme.init&&n.theme.init(n,im.urls[r]||n.documentBaseUrl.replace(/\/$/,""),n.$)):n.theme={},o=e,a=[],Yt.each(o.settings.plugins.split(/[ ,]/),(function(e){qb(o,a,Hb(e))})),t=Wb(e),e.editorContainer=t.editorContainer?t.editorContainer:null,s.content_css&&Yt.each(Yt.explode(s.content_css),(function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))})),s.content_editable?$b(e):function(e,t){var n=Ub(e,t);t.editorContainer&&(jb.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=jb.isHidden(t.editorContainer)),e.getElement().style.display="none",jb.setAttrib(e.id,"aria-hidden","true"),n||$b(e)}(e,t)},Kb=wo.DOM,Xb=function(e){return"-"===e.charAt(0)},Zb=function(t){var n=t.settings,i=t.id,r=function(){Kb.unbind(e.window,"ready",r),t.render()};if(xe.Event.domLoaded){if(t.getElement()&&de.contentEditable){n.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var o=t.getElement().form||Kb.getParent(i,"form");o&&(t.formElement=o,n.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(Kb.insertAfter(Kb.create("input",{type:"hidden",name:i}),i),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},Kb.bind(o,"submit reset",t.formEventDelegate),t.on("reset",(function(){t.setContent(t.startContent,{format:"raw"})})),!n.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),o._mceOldSubmit(o)})),t.windowManager=zp(t),t.notificationManager=Up(t),"xml"===n.encoding&&t.on("GetContent",(function(e){e.save&&(e.content=Kb.encode(e.content))})),n.add_form_submit_trigger&&t.on("submit",(function(){t.initialized&&t.save()})),n.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),function(e,t){var n=To.ScriptLoader;!function(e,t,n,i){var r=t.settings,o=r.theme;if(A(o)){if(!Xb(o)&&!im.urls.hasOwnProperty(o)){var a=r.theme_url;a?im.load(o,t.documentBaseURI.toAbsolute(a)):im.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue((function(){im.waitFor(o,i)}))}else i()}(n,e,t,(function(){var i,r,o,a,s;i=n,(o=(r=e).settings).language&&"en"!==o.language&&!o.language_url&&(o.language_url=r.editorManager.baseURL+"/langs/"+o.language+".js"),o.language_url&&!r.editorManager.i18n.data[o.language]&&i.add(o.language_url),a=e.settings,s=t,Yt.isArray(a.plugins)&&(a.plugins=a.plugins.join(" ")),Yt.each(a.external_plugins,(function(e,t){nm.load(t,e),a.plugins+=" "+t})),Yt.each(a.plugins.split(/[ ,]/),(function(e){if((e=Yt.trim(e))&&!nm.urls[e])if(Xb(e)){e=e.substr(1,e.length);var t=nm.dependencies(e);Yt.each(t,(function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+s+".js"};e=nm.createUrl(t,e),nm.load(e.resource,e)}))}else nm.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+s+".js"})})),n.loadQueue((function(){e.removed||Yb(e)}),e,(function(t){Zp(e,t[0]),e.removed||Yb(e)}))}))}(t,t.suffix)}}else Kb.bind(e.window,"ready",r)},Qb=Yt.each,Jb=Yt.trim,e_="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),t_={ftp:21,http:80,https:443,mailto:25},n_=function(t,n){var i,r,o=this;if(t=Jb(t),i=(n=o.settings=n||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))o.source=t;else{var a=0===t.indexOf("//");0!==t.indexOf("/")||a||(t=(i&&i.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(r=n.base_uri?n.base_uri.path:new n_(e.document.location.href).directory,""==n.base_uri.protocol?t="//mce_host"+o.toAbsPath(r,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(i&&i.protocol||"http")+"://mce_host"+o.toAbsPath(r,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),Qb(e_,(function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),o[e]=i})),i&&(o.protocol||(o.protocol=i.protocol),o.userInfo||(o.userInfo=i.userInfo),o.port||"mce_host"!==o.host||(o.port=i.port),o.host&&"mce_host"!==o.host||(o.host=i.host),o.source=""),a&&(o.protocol="")}};n_.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t;if("./"===e)return e;if("mce_host"!==(e=new n_(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),i=e.getURI();return n===i||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===i?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new n_(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=t_[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;i<r;i++)if(i>=n.length||e[i]!==n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=e.length||e[i]!==n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);i<r;i++)a+="../";for(i=o-1,r=n.length;i<r;i++)a+=i!==o-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var n,i,r,o=0,a=[];for(i=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),Qb(e,(function(e){e&&a.push(e)})),e=a,n=t.length-1,a=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<o?o--:a.push(t[n]):o++);return 0!==(r=(n=e.length-o)<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},n_.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},n_.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var i_=function(e,t){t(e),e.firstChild&&i_(e.firstChild,t),e.next&&i_(e.next,t)},r_=function(e){return e instanceof dv},o_=function(e,t){var n;e.dom.setHTML(e.getBody(),t),Rp(n=e)&&ql.firstPositionIn(n.getBody()).each((function(e){var t=e.getNode(),i=Mr.isTable(t)?ql.firstPositionIn(t).getOr(e):e;n.selection.setRng(i.toRange())}))},a_=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=r_(t)?"":t,r_(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),k.from(e.getBody()).fold(i(t),(function(i){return r_(t)?function(e,t,n,i){!function(e,t,n){var i=function(e,t,n){var i={},r={},o=[];for(var a in n.firstChild&&i_(n.firstChild,(function(n){q(e,(function(e){e.name===n.name&&(i[e.name]?i[e.name].nodes.push(n):i[e.name]={filter:e,nodes:[n]})})),q(t,(function(e){"string"==typeof n.attr(e.name)&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}))})),i)i.hasOwnProperty(a)&&o.push(i[a]);for(var a in r)r.hasOwnProperty(a)&&o.push(r[a]);return o}(e,t,n);q(i,(function(e){q(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))}(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var r=zu({validate:e.validate},e.schema).serialize(n);return i.content=xr(li(t))?r:Yt.trim(r),o_(e,i.content),i.no_events||e.fire("SetContent",i),n}(e,i,t,n):(r=e,o=i,s=n,0===(a=t).length||/^\s+$/.test(a)?(u='<br data-mce-bogus="1">',"TABLE"===o.nodeName?a="<tr><td>"+u+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(a="<li>"+u+"</li>"),(l=Zu(r))&&r.schema.isValidChild(o.nodeName.toLowerCase(),l.toLowerCase())?(a=u,a=r.dom.createHTML(l,r.settings.forced_root_block_attrs,a)):a||(a='<br data-mce-bogus="1">'),o_(r,a),r.fire("SetContent",s)):("raw"!==s.format&&(a=zu({validate:r.validate},r.schema).serialize(r.parser.parse(a,{isRootContent:!0,insert:!0}))),s.content=xr(li(o))?a:Yt.trim(a),o_(r,s.content),s.no_events||r.fire("SetContent",s)),s.content);var r,o,a,s,l,u}))},s_=wo.DOM,l_=function(e){return k.from(e).each((function(e){return e.destroy()}))},u_=wo.DOM,c_=Yt.extend,d_=Yt.each,f_=Yt.resolve,h_=de.ie,p_=function(e,t,n){var i,r,o,a,s,l,u,c=this,d=c.documentBaseUrl=n.documentBaseURL,f=n.baseURI;i=c,r=e,o=d,a=n.defaultSettings,s=t,u={id:r,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"40px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:(l=i).convertURL,url_converter_scope:l,ie7_compat:!0},t=function(e,t,n,i){var r,o,a,s,l,u,c,d,f,h,p,m,g=(r=["mobile"],o=bi(i,(function(e,t){return j(r,t)})),mp(o.t,o.f)),v=Yt.extend(t,n,g.settings(),(h=e,m=(p=g).settings().inline,h&&_p(p,"mobile")&&!m?(u="mobile",c=yp,f=(d=g.sections()).hasOwnProperty(u)?d[u]:{},Yt.extend({},c,f)):{}),{validate:!0,content_editable:g.settings().inline,external_plugins:(a=n,s=g.settings(),l=s.external_plugins?s.external_plugins:{},a&&a.external_plugins?Yt.extend({},a.external_plugins,l):l)});return wp(e,g,n,v)}(gp,u,a,s),c.settings=t,Oo.language=t.language||"en",Oo.languageLoad=t.language_load,Oo.baseURL=n.baseURL,c.id=e,c.setDirty(!1),c.plugins={},c.documentBaseURI=new n_(t.document_base_url,{base_uri:f}),c.baseURI=f,c.contentCSS=[],c.contentStyles=[],c.shortcuts=new Ip(c),c.loadedCSS={},c.editorCommands=new ep(c),c.suffix=n.suffix,c.editorManager=n,c.inline=t.inline,c.buttons={},c.menuItems={},t.cache_suffix&&(de.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(de.overrideViewPort=!1),n.fire("SetupEditor",{editor:c}),c.execCallback("setup",c),c.$=pn.overrideDefaults((function(){return{context:c.inline?c.getBody():c.getDoc(),element:c.getBody()}}))};c_(p_.prototype={render:function(){Zb(this)},focus:function(e){!function(e,t){e.removed||(t?Np(e):function(e){var t=e.selection,n=e.settings.content_editable,i=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable();var o,a,s=(o=e,a=t.getNode(),o.dom.getParent(a,(function(e){return"true"===o.dom.getContentEditable(e)})));if(e.$.contains(i,s))return Ap(s),Op(e,r),Np(e);void 0!==e.bookmark&&!1===Pp(e)&&Wh(e).each((function(t){e.selection.setRng(t),r=t})),n||(de.opera||Ap(i),e.getWin().focus()),(de.gecko||n)&&(Ap(i),Op(e,r)),Np(e)}(e))}(this,e)},hasFocus:function(){return Rp(this)},execCallback:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,r=this.settings[e];if(r)return this.callbackLookup&&(i=this.callbackLookup[e])&&(r=i.func,i=i.scope),"string"==typeof r&&(i=(i=r.replace(/\.\w+$/,""))?f_(i):0,r=f_(r),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:r,scope:i}),r.apply(i||this,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&Yt.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,(function(e,i){return n.data[t+"."+i]||"{#"+i+"}"}))}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return function(e,t,n,i){var r,o,a,s=t in e.settings?e.settings[t]:n;return"hash"===i?(a={},"string"==typeof(o=s)?q(0<o.indexOf("=")?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),(function(e){var t=e.split("=");1<t.length?a[Yt.trim(t[0])]=Yt.trim(t[1]):a[Yt.trim(t[0])]=Yt.trim(t)})):a=o,a):"string"===i?Sp(A,e,t).getOr(n):"number"===i?Sp(F,e,t).getOr(n):"boolean"===i?Sp(R,e,t).getOr(n):"object"===i?Sp(D,e,t).getOr(n):"array"===i?Sp(P,e,t).getOr(n):"string[]"===i?Sp((r=A,function(e){return P(e)&&Z(e,r)}),e,t).getOr(n):"function"===i?Sp(L,e,t).getOr(n):s}(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&void 0===t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return function(e,t,n){var i=e.sidebars?e.sidebars:[];i.push({name:t,settings:n}),e.sidebars=i}(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({id:pm("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(u_.show(this.getContainer()),u_.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(h_&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(u_.hide(e.getContainer()),u_.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(e=e||{}).save=!0,e.element=r,e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"===e.format&&i.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(!e.is_removing&&i.inline||(r.innerHTML=t),(n=u_.getParent(i.id,"form"))&&d_(n.elements,(function(e){if(e.name===i.id)return e.value=t,!1}))),e.element=r=null,!1!==e.set_dirty&&i.setDirty(!1),t},setContent:function(e,t){return a_(this,e,t)},getContent:function(e){return t=this,void 0===(n=e)&&(n={}),k.from(t.getBody()).fold(i("tree"===n.format?new dv("body",11):""),(function(e){return function(e,t,n){var i,r,o,a,s;if(t.format=t.format?t.format:"html",t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)i=Yt.trim(ag(e.serializer,n.innerHTML));else if("text"===t.format)i=fa(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);o=(r=e).serializer.serialize(n,t),a=Zu(r),s=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+a+">[\r\n]*|<br \\/>[\r\n]*)$"),i=o.replace(s,"")}return"text"===t.format||xr(li(n))?t.content=i:t.content=Yt.trim(i),t.no_events||e.fire("GetContent",t),t.content}(t,n,e)}));var t,n},insertContent:function(e,t){t&&(e=c_({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){var t,n;(n=e)!==function(e){return e.readonly?"readonly":"design"}(t=this)&&(t.initialized?lp(t,"readonly"===n):t.on("init",(function(){lp(t,"readonly"===n)})),function(e,t){e.fire("SwitchMode",{mode:t})}(t,n))},getContainer:function(){return this.container||(this.container=u_.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=u_.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var t,n=this,i=n.settings,r=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),d_(r.select("table,a",e),(function(e){var o;switch(e.nodeName){case"TABLE":return t=i.visual_table_class||"mce-item-table",void((o=r.getAttrib(e,"border"))&&"0"!==o||!n.hasVisual?r.removeClass(e,t):r.addClass(e,t));case"A":return void(r.getAttrib(e,"href")||(o=r.getAttrib(e,"name")||e.id,t=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(e,t):r.removeClass(e,t)))}})),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){!function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,i=e.getBody(),r=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&r&&s_.remove(r.nextSibling),function(e){e.fire("remove")}(e),e.editorManager.remove(e),!e.inline&&i&&(o=e,s_.setStyle(o.id,"display",o.orgDisplay)),function(e){e.fire("detach")}(e),s_.remove(e.getContainer()),l_(t),l_(n),e.destroy()}var o}(this)},destroy:function(e){!function(e,t){var n,i,r,o=e.selection,a=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),l_(o),l_(a)),(i=(n=e).formElement)&&(i._mceOldSubmit&&(i.submit=i._mceOldSubmit,i._mceOldSubmit=null),s_.unbind(i,"submit reset",n.formEventDelegate)),(r=e).contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null,r.selection&&(r.selection=r.selection.win=r.selection.dom=r.selection.dom.doc=null),e.destroyed=!0):e.remove())}(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},pp);var m_,g_,v_,y_={isEditorUIElement:function(e){return-1!==e.className.toString().indexOf("mce-")}},b_=function(t){var n,i,r,o=Bo((function(){Gh(t)}),0);t.inline&&(n=t,i=o,r=function(){i.throttle()},wo.DOM.bind(e.document,"mouseup",r),n.on("remove",(function(){wo.DOM.unbind(e.document,"mouseup",r)}))),t.on("init",(function(){!function(e,t){var n,i;ii.detect().browser.isIE()?(i=e).on("focusout",(function(){Gh(i)})):(n=t,e.on("mouseup touchend",(function(e){n.throttle()}))),e.on("keyup nodechange",(function(t){var n;"nodechange"===(n=t).type&&n.selectionChange||Gh(e)}))}(t,o)})),t.on("remove",(function(){o.cancel()}))},__=wo.DOM,w_=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==__.getParent(t,(function(t){return function(e){return y_.isEditorUIElement(e)}(t)||!!n&&e.dom.is(t,n)}))},S_=function(t,n){var i=n.editor;b_(i),i.on("focusin",(function(){var e=t.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),t.setActive(this),(t.focusedEditor=this).fire("focus",{blurredEditor:e}),this.focus(!0))})),i.on("focusout",(function(){var n=this;ge.setEditorTimeout(n,(function(){var i=t.focusedEditor;w_(n,function(){try{return e.document.activeElement}catch(t){return e.document.body}}())||i!==n||(n.fire("blur",{focusedEditor:null}),t.focusedEditor=null)}))})),m_||(m_=function(n){var i,r=t.activeEditor;i=n.target,r&&i.ownerDocument===e.document&&(i===e.document.body||w_(r,i)||t.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},__.bind(e.document,"focusin",m_))},E_=function(t,n){t.focusedEditor===n.editor&&(t.focusedEditor=null),t.activeEditor||(__.unbind(e.document,"focusin",m_),m_=null)},C_=wo.DOM,x_=Yt.explode,T_=Yt.each,I_=Yt.extend,k_=0,O_=!1,A_=[],D_=[],P_=function(e){var t=e.type;T_(v_.get(),(function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}}))},N_=function(e){e!==O_&&(e?pn(window).on("resize scroll",P_):pn(window).off("resize scroll",P_),O_=e)},R_=function(e){var t=D_;delete A_[e.id];for(var n=0;n<A_.length;n++)if(A_[n]===e){A_.splice(n,1);break}return D_=G(D_,(function(t){return e!==t})),v_.activeEditor===e&&(v_.activeEditor=0<D_.length?D_[0]:null),v_.focusedEditor===e&&(v_.focusedEditor=null),t.length!==D_.length};I_(v_={defaultSettings:{},$:pn,majorVersion:"4",minorVersion:"9.10",releaseDate:"2020-04-23",editors:A_,i18n:Gp,activeEditor:null,settings:{},setup:function(){var t,n,i="";n=n_.getDocumentBaseUrl(e.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var r=window.tinymce||window.tinyMCEPreInit;if(r)t=r.base||r.baseURL,i=r.suffix;else{for(var a=e.document.getElementsByTagName("script"),s=0;s<a.length;s++){var l;if(""!==(l=a[s].src||"")){var u=l.substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){-1!==u.indexOf(".min")&&(i=".min"),t=l.substring(0,l.lastIndexOf("/"));break}}}!t&&e.document.currentScript&&(-1!==(l=e.document.currentScript.src).indexOf(".min")&&(i=".min"),t=l.substring(0,l.lastIndexOf("/")))}this.baseURL=new n_(n).toAbsolute(t),this.documentBaseURL=n,this.baseURI=new n_(this.baseURL),this.suffix=i,function(e){e.on("AddEditor",o(S_,e)),e.on("RemoveEditor",o(E_,e))}(this)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new n_(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new n_(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n);var i=(this.defaultSettings=e).plugin_base_urls;for(var r in i)Oo.PluginManager.urls[r]=i[r]},init:function(t){var n,i,r=this;i=Yt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var o=function(e){var t=e.id;return t||(t=(t=e.name)&&!C_.get(t)?e.name:C_.uniqueId(),e.setAttribute("id",t)),t},a=function(e,t){return t.constructor===RegExp?t.test(e.className):C_.hasClass(e,t)},s=function(e){n=e},l=function(){var n,u=0,c=[],d=function(e,t,i){var o=new p_(e,t,r);c.push(o),o.on("init",(function(){++u===n.length&&s(c)})),o.targetElm=o.targetElm||i,o.render()};C_.unbind(window,"ready",l),function(e){var n=t[e];n&&n.apply(r,Array.prototype.slice.call(arguments,2))}("onpageload"),n=pn.unique(function(t){var n,i=[];if(de.ie&&de.ie<11)return tm("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return T_(t.types,(function(e){i=i.concat(C_.select(e.selector))})),i;if(t.selector)return C_.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":0<(n=t.elements||"").length&&T_(x_(n),(function(t){var n;(n=C_.get(t))?i.push(n):T_(e.document.forms,(function(e){T_(e.elements,(function(e){e.name===t&&(t="mce_editor_"+k_++,C_.setAttrib(e,"id",t),i.push(e))}))}))}));break;case"textareas":case"specific_textareas":T_(C_.select("textarea"),(function(e){t.editor_deselector&&a(e,t.editor_deselector)||t.editor_selector&&!a(e,t.editor_selector)||i.push(e)}))}return i}(t)),t.types?T_(t.types,(function(e){Yt.each(n,(function(n){return!C_.is(n,e.selector)||(d(o(n),I_({},t,e),n),!1)}))})):(Yt.each(n,(function(e){var t;(t=r.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(R_(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)})),0===(n=Yt.grep(n,(function(e){return!r.get(e.id)}))).length?s([]):T_(n,(function(e){var n;n=e,t.inline&&n.tagName.toLowerCase()in i?tm("Could not initialize inline editor on invalid inline target element",e):d(o(e),t,e)})))};return r.settings=t,C_.bind(window,"ready",l),new fe((function(e){n?e(n):s=function(t){e(t)}}))},get:function(e){return 0===arguments.length?D_.slice(0):A(e)?Y(D_,(function(t){return t.id===e})).getOr(null):F(e)&&D_[e]?D_[e]:null},add:function(e){var t=this;return A_[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(A_[e.id]=e),A_.push(e),D_.push(e)),N_(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),g_||(g_=function(){t.fire("BeforeUnload")},C_.bind(window,"beforeunload",g_))),e},createEditor:function(e,t){return this.add(new p_(e,t,this))},remove:function(e){var t,n,i=this;if(e){if(!A(e))return n=e,N(i.get(n.id))?null:(R_(n)&&i.fire("RemoveEditor",{editor:n}),0===D_.length&&C_.unbind(window,"beforeunload",g_),n.remove(),N_(0<D_.length),n);T_(C_.select(e),(function(e){(n=i.get(e.id))&&i.remove(n)}))}else for(t=D_.length-1;0<=t;t--)i.remove(D_[t])},execCommand:function(e,t,n){var i=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new p_(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?i.isHidden()?i.show():i.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){T_(D_,(function(e){e.save()}))},addI18n:function(e,t){Gp.add(e,t)},translate:function(e){return Gp.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},op),v_.setup();var L_,F_=v_;function M_(e){return{walk:function(t,n){return Iu(e,t,n)},split:Vf,normalize:function(t){return wh(e,t).fold(i(!1),(function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0}))}}}(L_=M_||(M_={})).compareRanges=ph,L_.getCaretRangeFromPoint=Rv,L_.getSelectedNode=Ua,L_.getNode=za;var B_,V_,$_=M_,j_=Math.min,U_=Math.max,z_=Math.round,q_=function(e,t,n){var i,r,o,a,s,l;return i=t.x,r=t.y,o=e.w,a=e.h,s=t.w,l=t.h,"b"===(n=(n||"").split(""))[0]&&(r+=l),"r"===n[1]&&(i+=s),"c"===n[0]&&(r+=z_(l/2)),"c"===n[1]&&(i+=z_(s/2)),"b"===n[3]&&(r-=a),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=z_(a/2)),"c"===n[4]&&(i-=z_(o/2)),H_(i,r,o,a)},H_=function(e,t,n,i){return{x:e,y:t,w:n,h:i}},G_={inflate:function(e,t,n){return H_(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:q_,findBestRelativePosition:function(e,t,n,i){var r,o;for(o=0;o<i.length;o++)if((r=q_(e,t,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:function(e,t){var n,i,r,o;return n=U_(e.x,t.x),i=U_(e.y,t.y),r=j_(e.x+e.w,t.x+t.w),o=j_(e.y+e.h,t.y+t.h),r-n<0||o-i<0?null:H_(n,i,r-n,o-i)},clamp:function(e,t,n){var i,r,o,a,s,l,u,c,d,f;return s=e.x,l=e.y,u=e.x+e.w,c=e.y+e.h,d=t.x+t.w,f=t.y+t.h,i=U_(0,t.x-s),r=U_(0,t.y-l),o=U_(0,u-d),a=U_(0,c-f),s+=i,l+=r,n&&(u+=i,c+=r,s-=o,l-=a),H_(s,l,(u-=o)-s,(c-=a)-l)},create:H_,fromClientRect:function(e){return H_(e.left,e.top,e.width,e.height)}},W_={},Y_={add:function(e,t){W_[e.toLowerCase()]=t},has:function(e){return!!W_[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=W_.hasOwnProperty(t)?W_[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=W_[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}},K_=Yt.each,X_=Yt.extend,Z_=function(){};Z_.extend=B_=function(e){var t,n,i,r=this.prototype,o=function(){var e,t,n;if(!V_&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)},a=function(){return this},s=function(e,t){return function(){var n,i=this._super;return this._super=r[e],n=t.apply(this,arguments),this._super=i,n}};for(n in V_=!0,t=new this,V_=!1,e.Mixins&&(K_(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),r.Mixins&&(e.Mixins=r.Mixins.concat(e.Mixins))),e.Methods&&K_(e.Methods.split(","),(function(t){e[t]=a})),e.Properties&&K_(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}})),e.Statics&&K_(e.Statics,(function(e,t){o[t]=e})),e.Defaults&&r.Defaults&&(e.Defaults=X_({},r.Defaults,e.Defaults)),e)"function"==typeof(i=e[n])&&r[n]?t[n]=s(n,i):t[n]=i;return o.prototype=t,(o.constructor=o).extend=B_,o};var Q_=Math.min,J_=Math.max,ew=Math.round,tw=function(e,t){var n,i,r,o;if(t=t||'"',null===e)return"null";if("string"==(r=typeof e))return i="\bb\tt\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,(function(e,r){return'"'===t&&"'"===e?e:(n=i.indexOf(r))+1?"\\"+i.charAt(n+1):(e=r.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)}))+t;if("object"===r){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,i="[";n<e.length;n++)i+=(0<n?",":"")+tw(e[n],t);return i+"]"}for(o in i="{",e)e.hasOwnProperty(o)&&(i+="function"!=typeof e[o]?(1<i.length?","+t:t)+o+t+":"+tw(e[o],t):"");return i+"}"}return""+e},nw={serialize:tw,parse:function(e){try{return JSON.parse(e)}catch(e){}}},iw={callbacks:{},count:0,send:function(e){var t=this,n=wo.DOM,i=void 0!==e.count?e.count:t.count,r="tinymce_jsonp_"+i;t.callbacks[i]=function(o){n.remove(r),delete t.callbacks[i],e.callback(o)},n.add(n.doc.body,"script",{id:r,src:e.url,type:"text/javascript"}),t.count++}},rw={send:function(e){var t,n=0,i=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",rw.fire("beforeInitialize",{settings:e}),t=rm()){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Yt.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)})),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=rw.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return i();setTimeout(i,10)}}};Yt.extend(rw,op);var ow,aw,sw,lw,uw=Yt.extend,cw=function(e){this.settings=uw({},e),this.count=0};cw.sendRPC=function(e){return(new cw).send(e)},cw.prototype={send:function(e){var t=e.error,n=e.success;(e=uw(this.settings,e)).success=function(i,r){void 0===(i=nw.parse(i))&&(i={error:"JSON Parse error."}),i.error?t.call(e.error_scope||e.scope,i.error,r):n.call(e.success_scope||e.scope,i.result)},e.error=function(n,i){t&&t.call(e.error_scope||e.scope,n,i)},e.data=nw.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",rw.send(e)}};try{ow=e.window.localStorage}catch(e){aw={},sw=[],lw={getItem:function(e){return aw[e]||null},setItem:function(e,t){sw.push(e),aw[e]=String(t)},key:function(e){return sw[e]},removeItem:function(e){sw=sw.filter((function(t){return t===e})),delete aw[e]},clear:function(){sw=[],aw={}},length:0},Object.defineProperty(lw,"length",{get:function(){return sw.length},configurable:!1,enumerable:!1}),ow=lw}var dw,fw=F_,hw={geom:{Rect:G_},util:{Promise:fe,Delay:ge,Tools:Yt,VK:Im,URI:n_,Class:Z_,EventDispatcher:np,Observable:op,I18n:Gp,XHR:rw,JSON:nw,JSONRequest:cw,JSONP:iw,LocalStorage:ow,Color:function(e){var t={},n=0,i=0,r=0,o=function(e){var o;return"object"==typeof e?"r"in e?(n=e.r,i=e.g,r=e.b):"v"in e&&function(e,t,o){var a,s,l,u;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,o=parseInt(o,10)/100,t=J_(0,Q_(t,1)),o=J_(0,Q_(o,1)),0!==t){switch(a=e/60,l=(s=o*t)*(1-Math.abs(a%2-1)),u=o-s,Math.floor(a)){case 0:n=s,i=l,r=0;break;case 1:n=l,i=s,r=0;break;case 2:n=0,i=s,r=l;break;case 3:n=0,i=l,r=s;break;case 4:n=l,i=0,r=s;break;case 5:n=s,i=0,r=l;break;default:n=i=r=0}n=ew(255*(n+u)),i=ew(255*(i+u)),r=ew(255*(r+u))}else n=i=r=ew(255*o)}(e.h,e.s,e.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(o[1],10),i=parseInt(o[2],10),r=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(o[1]+o[1],16),i=parseInt(o[2]+o[2],16),r=parseInt(o[3]+o[3],16)),n=n<0?0:255<n?255:n,i=i<0?0:255<i?255:i,r=r<0?0:255<r?255:r,t};return e&&o(e),t.toRgb=function(){return{r:n,g:i,b:r}},t.toHsv=function(){return e=n,t=i,o=r,s=0,(l=Q_(e/=255,Q_(t/=255,o/=255)))===(u=J_(e,J_(t,o)))?{h:0,s:0,v:100*(s=l)}:(a=(u-l)/u,{h:ew(60*((e===l?3:o===l?1:5)-(e===l?t-o:o===l?e-t:o-e)/((s=u)-l))),s:ew(100*a),v:ew(100*s)});var e,t,o,a,s,l,u},t.toHex=function(){var e=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+e(n)+e(i)+e(r)},t.parse=o,t}},dom:{EventUtils:xe,Sizzle:xt,DomQuery:pn,TreeWalker:cr,DOMUtils:wo,ScriptLoader:To,RangeUtils:$_,Serializer:Cv,ControlSelection:Dv,BookmarkManager:kv,Selection:iy,Event:xe.Event},html:{Styles:co,Entities:Zr,Node:dv,Schema:lo,SaxParser:rg,DomParser:Sv,Writer:Uu,Serializer:zu},ui:{Factory:Y_},Env:de,AddOnManager:Oo,Annotator:Pu,Formatter:Jg,UndoManager:gg,EditorCommands:ep,WindowManager:zp,NotificationManager:Up,EditorObservable:pp,Shortcuts:Ip,Editor:p_,FocusManager:y_,EditorManager:F_,DOM:wo.DOM,ScriptLoader:To.ScriptLoader,PluginManager:Oo.PluginManager,ThemeManager:Oo.ThemeManager,trim:Yt.trim,isArray:Yt.isArray,is:Yt.is,toArray:Yt.toArray,makeMap:Yt.makeMap,each:Yt.each,map:Yt.map,grep:Yt.grep,inArray:Yt.inArray,extend:Yt.extend,create:Yt.create,walk:Yt.walk,createNS:Yt.createNS,resolve:Yt.resolve,explode:Yt.explode,_addCacheSuffix:Yt._addCacheSuffix,isOpera:de.opera,isWebKit:de.webkit,isIE:de.ie,isGecko:de.gecko,isMac:de.mac},pw=fw=Yt.extend(fw,hw);dw=pw,window.tinymce=dw,window.tinyMCE=dw,function(e){if("object"==typeof module)try{module.exports=e}catch(e){}}(pw)}(window),$(document).ready((function(){$(".ajax-submit-form").length&&$(".ajax-submit-form").on("keyup keypress",(function(e){13==e.keyCode&&("textarea"!=(e.srcElement||e.target).tagName.toLowerCase()&&(e.preventDefault?e.preventDefault():e.returnValue=!1))}))})),$.fn.modal.Constructor.prototype.enforceFocus=function(){},$(".tinymce").length>0&&(tinymce.baseURL="https://master-ebomb-cdn.ebomb.edu.vn/theme/backend/js/tinymce",$(".tinymce").each((function(){var e=Math.random().toString(36).slice(-10);$(this).addClass(e),loadTinyMce(e)}))),$(document).ready((function(){var e;$.each({hr_me:'<div class="col-4">                    <a href="/hr/me" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-user-tie text-danger icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2"></div>                    </a>                </div>',hr:'<div class="col-4">                    <a href="/hr" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-users4 text-info icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">HR</div>                    </a>                </div>',lms:'<div class="col-4">                    <a href="/lms" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-book text-primary icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">LMS</div>                    </a>                </div>',finance:'<div class="col-4">                    <a href="/finance" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-cart-add2 text-pink icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">Finance</div>                    </a>                </div>',crm:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/crm" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-bubbles8 text-success icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">CRM</div>                    </a>                </div>',systems:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/systems" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-cog3 text-danger  icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">Systems</div>                    </a>                </div>',inventory:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/inventory" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-cart5 text-primary icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">Quản lý kho</div>                    </a>                </div>',pm:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/pm" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-task text-pink icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">Project manager</div>                    </a>                </div>',app:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/app" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-android text-info icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">App</div>                    </a>                </div>',authorization:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/authorization" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-user-check text-success icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">Phân quyền</div>                    </a>                </div>',"inner-training":'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/inner-training" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-spinner4 text-danger icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">Đào tạo nội bộ</div>                    </a>                </div>',"ielts-fighter":'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/ielts-fighter" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-graduation text-primary icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">IELTS Fighter</div>                    </a>                </div>',dinotech:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/dinotech" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-podium text-pink icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">Dinotech</div>                    </a>                </div>',knowledge:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/knowledge" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-question7 text-danger icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">knowledge</div>                    </a>                </div>',dtms:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/dtms" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-clipboard3 text-success icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">DTMS</div>                    </a>                </div>',"call-center":'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/call-center/me" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-phone-wave text-primary icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">Call-center</div>                    </a>                </div>',notification:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/notification" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-bell3 text-success icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">Notification</div>                    </a>                </div>',asset:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/asset" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-coins text-success icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">Tài sản</div>                    </a>                </div>',openai:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/openai" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-brain text-success icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">OpenAI</div>                    </a>                </div>',task:'<div class="col-4">                    <a href="https://erp.ebomb.edu.vn/task" class="d-block text-body text-center ripple-dark rounded p-3 load_not_ajax">                        <i class="icon-task text-success icon-2x"></i>                        <div class="font-size-sm font-weight-semibold text-uppercase mt-2">Công việc</div>                    </a>                </div>'},(function(e,t){e!=SERVICE_PATH&&$(".dropdown-menu .no-gutters").append(t)})),$(window).on("shown.bs.dropdown",(function(t){if(0!=$(t.target).parents(".datatable-fixed-left").length){e=$(t.target).find(".dropdown-menu"),$("body").append(e.detach());var n=$(t.target).offset();e.css({display:"block",top:n.top+$(t.target).outerHeight(),left:n.left})}})),$(window).on("hide.bs.dropdown",(function(t){0!=$(t.target).parents(".datatable-fixed-left").length&&($(t.target).append(e.detach()),e.hide())})),$(".notification").bind("click",(function(){$.ajax({url:"https://erp-gateway.ebomb.edu.vn/v2/hr/me/notifications",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+getCookie("imap_authen_access_token")},data:{"filter[type]":"app",limit:10},success:function(e){e&&e.forEach((function(e){var t=moment.unix(e.send_time).format("H:mm DD/MM/YYYY"),n='                                    <li class="media">                                        <div class="media-body">                                            <div class="media-title">                                                <a class="call_ajax_modal" href="https://erp.ebomb.edu.vn/hr/me/notification/'+e._id+'">                                                    <span class="font-weight-semibold">'+e.title+'</span>                                                    <span class="text-muted float-right font-size-sm">'+t+'</span>                                                </a>                                            </div>                                            <span class="text-muted">'+e.description+"</span>                                        </div>                                    </li>";$(".media-list").append(n)}))},error:function(e){console.log(e)}})})),$(".notifications-v2").bind("click",(function(){$.ajax({url:"https://erp-gateway.ebomb.edu.vn/v2/notification/me/type/app",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+getCookie("imap_authen_access_token")},data:{limit:10},success:function(e){e&&e.forEach((function(e){var t=moment.unix(e.send_time).format("H:mm DD/MM/YYYY"),n='                                    <li class="media">                                        <div class="media-body">                                            <div class="media-title">                                                <a class="call_ajax_modal" href="https://erp.ebomb.edu.vn/notification/type/app/'+e._id.$oid+'">                                                    <span class="font-weight-semibold">'+e.title+'</span>                                                    <span class="text-muted float-right font-size-sm">'+t+'</span>                                                </a>                                            </div>                                            <span class="text-muted">'+e.description+"</span>                                        </div>                                    </li>";$(".media-list").append(n)}))},error:function(e){console.log(e)}})}))})),String.prototype.moneyUnFormat=function(e,t){return this.replace(/,/gi,"")};const unique=(e,t,n)=>n.indexOf(e)===t;function setCookie(e,t,n){var i="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*1e3),i="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+i+"; path=/"}function getCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}function eraseCookie(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function delete_current_dom(e){$(e).remove()}function delete_parent(e){$(e).parent().remove()}function show_modal_message(e){$('<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">      <div class="modal-dialog modal-dialog-centered" role="document">        <div class="modal-content">          <div class="modal-body">'+e+'</div>          <div class="modal-footer">            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>          </div>        </div>      </div>    </div>').modal({backdrop:"static"})}$(document).ready((function(){$(".call_center_click_2_call").on("click",(function(){var e=$(this).data(),t=$.param(e),n=window.location.protocol+"//"+window.location.hostname+"/call-center/softphone/create?"+t;console.log(n),$('<div class="modal" id="callcenterpopup" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">            <div class="modal-dialog" style="width: 95%; height: 98%; max-width: inherit; max-height: inherit;" role="document">                <div class="modal-content" style="height: 100%">                    <div class="modal-body" style="height: 100%">                        <iframe src="'+n+'" width="100%" height="100%" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>                    </div>                </div>            </div>        </div>').modal("show")}))}));var progress_loading={show:function(e){e||(e="body"),$(e).append('<div class="card-overlay" id="progress_loading">                <div class="spinner-grow text-primary" role="status">                <span class="sr-only">Loading...</span>                </div>                <div class="spinner-grow text-secondary" role="status">                <span class="sr-only">Loading...</span>                </div>                <div class="spinner-grow text-success" role="status">                <span class="sr-only">Loading...</span>                </div>                <div class="spinner-grow text-danger" role="status">                <span class="sr-only">Loading...</span>                </div>                <div class="spinner-grow text-warning" role="status">                <span class="sr-only">Loading...</span>                </div></div>')},hide:function(){$("#progress_loading").remove()}};function getUrlParameter(e){var t,n,i=window.location.search.substring(1).split("&");for(n=0;n<i.length;n++)if((t=i[n].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1])}function goBack(){window.history.back()}function redirect(e){window.location.href=e}function redirectAjaxUrl(e){$.ajax({url:e,headers:{view:"ajax"},beforeSend:function(){},success:function(t){history.pushState({},"",e),$(".content-wrapper").remove(),$(".sidebar-secondary").remove(),$(".sidebar-right").remove(),$(".page-content").append(t),progress_loading.hide(),$(".page-content").trigger("MainContentReloaded",[])}})}function formatReplace(e,t){return e.replace(/\$\(([^\)]+)?\)/g,(function(e,n){var i=!1;if(n.startsWith("time:")&&(i=!0,n=n.slice(5)),n.indexOf(".")>0){for(var r=t,o=n.split("."),a=0;a<o.length;a++){if(void 0===r[o[a]])return"";r=r[o[a]]}return i?moment(1e3*r).format("DD/MM/YYYY HH:mm"):r}return t[n]&&"null"!=t[n]?i?moment(1e3*t[n]).format("DD/MM/YYYY HH:mm"):t[n]:""}))}function show_notify_error(e){if(null!=e&&e.constructor!=Object)try{e=JSON.parse(e)}catch(t){console.log(t),e={}}e&&void 0!==e.error&&(e.title=e.error,e.message=e.error_description);e=e||{};new PNotify({title:e.title||"Error",text:e.message||"Lỗi hệ thống, vui lòng liên hệ với system để được hỗ trợ",type:e.type||"error",styling:"bootstrap3",delay:e.time||3e3,mouse_reset:!1})}function inputCheckAll(e,t){1==e.checked?$(t).prop("checked",!0):$(t).prop("checked",!1)}function stringToSlug(e){for(var t="àáãảạăằắẳẵặâầấẩẫậèéẻẽẹêềếểễệđùúủũụưừứửữựòóỏõọôồốổỗộơờớởỡợìíỉĩịäëïîöüûñçýỳỹỵỷ",n=0;n<76;n++)e=e.replace(RegExp(t[n],"gi"),"aaaaaaaaaaaaaaaaaeeeeeeeeeeeduuuuuuuuuuuoooooooooooooooooiiiiiaeiiouuncyyyyy"[n]);return e=e.toLowerCase().trim().replace(/[^a-z0-9\-]/g,"-").replace(/-+/g,"-")}function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function validatePhone(e){return/^([0+]{1})([1-9]{1})[0-9]*$/.test(e)}$(window).on("popstate",(function(e){if(null!==e.originalEvent.state){window.location.href;location.reload()}}));
